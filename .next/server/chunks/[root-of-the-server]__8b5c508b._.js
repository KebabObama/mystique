module.exports=[75685,e=>{"use strict";async function t(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}e.s(["edgeInstrumentationOnRequestError",()=>i,"ensureInstrumentationRegistered",()=>a]);let r=null;async function n(){if("phase-production-build"===process.env.NEXT_PHASE)return;r||(r=t());let e=await r;if(null==e?void 0:e.register)try{await e.register()}catch(e){throw e.message=`An error occurred while loading instrumentation hook: ${e.message}`,e}}async function i(...e){let r=await t();try{var n;await (null==r||null==(n=r.onRequestError)?void 0:n.call(r,...e))}catch(e){console.error("Error in instrumentation.onRequestError:",e)}}let s=null;function a(){return s||(s=n()),s}},9254,(e,t,r)=>{"use strict";var n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.prototype.hasOwnProperty,o={};function u(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function l(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function c(e){if(!e)return;let[[t,r],...n]=l(e),{domain:i,expires:s,httponly:a,maxage:o,path:u,samesite:c,secure:f,partitioned:h,priority:m}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var g,y,_={name:t,value:decodeURIComponent(r),domain:i,...s&&{expires:new Date(s)},...a&&{httpOnly:!0},..."string"==typeof o&&{maxAge:Number(o)},path:u,...c&&{sameSite:d.includes(g=(g=c).toLowerCase())?g:void 0},...f&&{secure:!0},...m&&{priority:p.includes(y=(y=m).toLowerCase())?y:void 0},...h&&{partitioned:!0}};let e={};for(let t in _)_[t]&&(e[t]=_[t]);return e}}((e,t)=>{for(var r in t)n(e,r,{get:t[r],enumerable:!0})})(o,{RequestCookies:()=>f,ResponseCookies:()=>h,parseCookie:()=>l,parseSetCookie:()=>c,stringifyCookie:()=>u}),t.exports=((e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let u of s(t))a.call(e,u)||u===r||n(e,u,{get:()=>t[u],enumerable:!(o=i(t,u))||o.enumerable});return e})(n({},"__esModule",{value:!0}),o);var d=["strict","lax","none"],p=["low","medium","high"],f=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of l(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>u(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>u(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},h=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,s,a=[],o=0;function u(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;u();)if(","===(r=e.charAt(o))){for(n=o,o+=1,u(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}(i)){let t=c(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=u(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(u).join("; ")}}},31387,(e,t,r)=>{(()=>{"use strict";var r={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;let n=r(223),i=r(172),s=r(930),a="context",o=new n.NoopContextManager;class u{constructor(){}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalContextManager(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,i.getGlobal)(a)||o}disable(){this._getContextManager().disable(),(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.ContextAPI=u},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;let n=r(56),i=r(912),s=r(957),a=r(172);class o{constructor(){function e(e){return function(...t){let r=(0,a.getGlobal)("diag");if(r)return r[e](...t)}}let t=this;t.setLogger=(e,r={logLevel:s.DiagLogLevel.INFO})=>{var n,o,u;if(e===t){let e=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!=(n=e.stack)?n:e.message),!1}"number"==typeof r&&(r={logLevel:r});let l=(0,a.getGlobal)("diag"),c=(0,i.createLogLevelDiagLogger)(null!=(o=r.logLevel)?o:s.DiagLogLevel.INFO,e);if(l&&!r.suppressOverrideMessage){let e=null!=(u=Error().stack)?u:"<failed to generate stacktrace>";l.warn(`Current logger will be overwritten from ${e}`),c.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,a.registerGlobal)("diag",c,t,!0)},t.disable=()=>{(0,a.unregisterGlobal)("diag",t)},t.createComponentLogger=e=>new n.DiagComponentLogger(e),t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}static instance(){return this._instance||(this._instance=new o),this._instance}}t.DiagAPI=o},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;let n=r(660),i=r(172),s=r(930),a="metrics";class o{constructor(){}static getInstance(){return this._instance||(this._instance=new o),this._instance}setGlobalMeterProvider(e){return(0,i.registerGlobal)(a,e,s.DiagAPI.instance())}getMeterProvider(){return(0,i.getGlobal)(a)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,i.unregisterGlobal)(a,s.DiagAPI.instance())}}t.MetricsAPI=o},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;let n=r(172),i=r(874),s=r(194),a=r(277),o=r(369),u=r(930),l="propagation",c=new i.NoopTextMapPropagator;class d{constructor(){this.createBaggage=o.createBaggage,this.getBaggage=a.getBaggage,this.getActiveBaggage=a.getActiveBaggage,this.setBaggage=a.setBaggage,this.deleteBaggage=a.deleteBaggage}static getInstance(){return this._instance||(this._instance=new d),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(l,e,u.DiagAPI.instance())}inject(e,t,r=s.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=s.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(l,u.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(l)||c}}t.PropagationAPI=d},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;let n=r(172),i=r(846),s=r(139),a=r(607),o=r(930),u="trace";class l{constructor(){this._proxyTracerProvider=new i.ProxyTracerProvider,this.wrapSpanContext=s.wrapSpanContext,this.isSpanContextValid=s.isSpanContextValid,this.deleteSpan=a.deleteSpan,this.getSpan=a.getSpan,this.getActiveSpan=a.getActiveSpan,this.getSpanContext=a.getSpanContext,this.setSpan=a.setSpan,this.setSpanContext=a.setSpanContext}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalTracerProvider(e){let t=(0,n.registerGlobal)(u,this._proxyTracerProvider,o.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(u)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(u,o.DiagAPI.instance()),this._proxyTracerProvider=new i.ProxyTracerProvider}}t.TraceAPI=l},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;let n=r(491),i=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function s(e){return e.getValue(i)||void 0}t.getBaggage=s,t.getActiveBaggage=function(){return s(n.ContextAPI.getInstance().active())},t.setBaggage=function(e,t){return e.setValue(i,t)},t.deleteBaggage=function(e){return e.deleteValue(i)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class r{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){let t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map(([e,t])=>[e,t])}setEntry(e,t){let n=new r(this._entries);return n._entries.set(e,t),n}removeEntry(e){let t=new r(this._entries);return t._entries.delete(e),t}removeEntries(...e){let t=new r(this._entries);for(let r of e)t._entries.delete(r);return t}clear(){return new r}}t.BaggageImpl=r},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;let n=r(930),i=r(993),s=r(830),a=n.DiagAPI.instance();t.createBaggage=function(e={}){return new i.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function(e){return"string"!=typeof e&&(a.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:s.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0,t.context=r(491).ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;let n=r(780);t.NoopContextManager=class{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function(e){return Symbol.for(e)};class r{constructor(e){let t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,n)=>{let i=new r(t._currentContext);return i._currentContext.set(e,n),i},t.deleteValue=e=>{let n=new r(t._currentContext);return n._currentContext.delete(e),n}}}t.ROOT_CONTEXT=new r},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0,t.diag=r(930).DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;let n=r(172);function i(e,t,r){let i=(0,n.getGlobal)("diag");if(i)return r.unshift(t),i[e](...r)}t.DiagComponentLogger=class{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return i("debug",this._namespace,e)}error(...e){return i("error",this._namespace,e)}info(...e){return i("info",this._namespace,e)}warn(...e){return i("warn",this._namespace,e)}verbose(...e){return i("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;let r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class{constructor(){for(let e=0;e<r.length;e++)this[r[e].n]=function(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;let n=r(957);t.createLogLevelDiagLogger=function(e,t){function r(r,n){let i=t[r];return"function"==typeof i&&e>=n?i.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:r("error",n.DiagLogLevel.ERROR),warn:r("warn",n.DiagLogLevel.WARN),info:r("info",n.DiagLogLevel.INFO),debug:r("debug",n.DiagLogLevel.DEBUG),verbose:r("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;let n=r(200),i=r(521),s=r(130),a=i.VERSION.split(".")[0],o=Symbol.for(`opentelemetry.js.api.${a}`),u=n._globalThis;t.registerGlobal=function(e,t,r,n=!1){var s;let a=u[o]=null!=(s=u[o])?s:{version:i.VERSION};if(!n&&a[e]){let t=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(a.version!==i.VERSION){let t=Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${i.VERSION}`);return r.error(t.stack||t.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${i.VERSION}.`),!0},t.getGlobal=function(e){var t,r;let n=null==(t=u[o])?void 0:t.version;if(n&&(0,s.isCompatible)(n))return null==(r=u[o])?void 0:r[e]},t.unregisterGlobal=function(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${i.VERSION}.`);let r=u[o];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;let n=r(521),i=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function s(e){let t=new Set([e]),r=new Set,n=e.match(i);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=s.prerelease)return function(t){return t===e};function a(e){return r.add(e),!1}return function(e){if(t.has(e))return!0;if(r.has(e))return!1;let n=e.match(i);if(!n)return a(e);let o={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(null!=o.prerelease||s.major!==o.major)return a(e);if(0===s.major)return s.minor===o.minor&&s.patch<=o.patch?(t.add(e),!0):a(e);return s.minor<=o.minor?(t.add(e),!0):a(e)}}t._makeCompatibilityCheck=s,t.isCompatible=s(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0,t.metrics=r(653).MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class r{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=r;class n{}t.NoopMetric=n;class i extends n{add(e,t){}}t.NoopCounterMetric=i;class s extends n{add(e,t){}}t.NoopUpDownCounterMetric=s;class a extends n{record(e,t){}}t.NoopHistogramMetric=a;class o{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=o;class u extends o{}t.NoopObservableCounterMetric=u;class l extends o{}t.NoopObservableGaugeMetric=l;class c extends o{}t.NoopObservableUpDownCounterMetric=c,t.NOOP_METER=new r,t.NOOP_COUNTER_METRIC=new i,t.NOOP_HISTOGRAM_METRIC=new a,t.NOOP_UP_DOWN_COUNTER_METRIC=new s,t.NOOP_OBSERVABLE_COUNTER_METRIC=new u,t.NOOP_OBSERVABLE_GAUGE_METRIC=new l,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new c,t.createNoopMeter=function(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;let n=r(102);class i{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=i,t.NOOP_METER_PROVIDER=new i},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46),t)},651:(t,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis="object"==typeof globalThis?globalThis:e.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0,t.propagation=r(181).PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0,t.NoopTextMapPropagator=class{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0,t.trace=r(997).TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;let n=r(476);t.NonRecordingSpan=class{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;let n=r(491),i=r(607),s=r(403),a=r(139),o=n.ContextAPI.getInstance();t.NoopTracer=class{startSpan(e,t,r=o.active()){var n;if(null==t?void 0:t.root)return new s.NonRecordingSpan;let u=r&&(0,i.getSpanContext)(r);return"object"==typeof(n=u)&&"string"==typeof n.spanId&&"string"==typeof n.traceId&&"number"==typeof n.traceFlags&&(0,a.isSpanContextValid)(u)?new s.NonRecordingSpan(u):new s.NonRecordingSpan}startActiveSpan(e,t,r,n){let s,a,u;if(arguments.length<2)return;2==arguments.length?u=t:3==arguments.length?(s=t,u=r):(s=t,a=r,u=n);let l=null!=a?a:o.active(),c=this.startSpan(e,s,l),d=(0,i.setSpan)(l,c);return o.with(d,u,void 0,c)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;let n=r(614);t.NoopTracerProvider=class{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;let n=new(r(614)).NoopTracer;t.ProxyTracer=class{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){let i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)}_getTracer(){if(this._delegate)return this._delegate;let e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):n}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;let n=r(125),i=new(r(124)).NoopTracerProvider;t.ProxyTracerProvider=class{getTracer(e,t,r){var i;return null!=(i=this.getDelegateTracer(e,t,r))?i:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!=(e=this._delegate)?e:i}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null==(n=this._delegate)?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;let n=r(780),i=r(403),s=r(491),a=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function o(e){return e.getValue(a)||void 0}function u(e,t){return e.setValue(a,t)}t.getSpan=o,t.getActiveSpan=function(){return o(s.ContextAPI.getInstance().active())},t.setSpan=u,t.deleteSpan=function(e){return e.deleteValue(a)},t.setSpanContext=function(e,t){return u(e,new i.NonRecordingSpan(t))},t.getSpanContext=function(e){var t;return null==(t=o(e))?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;let n=r(564);class i{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){let r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){let t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce((e,t)=>(e.push(t+"="+this.get(t)),e),[]).join(",")}_parse(e){!(e.length>512)&&(this._internalState=e.split(",").reverse().reduce((e,t)=>{let r=t.trim(),i=r.indexOf("=");if(-1!==i){let s=r.slice(0,i),a=r.slice(i+1,t.length);(0,n.validateKey)(s)&&(0,n.validateValue)(a)&&e.set(s,a)}return e},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let e=new i;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=i},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;let r="[_0-9a-z-*/]",n=`[a-z]${r}{0,255}`,i=`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`,s=RegExp(`^(?:${n}|${i})$`),a=/^[ -~]{0,255}[!-~]$/,o=/,|=/;t.validateKey=function(e){return s.test(e)},t.validateValue=function(e){return a.test(e)&&!o.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;let n=r(325);t.createTraceState=function(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;let n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;let n=r(476),i=r(403),s=/^([0-9a-f]{32})$/i,a=/^[0-9a-f]{16}$/i;function o(e){return s.test(e)&&e!==n.INVALID_TRACEID}function u(e){return a.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=o,t.isValidSpanId=u,t.isSpanContextValid=function(e){return o(e.traceId)&&u(e.spanId)},t.wrapSpanContext=function(e){return new i.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}},a=!0;try{r[e].call(s.exports,s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="/ROOT/node_modules/next/dist/compiled/@opentelemetry/api/";var s={};(()=>{Object.defineProperty(s,"__esModule",{value:!0}),s.trace=s.propagation=s.metrics=s.diag=s.context=s.INVALID_SPAN_CONTEXT=s.INVALID_TRACEID=s.INVALID_SPANID=s.isValidSpanId=s.isValidTraceId=s.isSpanContextValid=s.createTraceState=s.TraceFlags=s.SpanStatusCode=s.SpanKind=s.SamplingDecision=s.ProxyTracerProvider=s.ProxyTracer=s.defaultTextMapSetter=s.defaultTextMapGetter=s.ValueType=s.createNoopMeter=s.DiagLogLevel=s.DiagConsoleLogger=s.ROOT_CONTEXT=s.createContextKey=s.baggageEntryMetadataFromString=void 0;var e=i(369);Object.defineProperty(s,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return e.baggageEntryMetadataFromString}});var t=i(780);Object.defineProperty(s,"createContextKey",{enumerable:!0,get:function(){return t.createContextKey}}),Object.defineProperty(s,"ROOT_CONTEXT",{enumerable:!0,get:function(){return t.ROOT_CONTEXT}});var r=i(972);Object.defineProperty(s,"DiagConsoleLogger",{enumerable:!0,get:function(){return r.DiagConsoleLogger}});var n=i(957);Object.defineProperty(s,"DiagLogLevel",{enumerable:!0,get:function(){return n.DiagLogLevel}});var a=i(102);Object.defineProperty(s,"createNoopMeter",{enumerable:!0,get:function(){return a.createNoopMeter}});var o=i(901);Object.defineProperty(s,"ValueType",{enumerable:!0,get:function(){return o.ValueType}});var u=i(194);Object.defineProperty(s,"defaultTextMapGetter",{enumerable:!0,get:function(){return u.defaultTextMapGetter}}),Object.defineProperty(s,"defaultTextMapSetter",{enumerable:!0,get:function(){return u.defaultTextMapSetter}});var l=i(125);Object.defineProperty(s,"ProxyTracer",{enumerable:!0,get:function(){return l.ProxyTracer}});var c=i(846);Object.defineProperty(s,"ProxyTracerProvider",{enumerable:!0,get:function(){return c.ProxyTracerProvider}});var d=i(996);Object.defineProperty(s,"SamplingDecision",{enumerable:!0,get:function(){return d.SamplingDecision}});var p=i(357);Object.defineProperty(s,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var f=i(847);Object.defineProperty(s,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var h=i(475);Object.defineProperty(s,"TraceFlags",{enumerable:!0,get:function(){return h.TraceFlags}});var m=i(98);Object.defineProperty(s,"createTraceState",{enumerable:!0,get:function(){return m.createTraceState}});var g=i(139);Object.defineProperty(s,"isSpanContextValid",{enumerable:!0,get:function(){return g.isSpanContextValid}}),Object.defineProperty(s,"isValidTraceId",{enumerable:!0,get:function(){return g.isValidTraceId}}),Object.defineProperty(s,"isValidSpanId",{enumerable:!0,get:function(){return g.isValidSpanId}});var y=i(476);Object.defineProperty(s,"INVALID_SPANID",{enumerable:!0,get:function(){return y.INVALID_SPANID}}),Object.defineProperty(s,"INVALID_TRACEID",{enumerable:!0,get:function(){return y.INVALID_TRACEID}}),Object.defineProperty(s,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return y.INVALID_SPAN_CONTEXT}});let _=i(67);Object.defineProperty(s,"context",{enumerable:!0,get:function(){return _.context}});let b=i(506);Object.defineProperty(s,"diag",{enumerable:!0,get:function(){return b.diag}});let v=i(886);Object.defineProperty(s,"metrics",{enumerable:!0,get:function(){return v.metrics}});let E=i(939);Object.defineProperty(s,"propagation",{enumerable:!0,get:function(){return E.propagation}});let S=i(845);Object.defineProperty(s,"trace",{enumerable:!0,get:function(){return S.trace}}),s.default={context:_.context,diag:b.diag,metrics:v.metrics,propagation:E.propagation,trace:S.trace}})(),t.exports=s})()},62712,(e,t,r)=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="/ROOT/node_modules/next/dist/compiled/cookie/");var e={};(()=>{e.parse=function(e,r){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},s=e.split(n),a=(r||{}).decode||t,o=0;o<s.length;o++){var u=s[o],l=u.indexOf("=");if(!(l<0)){var c=u.substr(0,l).trim(),d=u.substr(++l,u.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==i[c]&&(i[c]=function(e,t){try{return t(e)}catch(t){return e}}(d,a))}}return i},e.serialize=function(e,t,n){var s=n||{},a=s.encode||r;if("function"!=typeof a)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var o=a(t);if(o&&!i.test(o))throw TypeError("argument val is invalid");var u=e+"="+o;if(null!=s.maxAge){var l=s.maxAge-0;if(isNaN(l)||!isFinite(l))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(s.domain){if(!i.test(s.domain))throw TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!i.test(s.path))throw TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(u+="; HttpOnly"),s.secure&&(u+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var t=decodeURIComponent,r=encodeURIComponent,n=/; */,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),t.exports=e})()},47413,(e,t,r)=>{(()=>{"use strict";var e={993:e=>{var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,s||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],o]:e._events[u].push(o):(e._events[u]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var u,l,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,s),!0;case 6:return c.fn.call(c.context,t,n,i,s,a),!0}for(l=1,u=Array(d-1);l<d;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var p,f=c.length;for(l=0;l<f;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,i);break;default:if(!u)for(p=1,u=Array(d-1);p<d;p++)u[p-1]=arguments[p];c[l].fn.apply(c[l].context,u)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var u=0,l=[],c=o.length;u<c;u++)(o[u].fn!==t||i&&!o[u].once||n&&o[u].context!==n)&&l.push(o[u]);l.length?this._events[s]=1===l.length?l[0]:l:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},213:e=>{e.exports=(e,t)=>(t=t||(()=>{}),e.then(e=>new Promise(e=>{e(t())}).then(()=>e),e=>new Promise(e=>{e(t())}).then(()=>{throw e})))},574:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let n=0,i=e.length;for(;i>0;){let s=i/2|0,a=n+s;0>=r(e[a],t)?(n=++a,i-=s+1):i=s}return n}},821:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});let n=r(574);t.default=class{constructor(){this._queue=[]}enqueue(e,t){let r={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(r);let i=n.default(this._queue,r,(e,t)=>t.priority-e.priority);this._queue.splice(i,0,r)}dequeue(){let e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(e=>e.run)}get size(){return this._queue.length}}},816:(e,t,r)=>{let n=r(213);class i extends Error{constructor(e){super(e),this.name="TimeoutError"}}let s=(e,t,r)=>new Promise((s,a)=>{if("number"!=typeof t||t<0)throw TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void s(e);let o=setTimeout(()=>{if("function"==typeof r){try{s(r())}catch(e){a(e)}return}let n="string"==typeof r?r:`Promise timed out after ${t} milliseconds`,o=r instanceof Error?r:new i(n);"function"==typeof e.cancel&&e.cancel(),a(o)},t);n(e.then(s,a),()=>{clearTimeout(o)})});e.exports=s,e.exports.default=s,e.exports.TimeoutError=i}},r={};function n(t){var i=r[t];if(void 0!==i)return i.exports;var s=r[t]={exports:{}},a=!0;try{e[t](s,s.exports,n),a=!1}finally{a&&delete r[t]}return s.exports}n.ab="/ROOT/node_modules/next/dist/compiled/p-queue/";var i={};(()=>{Object.defineProperty(i,"__esModule",{value:!0});let e=n(993),t=n(816),r=n(821),s=()=>{},a=new t.TimeoutError;i.default=class extends e{constructor(e){var t,n,i,a;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:r.default},e)).intervalCap&&e.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(n=null==(t=e.intervalCap)?void 0:t.toString())?n:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(a=null==(i=e.interval)?void 0:i.toString())?a:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(void 0===this._intervalId){let t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,r={}){return new Promise((n,i)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let s=void 0===this._timeout&&void 0===r.timeout?e():t.default(Promise.resolve(e()),void 0===r.timeout?this._timeout:r.timeout,()=>{(void 0===r.throwOnTimeout?this._throwOnTimeout:r.throwOnTimeout)&&i(a)});n(await s)}catch(e){i(e)}this._next()};this._queue.enqueue(s,r),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async e=>this.add(e,t)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}})(),t.exports=i})()},4748,(e,t,r)=>{t.exports=e.x("next/dist/server/lib/cache-handlers/default.external.js",()=>require("next/dist/server/lib/cache-handlers/default.external.js"))},78500,(e,t,r)=>{t.exports=e.x("node:async_hooks",()=>require("node:async_hooks"))},22947,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{getTestReqInfo:function(){return a},withRequest:function(){return s}});let n=new(e.r(78500)).AsyncLocalStorage;function i(e,t){let r=t.header(e,"next-test-proxy-port");if(!r)return;let n=t.url(e);return{url:n,proxyPort:Number(r),testData:t.header(e,"next-test-data")||""}}function s(e,t,r){let s=i(e,t);return s?n.run(s,r):r()}function a(e,t){let r=n.getStore();return r||(e&&t?i(e,t):void 0)}},49883,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{handleFetch:function(){return a},interceptFetch:function(){return o},reader:function(){return i}});let n=e.r(22947),i={url:e=>e.url,header:(e,t)=>e.headers.get(t)};async function s(e,t){let{url:r,method:n,headers:i,body:s,cache:a,credentials:o,integrity:u,mode:l,redirect:c,referrer:d,referrerPolicy:p}=t;return{testData:e,api:"fetch",request:{url:r,method:n,headers:[...Array.from(i),["next-test-stack",function(){let e=(Error().stack??"").split("\n");for(let t=1;t<e.length;t++)if(e[t].length>0){e=e.slice(t);break}return(e=(e=(e=e.filter(e=>!e.includes("/next/dist/"))).slice(0,5)).map(e=>e.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:s?Buffer.from(await t.arrayBuffer()).toString("base64"):null,cache:a,credentials:o,integrity:u,mode:l,redirect:c,referrer:d,referrerPolicy:p}}}async function a(e,t){let r=(0,n.getTestReqInfo)(t,i);if(!r)return e(t);let{testData:a,proxyPort:o}=r,u=await s(a,t),l=await e(`http://localhost:${o}`,{method:"POST",body:JSON.stringify(u),next:{internal:!0}});if(!l.ok)throw Object.defineProperty(Error(`Proxy request failed: ${l.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let c=await l.json(),{api:d}=c;switch(d){case"continue":return e(t);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${t.method} ${t.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:p,headers:f,body:h}=c.response;return new Response(h?Buffer.from(h,"base64"):null,{status:p,headers:new Headers(f)});default:return d}}function o(t){return e.g.fetch=function(e,r){var n;return(null==r||null==(n=r.next)?void 0:n.internal)?t(e,r):a(t,new Request(e,r))},()=>{e.g.fetch=t}}},76532,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{interceptTestApis:function(){return s},wrapRequestHandler:function(){return a}});let n=e.r(22947),i=e.r(49883);function s(){return(0,i.interceptFetch)(e.g.fetch)}function a(e){return(t,r)=>(0,n.withRequest)(t,i.reader,()=>e(t,r))}},23379,e=>{"use strict";let t;e.s(["adapter",()=>eQ],23379);class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let s="_N_T_",a={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function o(e){var t,r,n,i,s,a=[],o=0;function u(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;u();)if(","===(r=e.charAt(o))){for(n=o,o+=1,u(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function u(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...o(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function l(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...a,GROUP:{builtinReact:[a.reactServerComponents,a.actionBrowser],serverOnly:[a.reactServerComponents,a.actionBrowser,a.instrument,a.middleware],neutralTarget:[a.apiNode,a.apiEdge],clientOnly:[a.serverSideRendering,a.appPagesBrowser],bundled:[a.reactServerComponents,a.actionBrowser,a.serverSideRendering,a.appPagesBrowser,a.shared,a.instrument,a.middleware],appPages:[a.reactServerComponents,a.serverSideRendering,a.appPagesBrowser,a.actionBrowser]}});let c=Symbol("response"),d=Symbol("passThrough"),p=Symbol("waitUntil");class f{constructor(e,t){this[d]=!1,this[p]=t?{kind:"external",function:t}:{kind:"internal",promises:[]}}respondWith(e){this[c]||(this[c]=Promise.resolve(e))}passThroughOnException(){this[d]=!0}waitUntil(e){if("external"===this[p].kind)return(0,this[p].function)(e);this[p].promises.push(e)}}class h extends f{constructor(e){var t;super(e.request,null==(t=e.context)?void 0:t.waitUntil),this.sourcePage=e.page}get request(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function m(e){return e.replace(/\/$/,"")||"/"}function g(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}function y(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=g(e);return""+t+r+n+i}function _(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:n,hash:i}=g(e);return""+r+t+n+i}function b(e,t){if("string"!=typeof e)return!1;let{pathname:r}=g(e);return r===t||r.startsWith(t+"/")}let v=new WeakMap;function E(e,t){let r;if(!t)return{pathname:e};let n=v.get(t);n||(n=t.map(e=>e.toLowerCase()),v.set(t,n));let i=e.split("/",2);if(!i[1])return{pathname:e};let s=i[1].toLowerCase(),a=n.indexOf(s);return a<0?{pathname:e}:(r=t[a],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}let S=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function w(e,t){return new URL(String(e).replace(S,"localhost"),t&&String(t).replace(S,"localhost"))}let R=Symbol("NextURLInternal");class O{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[R]={url:w(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,n,i;let s=function(e,t){var r,n;let{basePath:i,i18n:s,trailingSlash:a}=null!=(r=t.nextConfig)?r:{},o={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):a};i&&b(o.pathname,i)&&(o.pathname=function(e,t){if(!b(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}(o.pathname,i),o.basePath=i);let u=o.pathname;if(o.pathname.startsWith("/_next/data/")&&o.pathname.endsWith(".json")){let e=o.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");o.buildId=e[0],u="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(o.pathname=u)}if(s){let e=t.i18nProvider?t.i18nProvider.analyze(o.pathname):E(o.pathname,s.locales);o.locale=e.detectedLocale,o.pathname=null!=(n=e.pathname)?n:o.pathname,!e.detectedLocale&&o.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(u):E(u,s.locales)).detectedLocale&&(o.locale=e.detectedLocale)}return o}(this[R].url.pathname,{nextConfig:this[R].options.nextConfig,parseData:!0,i18nProvider:this[R].options.i18nProvider}),a=function(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[R].url,this[R].options.headers);this[R].domainLocale=this[R].options.i18nProvider?this[R].options.i18nProvider.detectDomainLocale(a):function(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=s.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(i=s.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return s}}(null==(t=this[R].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,a);let o=(null==(r=this[R].domainLocale)?void 0:r.defaultLocale)||(null==(i=this[R].options.nextConfig)||null==(n=i.i18n)?void 0:n.defaultLocale);this[R].url.pathname=s.pathname,this[R].defaultLocale=o,this[R].basePath=s.basePath??"",this[R].buildId=s.buildId,this[R].locale=s.locale??o,this[R].trailingSlash=s.trailingSlash}formatPathname(){var e;let t;return t=function(e,t,r,n){if(!t||t===r)return e;let i=e.toLowerCase();return!n&&(b(i,"/api")||b(i,"/"+t.toLowerCase()))?e:y(e,"/"+t)}((e={basePath:this[R].basePath,buildId:this[R].buildId,defaultLocale:this[R].options.forceLocale?void 0:this[R].defaultLocale,locale:this[R].locale,pathname:this[R].url.pathname,trailingSlash:this[R].trailingSlash}).pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix),(e.buildId||!e.trailingSlash)&&(t=m(t)),e.buildId&&(t=_(y(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=y(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:_(t,"/"):m(t)}formatSearch(){return this[R].url.search}get buildId(){return this[R].buildId}set buildId(e){this[R].buildId=e}get locale(){return this[R].locale??""}set locale(e){var t,r;if(!this[R].locale||!(null==(r=this[R].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[R].locale=e}get defaultLocale(){return this[R].defaultLocale}get domainLocale(){return this[R].domainLocale}get searchParams(){return this[R].url.searchParams}get host(){return this[R].url.host}set host(e){this[R].url.host=e}get hostname(){return this[R].url.hostname}set hostname(e){this[R].url.hostname=e}get port(){return this[R].url.port}set port(e){this[R].url.port=e}get protocol(){return this[R].url.protocol}set protocol(e){this[R].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[R].url=w(e),this.analyze()}get origin(){return this[R].url.origin}get pathname(){return this[R].url.pathname}set pathname(e){this[R].url.pathname=e}get hash(){return this[R].url.hash}set hash(e){this[R].url.hash=e}get search(){return this[R].url.search}set search(e){this[R].url.search=e}get password(){return this[R].url.password}set password(e){this[R].url.password=e}get username(){return this[R].url.username}set username(e){this[R].url.username=e}get basePath(){return this[R].basePath}set basePath(e){this[R].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new O(String(this),this[R].options)}}var A=e.i(9254);let T=Symbol("internal request");class I extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);l(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let n=new O(r,{headers:u(this.headers),nextConfig:t.nextConfig});this[T]={cookies:new A.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[T].cookies}get nextUrl(){return this[T].nextUrl}get page(){throw new n}get ua(){throw new i}get url(){return this[T].url}}class C{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}let N=Symbol("internal response"),P=new Set([301,302,303,307,308]);function x(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class D extends Response{constructor(e,t={}){super(e,t);let r=this.headers,n=new Proxy(new A.ResponseCookies(r),{get(e,n,i){switch(n){case"delete":case"set":return(...i)=>{let s=Reflect.apply(e[n],e,i),a=new Headers(r);return s instanceof A.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,A.stringifyCookie)(e)).join(",")),x(t,a),s};default:return C.get(e,n,i)}}});this[N]={cookies:n,url:t.url?new O(t.url,{headers:u(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[N].cookies}static json(e,t){let r=Response.json(e,t);return new D(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!P.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",l(e)),new D(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",l(e)),x(t,r),new D(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),x(e,t),new D(null,{...e,headers:t})}}function k(e,t){let r="string"==typeof t?new URL(t):t,n=new URL(e,t),i=n.origin===r.origin;return{url:i?n.toString().slice(r.origin.length):n.toString(),isRelative:i}}let L="next-router-prefetch",M=["rsc","next-router-state-tree",L,"next-hmr-refresh","next-router-segment-prefetch"],$="_rsc";var U=e.i(75685);class j extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new j}}class B extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,n){if("symbol"==typeof r)return C.get(t,r,n);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);if(void 0!==s)return C.get(t,s,n)},set(t,r,n,i){if("symbol"==typeof r)return C.set(t,r,n,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);return C.set(t,a??r,n,i)},has(t,r){if("symbol"==typeof r)return C.has(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0!==i&&C.has(t,i)},deleteProperty(t,r){if("symbol"==typeof r)return C.deleteProperty(t,r);let n=r.toLowerCase(),i=Object.keys(e).find(e=>e.toLowerCase()===n);return void 0===i||C.deleteProperty(t,i)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return j.callable;default:return C.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new B(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}var z=e.i(56704);class q extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new q}}class K{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return q.callable;default:return C.get(e,t,r)}}})}}let F=Symbol.for("next.mutated.cookies");class Y{static wrap(e,t){let r=new A.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let n=[],i=new Set,s=()=>{let e=z.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),n=r.getAll().filter(e=>i.has(e.name)),t){let e=[];for(let t of n){let r=new A.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},a=new Proxy(r,{get(e,t,r){switch(t){case F:return n;case"delete":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),a}finally{s()}};case"set":return function(...t){i.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),a}finally{s()}};default:return C.get(e,t,r)}}});return a}}function V(e,t){if("action"!==e.phase)throw new q}var G=function(e){return e.handleRequest="BaseServer.handleRequest",e.run="BaseServer.run",e.pipe="BaseServer.pipe",e.getStaticHTML="BaseServer.getStaticHTML",e.render="BaseServer.render",e.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",e.renderToResponse="BaseServer.renderToResponse",e.renderToHTML="BaseServer.renderToHTML",e.renderError="BaseServer.renderError",e.renderErrorToResponse="BaseServer.renderErrorToResponse",e.renderErrorToHTML="BaseServer.renderErrorToHTML",e.render404="BaseServer.render404",e}(G||{}),H=function(e){return e.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",e.loadComponents="LoadComponents.loadComponents",e}(H||{}),Z=function(e){return e.getRequestHandler="NextServer.getRequestHandler",e.getServer="NextServer.getServer",e.getServerRequestHandler="NextServer.getServerRequestHandler",e.createServer="createServer.createServer",e}(Z||{}),W=function(e){return e.compression="NextNodeServer.compression",e.getBuildId="NextNodeServer.getBuildId",e.createComponentTree="NextNodeServer.createComponentTree",e.clientComponentLoading="NextNodeServer.clientComponentLoading",e.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",e.generateStaticRoutes="NextNodeServer.generateStaticRoutes",e.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",e.generatePublicRoutes="NextNodeServer.generatePublicRoutes",e.generateImageRoutes="NextNodeServer.generateImageRoutes.route",e.sendRenderResult="NextNodeServer.sendRenderResult",e.proxyRequest="NextNodeServer.proxyRequest",e.runApi="NextNodeServer.runApi",e.render="NextNodeServer.render",e.renderHTML="NextNodeServer.renderHTML",e.imageOptimizer="NextNodeServer.imageOptimizer",e.getPagePath="NextNodeServer.getPagePath",e.getRoutesManifest="NextNodeServer.getRoutesManifest",e.findPageComponents="NextNodeServer.findPageComponents",e.getFontManifest="NextNodeServer.getFontManifest",e.getServerComponentManifest="NextNodeServer.getServerComponentManifest",e.getRequestHandler="NextNodeServer.getRequestHandler",e.renderToHTML="NextNodeServer.renderToHTML",e.renderError="NextNodeServer.renderError",e.renderErrorToHTML="NextNodeServer.renderErrorToHTML",e.render404="NextNodeServer.render404",e.startResponse="NextNodeServer.startResponse",e.route="route",e.onProxyReq="onProxyReq",e.apiResolver="apiResolver",e.internalFetch="internalFetch",e}(W||{}),Q=function(e){return e.startServer="startServer.startServer",e}(Q||{}),X=function(e){return e.getServerSideProps="Render.getServerSideProps",e.getStaticProps="Render.getStaticProps",e.renderToString="Render.renderToString",e.renderDocument="Render.renderDocument",e.createBodyResult="Render.createBodyResult",e}(X||{}),J=function(e){return e.renderToString="AppRender.renderToString",e.renderToReadableStream="AppRender.renderToReadableStream",e.getBodyResult="AppRender.getBodyResult",e.fetch="AppRender.fetch",e}(J||{}),ee=function(e){return e.executeRoute="Router.executeRoute",e}(ee||{}),et=function(e){return e.runHandler="Node.runHandler",e}(et||{}),er=function(e){return e.runHandler="AppRouteRouteHandlers.runHandler",e}(er||{}),en=function(e){return e.generateMetadata="ResolveMetadata.generateMetadata",e.generateViewport="ResolveMetadata.generateViewport",e}(en||{}),ei=function(e){return e.execute="Middleware.execute",e}(ei||{});let es=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],ea=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function eo(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}try{t=e.r(70406)}catch(r){t=e.r(31387)}let{context:eu,propagation:el,trace:ec,SpanStatusCode:ed,SpanKind:ep,ROOT_CONTEXT:ef}=t;class eh extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}let em=(e,t)=>{(function(e){return"object"==typeof e&&null!==e&&e instanceof eh})(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:ed.ERROR,message:null==t?void 0:t.message})),e.end()},eg=new Map,ey=t.createContextKey("next.rootSpanId"),e_=0,eb={set(e,t,r){e.push({key:t,value:r})}};class ev{getTracerInstance(){return ec.getTracer("next.js","0.0.1")}getContext(){return eu}getTracePropagationData(){let e=eu.active(),t=[];return el.inject(e,t,eb),t}getActiveScopeSpan(){return ec.getSpan(null==eu?void 0:eu.active())}withPropagatedContext(e,t,r){let n=eu.active();if(ec.getSpanContext(n))return t();let i=el.extract(n,e,r);return eu.with(i,t)}trace(...e){var t;let[r,n,i]=e,{fn:s,options:a}="function"==typeof n?{fn:n,options:{}}:{fn:i,options:{...n}},o=a.spanName??r;if(!es.includes(r)&&"1"!==process.env.NEXT_OTEL_VERBOSE||a.hideSpan)return s();let u=this.getSpanContext((null==a?void 0:a.parentSpan)??this.getActiveScopeSpan()),l=!1;u?(null==(t=ec.getSpanContext(u))?void 0:t.isRemote)&&(l=!0):(u=(null==eu?void 0:eu.active())??ef,l=!0);let c=e_++;return a.attributes={"next.span_name":o,"next.span_type":r,...a.attributes},eu.with(u.setValue(ey,c),()=>this.getTracerInstance().startActiveSpan(o,a,e=>{let t="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,n=()=>{eg.delete(c),t&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&ea.includes(r||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(r.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:t,end:performance.now()})};l&&eg.set(c,new Map(Object.entries(a.attributes??{})));try{if(s.length>1)return s(e,t=>em(e,t));let t=s(e);if(eo(t))return t.then(t=>(e.end(),t)).catch(t=>{throw em(e,t),t}).finally(n);return e.end(),n(),t}catch(t){throw em(e,t),n(),t}}))}wrap(...e){let t=this,[r,n,i]=3===e.length?e:[e[0],{},e[1]];return es.includes(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof i&&(e=e.apply(this,arguments));let s=arguments.length-1,a=arguments[s];if("function"!=typeof a)return t.trace(r,e,()=>i.apply(this,arguments));{let n=t.getContext().bind(eu.active(),a);return t.trace(r,e,(e,t)=>(arguments[s]=function(e){return null==t||t(e),n.apply(this,arguments)},i.apply(this,arguments)))}}:i}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?ec.setSpan(eu.active(),e):void 0}getRootSpanAttributes(){let e=eu.active().getValue(ey);return eg.get(e)}setRootSpanAttribute(e,t){let r=eu.active().getValue(ey),n=eg.get(r);n&&n.set(e,t)}}let eE=(()=>{let e=new ev;return()=>e})(),eS="__prerender_bypass";Symbol("__next_preview_data"),Symbol(eS);class ew{constructor(e,t,r,n){var i;let s=e&&function(e,t){let r=B.from(e.headers);return{isOnDemandRevalidate:r.get("x-prerender-revalidate")===t.previewModeId,revalidateOnlyGenerated:r.has("x-prerender-revalidate-if-generated")}}(t,e).isOnDemandRevalidate,a=null==(i=r.get(eS))?void 0:i.value;this._isEnabled=!!(!s&&a&&e&&a===e.previewModeId),this._previewModeId=null==e?void 0:e.previewModeId,this._mutableCookies=n}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:eS,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:eS,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function eR(e,t){if("x-middleware-set-cookie"in e.headers&&"string"==typeof e.headers["x-middleware-set-cookie"]){let r=e.headers["x-middleware-set-cookie"],n=new Headers;for(let e of o(r))n.append("set-cookie",e);for(let e of new A.ResponseCookies(n).getAll())t.set(e)}}var eO=e.i(32319),eA=e.i(47413);class eT extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}e.i(4748),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((e,...t)=>{console.log(`use-cache: ${e}`,...t)}),Symbol.for("@next/cache-handlers");let eI=Symbol.for("@next/cache-handlers-map"),eC=Symbol.for("@next/cache-handlers-set"),eN=globalThis;function eP(){if(eN[eI])return eN[eI].entries()}async function ex(e,t){if(!e)return t();let r=eD(e);try{return await t()}finally{let t=function(e,t){let r=new Set(e.pendingRevalidatedTags),n=new Set(e.pendingRevalidateWrites);return{pendingRevalidatedTags:t.pendingRevalidatedTags.filter(e=>!r.has(e)),pendingRevalidates:Object.fromEntries(Object.entries(t.pendingRevalidates).filter(([t])=>!(t in e.pendingRevalidates))),pendingRevalidateWrites:t.pendingRevalidateWrites.filter(e=>!n.has(e))}}(r,eD(e));await eL(e,t)}}function eD(e){return{pendingRevalidatedTags:e.pendingRevalidatedTags?[...e.pendingRevalidatedTags]:[],pendingRevalidates:{...e.pendingRevalidates},pendingRevalidateWrites:e.pendingRevalidateWrites?[...e.pendingRevalidateWrites]:[]}}async function ek(e,t){if(0===e.length)return;let r=[];t&&r.push(t.revalidateTag(e));let n=function(){if(eN[eC])return eN[eC].values()}();if(n)for(let t of n)r.push(t.expireTags(...e));await Promise.all(r)}async function eL(e,t){let r=(null==t?void 0:t.pendingRevalidatedTags)??e.pendingRevalidatedTags??[],n=(null==t?void 0:t.pendingRevalidates)??e.pendingRevalidates??{},i=(null==t?void 0:t.pendingRevalidateWrites)??e.pendingRevalidateWrites??[];return Promise.all([ek(r,e.incrementalCache),...Object.values(n),...i])}let eM=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e${disable(){throw eM}getStore(){}run(){throw eM}exit(){throw eM}enterWith(){throw eM}static bind(e){return e}}let eU="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;var ej=e.i(24725);class eB{constructor({waitUntil:e,onClose:t,onTaskError:r}){this.workUnitStores=new Set,this.waitUntil=e,this.onClose=t,this.onTaskError=r,this.callbackQueue=new eA.default,this.callbackQueue.pause()}after(e){if(eo(e))this.waitUntil||ez(),this.waitUntil(e.catch(e=>this.reportTaskError("promise",e)));else if("function"==typeof e)this.addCallback(e);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(e){var t;this.waitUntil||ez();let r=eO.workUnitAsyncStorage.getStore();r&&this.workUnitStores.add(r);let n=ej.afterTaskAsyncStorage.getStore(),i=n?n.rootTaskSpawnPhase:null==r?void 0:r.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let s=(t=async()=>{try{await ej.afterTaskAsyncStorage.run({rootTaskSpawnPhase:i},()=>e())}catch(e){this.reportTaskError("function",e)}},eU?eU.bind(t):e$.bind(t));this.callbackQueue.add(s)}async runCallbacksOnClose(){return await new Promise(e=>this.onClose(e)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let e of this.workUnitStores)e.phase="after";let e=z.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new eT("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return ex(e,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(e,t){if(console.error("promise"===e?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",t),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,t)}catch(e){console.error(Object.defineProperty(new eT("`onTaskError` threw while handling an error thrown from an `after` task",{cause:e}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function ez(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function eq(e){let t,r={then:(n,i)=>(t||(t=e()),t.then(e=>{r.value=e}).catch(()=>{}),t.then(n,i))};return r}class eK{onClose(e){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",e),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function eF(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let eY=Symbol.for("@next/request-context");async function eV(e,t,r){let n=[],i=r&&r.size>0;for(let t of(e=>{let t=["/layout"];if(e.startsWith("/")){let r=e.split("/");for(let e=1;e<r.length+1;e++){let n=r.slice(0,e).join("/");n&&(n.endsWith("/page")||n.endsWith("/route")||(n=`${n}${!n.endsWith("/")?"/":""}layout`),t.push(n))}}return t})(e))t=`${s}${t}`,n.push(t);if(t.pathname&&!i){let e=`${s}${t.pathname}`;n.push(e)}return{tags:n,expirationsByCacheKind:function(e){let t=new Map,r=eP();if(r)for(let[n,i]of r)"getExpiration"in i&&t.set(n,eq(async()=>i.getExpiration(...e)));return t}(n)}}class eG extends I{constructor(e){super(e.input,e.init),this.sourcePage=e.page}get request(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let eH={keys:e=>Array.from(e.keys()),get:(e,t)=>e.get(t)??void 0},eZ=(e,t)=>eE().withPropagatedContext(e.headers,t,eH),eW=!1;async function eQ(t){var r;let n,i;if(!eW&&(eW=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:t,wrapRequestHandler:r}=e.r(76532);t(),eZ=r(eZ)}await (0,U.ensureInstrumentationRegistered)();let s=void 0!==globalThis.__BUILD_MANIFEST;t.request.url=t.request.url.replace(/\.rsc($|\?)/,"$1");let a=t.bypassNextUrl?new URL(t.request.url):new O(t.request.url,{headers:t.request.headers,nextConfig:t.request.nextConfig});for(let e of[...a.searchParams.keys()]){let t=a.searchParams.getAll(e),r=function(e){for(let t of["nxtP","nxtI"])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}(e);if(r){for(let e of(a.searchParams.delete(r),t))a.searchParams.append(r,e);a.searchParams.delete(e)}}let o=process.env.__NEXT_BUILD_ID||"";"buildId"in a&&(o=a.buildId||"",a.buildId="");let u=function(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}(t.request.headers),l=u.has("x-nextjs-data"),c="1"===u.get("rsc");l&&"/index"===a.pathname&&(a.pathname="/");let d=new Map;if(!s)for(let e of M){let t=u.get(e);null!==t&&(d.set(e,t),u.delete(e))}let f=a.searchParams.get($),m=new eG({page:t.page,input:(function(e){let t="string"==typeof e,r=t?new URL(e):e;return r.searchParams.delete($),t?r.toString():r})(a).toString(),init:{body:t.request.body,headers:u,method:t.request.method,nextConfig:t.request.nextConfig,signal:t.request.signal}});l&&Object.defineProperty(m,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&t.IncrementalCache&&(globalThis.__incrementalCache=new t.IncrementalCache({CurCacheHandler:t.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:t.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:eF()})}));let g=t.request.waitUntil??(null==(r=function(){let e=globalThis[eY];return null==e?void 0:e.get()}())?void 0:r.waitUntil),y=new h({request:m,page:t.page,context:g?{waitUntil:g}:void 0});if((n=await eZ(m,()=>{if("/middleware"===t.page||"/src/middleware"===t.page){let e=y.waitUntil.bind(y),r=new eK;return eE().trace(ei.execute,{spanName:`middleware ${m.method} ${m.nextUrl.pathname}`,attributes:{"http.target":m.nextUrl.pathname,"http.method":m.method}},async()=>{try{var n,s,a,u,l,c;let d=eF(),p=await eV("/",m.nextUrl,null),f=(l=m.nextUrl,c=e=>{i=e},function(e,t,r,n,i,s,a,o,u,l,c,d){function p(e){r&&r.setHeader("Set-Cookie",e)}let f={};return{type:"request",phase:e,implicitTags:s,url:{pathname:n.pathname,search:n.search??""},rootParams:i,get headers(){return f.headers||(f.headers=function(e){let t=B.from(e);for(let e of M)t.delete(e);return B.seal(t)}(t.headers)),f.headers},get cookies(){if(!f.cookies){let e=new A.RequestCookies(B.from(t.headers));eR(t,e),f.cookies=K.seal(e)}return f.cookies},set cookies(value){f.cookies=value},get mutableCookies(){if(!f.mutableCookies){let e=function(e,t){let r=new A.RequestCookies(B.from(e));return Y.wrap(r,t)}(t.headers,a||(r?p:void 0));eR(t,e),f.mutableCookies=e}return f.mutableCookies},get userspaceMutableCookies(){return f.userspaceMutableCookies||(f.userspaceMutableCookies=function(e){let t=new Proxy(e.mutableCookies,{get(r,n,i){switch(n){case"delete":return function(...n){return V(e,"cookies().delete"),r.delete(...n),t};case"set":return function(...n){return V(e,"cookies().set"),r.set(...n),t};default:return C.get(r,n,i)}}});return t}(this)),f.userspaceMutableCookies},get draftMode(){return f.draftMode||(f.draftMode=new ew(u,t,this.cookies,this.mutableCookies)),f.draftMode},renderResumeDataCache:o??null,isHmrRefresh:l,serverComponentsHmrCache:c||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",m,void 0,l,{},p,c,void 0,d,!1,void 0,null)),h=function({page:e,renderOpts:t,isPrefetchRequest:r,buildId:n,previouslyRevalidatedTags:i}){var s;let a=!t.shouldWaitOnAllReady&&!t.supportsDynamicResponse&&!t.isDraftMode&&!t.isPossibleServerAction,o=t.dev??!1,u=o||a&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),l={isStaticGeneration:a,page:e,route:(s=e.split("/").reduce((e,t,r,n)=>t?"("===t[0]&&t.endsWith(")")||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:e+"/"+t:e,"")).startsWith("/")?s:"/"+s,incrementalCache:t.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:t.cacheLifeProfiles,isRevalidate:t.isRevalidate,isBuildTimePrerendering:t.nextExport,hasReadableErrorStacks:t.hasReadableErrorStacks,fetchCache:t.fetchCache,isOnDemandRevalidate:t.isOnDemandRevalidate,isDraftMode:t.isDraftMode,isPrefetchRequest:r,buildId:n,reactLoadableManifest:(null==t?void 0:t.reactLoadableManifest)||{},assetPrefix:(null==t?void 0:t.assetPrefix)||"",afterContext:function(e){let{waitUntil:t,onClose:r,onAfterTaskError:n}=e;return new eB({waitUntil:t,onClose:r,onTaskError:n})}(t),cacheComponentsEnabled:t.experimental.cacheComponents,dev:o,previouslyRevalidatedTags:i,refreshTagsByCacheKind:function(){let e=new Map,t=eP();if(t)for(let[r,n]of t)"refreshTags"in n&&e.set(r,eq(async()=>n.refreshTags()));return e}(),runInCleanSnapshot:eU?eU.snapshot():function(e,...t){return e(...t)},shouldTrackFetchMetrics:u};return t.store=l,l}({page:"/",renderOpts:{cacheLifeProfiles:null==(s=t.request.nextConfig)||null==(n=s.experimental)?void 0:n.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(u=t.request.nextConfig)||null==(a=u.experimental)?void 0:a.authInterrupts)},supportsDynamicResponse:!0,waitUntil:e,onClose:r.onClose.bind(r),onAfterTaskError:void 0},isPrefetchRequest:"1"===m.headers.get(L),buildId:o??"",previouslyRevalidatedTags:[]});return await z.workAsyncStorage.run(h,()=>eO.workUnitAsyncStorage.run(f,t.handler,m,y))}finally{setTimeout(()=>{r.dispatchClose()},0)}})}return t.handler(m,y)}))&&!(n instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});n&&i&&n.headers.set("set-cookie",i);let _=null==n?void 0:n.headers.get("x-middleware-rewrite");if(n&&_&&(c||!s)){let e=new O(_,{forceLocale:!0,headers:t.request.headers,nextConfig:t.request.nextConfig});s||e.host!==m.nextUrl.host||(e.buildId=o||e.buildId,n.headers.set("x-middleware-rewrite",String(e)));let{url:r,isRelative:i}=k(e.toString(),a.toString());!s&&l&&n.headers.set("x-nextjs-rewrite",r),c&&i&&(a.pathname!==e.pathname&&n.headers.set("x-nextjs-rewritten-path",e.pathname),a.search!==e.search&&n.headers.set("x-nextjs-rewritten-query",e.search.slice(1)))}if(n&&_&&c&&f){let e=new URL(_);e.searchParams.has($)||(e.searchParams.set($,f),n.headers.set("x-middleware-rewrite",e.toString()))}let b=null==n?void 0:n.headers.get("Location");if(n&&b&&!s){let e=new O(b,{forceLocale:!1,headers:t.request.headers,nextConfig:t.request.nextConfig});n=new Response(n.body,n),e.host===a.host&&(e.buildId=o||e.buildId,n.headers.set("Location",e.toString())),l&&(n.headers.delete("Location"),n.headers.set("x-nextjs-redirect",k(e.toString(),a.toString()).url))}let v=n||D.next(),E=v.headers.get("x-middleware-override-headers"),S=[];if(E){for(let[e,t]of d)v.headers.set(`x-middleware-request-${e}`,t),S.push(e);S.length>0&&v.headers.set("x-middleware-override-headers",E+","+S.join(","))}return{response:v,waitUntil:("internal"===y[p].kind?Promise.all(y[p].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:m.fetchMetrics}}},77312,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=e.r(9254)},8126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ReflectAdapter",{enumerable:!0,get:function(){return n}});class n{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},82126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{MutableRequestCookiesAdapter:function(){return d},ReadonlyRequestCookiesError:function(){return a},RequestCookiesAdapter:function(){return o},appendMutableCookies:function(){return c},areCookiesMutableInCurrentPhase:function(){return f},createCookiesWithMutableAccessCheck:function(){return p},getModifiedCookieValues:function(){return l},responseCookiesToRequestCookies:function(){return m}});let n=e.r(77312),i=e.r(8126),s=e.r(56704);class a extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new a}}class o{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return a.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function l(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function c(e,t){let r=l(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),s=i.getAll();for(let e of r)i.set(e);for(let e of s)i.set(e);return!0}class d{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let a=[],o=new Set,l=()=>{let e=s.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),a=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of a){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},c=new Proxy(r,{get(e,t,r){switch(t){case u:return a;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),c}finally{l()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),c}finally{l()}};default:return i.ReflectAdapter.get(e,t,r)}}});return c}}function p(e){let t=new Proxy(e.mutableCookies,{get(r,n,s){switch(n){case"delete":return function(...n){return h(e,"cookies().delete"),r.delete(...n),t};case"set":return function(...n){return h(e,"cookies().set"),r.set(...n),t};default:return i.ReflectAdapter.get(r,n,s)}}});return t}function f(e){return"action"===e.phase}function h(e,t){if(!f(e))throw new a}function m(e){let t=new n.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},39622,(e,t,r)=>{"use strict";t.exports=e.r(18622)},49518,(e,t,r)=>{"use strict";t.exports=e.r(39622).vendored["react-rsc"].React},77753,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DynamicServerError:function(){return i},isDynamicServerError:function(){return s}});let n="DYNAMIC_SERVER_USAGE";class i extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=n}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},80773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{StaticGenBailoutError:function(){return i},isStaticGenBailoutError:function(){return s}});let n="NEXT_STATIC_GEN_BAILOUT";class i extends Error{constructor(...e){super(...e),this.code=n}}function s(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===n}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},37138,(e,t,r)=>{"use strict";function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{isHangingPromiseRejectionError:function(){return n},makeDevtoolsIOAwarePromise:function(){return l},makeHangingPromise:function(){return o}});let i="HANGING_PROMISE_REJECTION";class s extends Error{constructor(e,t){super(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${e}".`),this.route=e,this.expression=t,this.digest=i}}let a=new WeakMap;function o(e,t,r){if(e.aborted)return Promise.reject(new s(t,r));{let n=new Promise((n,i)=>{let o=i.bind(null,new s(t,r)),u=a.get(e);if(u)u.push(o);else{let t=[o];a.set(e,t),e.addEventListener("abort",()=>{for(let e=0;e<t.length;e++)t[e]()},{once:!0})}});return n.catch(u),n}}function u(){}function l(e){return new Promise(t=>{setTimeout(()=>{t(e)},0)})}},13332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{METADATA_BOUNDARY_NAME:function(){return n},OUTLET_BOUNDARY_NAME:function(){return s},ROOT_LAYOUT_BOUNDARY_NAME:function(){return a},VIEWPORT_BOUNDARY_NAME:function(){return i}});let n="__next_metadata_boundary__",i="__next_viewport_boundary__",s="__next_outlet_boundary__",a="__next_root_layout_boundary__"},18697,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{atLeastOneTask:function(){return s},scheduleImmediate:function(){return i},scheduleOnNextTick:function(){return n},waitAtLeastOneReactRenderTask:function(){return a}});let n=e=>{Promise.resolve().then(()=>{process.nextTick(e)})},i=e=>{setImmediate(e)};function s(){return new Promise(e=>i(e))}function a(){return new Promise(e=>setImmediate(e))}},39491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{BailoutToCSRError:function(){return i},isBailoutToCSRError:function(){return s}});let n="BAILOUT_TO_CLIENT_SIDE_RENDERING";class i extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=n}}function s(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===n}},35121,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"InvariantError",{enumerable:!0,get:function(){return n}});class n extends Error{constructor(e,t){super("Invariant: "+(e.endsWith(".")?e:e+".")+" This is a bug in Next.js.",t),this.name="InvariantError"}}},21401,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{Postpone:function(){return A},PreludeState:function(){return G},abortAndThrowOnSynchronousRequestDataAccess:function(){return w},abortOnSynchronousPlatformIOAccess:function(){return E},accessedDynamicData:function(){return k},annotateDynamicAccess:function(){return j},consumeDynamicAccess:function(){return L},createDynamicTrackingState:function(){return h},createDynamicValidationState:function(){return m},createHangingInputAbortSignal:function(){return U},createRenderInBrowserAbortSignal:function(){return $},delayUntilRuntimeStage:function(){return W},formatDynamicAPIAccesses:function(){return M},getFirstDynamicReason:function(){return g},isDynamicPostpone:function(){return C},isPrerenderInterruptedError:function(){return D},logDisallowedDynamicError:function(){return H},markCurrentScopeAsDynamic:function(){return y},postponeWithTracking:function(){return T},throwIfDisallowedDynamic:function(){return Z},throwToInterruptStaticGeneration:function(){return _},trackAllowedDynamicAccess:function(){return V},trackDynamicDataInDynamicRender:function(){return b},trackSynchronousPlatformIOAccessInDev:function(){return S},trackSynchronousRequestDataAccessInDev:function(){return O},useDynamicRouteParams:function(){return B},warnOnSyncDynamicError:function(){return R}});let n=function(e){return e&&e.__esModule?e:{default:e}}(e.r(49518)),i=e.r(77753),s=e.r(80773),a=e.r(32319),o=e.r(56704),u=e.r(37138),l=e.r(13332),c=e.r(18697),d=e.r(39491),p=e.r(35121),f="function"==typeof n.default.unstable_postpone;function h(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicErrorWithStack:null}}function m(){return{hasSuspenseAboveBody:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasAllowedDynamic:!1,dynamicErrors:[]}}function g(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function y(e,t,r){if(t)switch(t.type){case"cache":case"unstable-cache":case"private-cache":return}if(!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${r}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(t)switch(t.type){case"prerender-ppr":return T(e.route,r,t.dynamicTracking);case"prerender-legacy":t.revalidate=0;let n=Object.defineProperty(new i.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${r}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E550",enumerable:!1,configurable:!0});throw e.dynamicUsageDescription=r,e.dynamicUsageStack=n.stack,n}}}function _(e,t,r){let n=Object.defineProperty(new i.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}function b(e){switch(e.type){case"cache":case"unstable-cache":case"private-cache":return}}function v(e,t,r){let n=x(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);r.controller.abort(n);let i=r.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function E(e,t,r,n){let i=n.dynamicTracking;v(e,t,n),i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}function S(e){e.prerenderPhase=!1}function w(e,t,r,n){if(!1===n.controller.signal.aborted){v(e,t,n);let i=n.dynamicTracking;i&&null===i.syncDynamicErrorWithStack&&(i.syncDynamicErrorWithStack=r)}throw x(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}function R(e){e.syncDynamicErrorWithStack&&console.error(e.syncDynamicErrorWithStack)}let O=S;function A({reason:e,route:t}){let r=a.workUnitAsyncStorage.getStore();T(t,e,r&&"prerender-ppr"===r.type?r.dynamicTracking:null)}function T(e,t,r){(function(){if(!f)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),n.default.unstable_postpone(I(e,t))}function I(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function C(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&N(e.message)}function N(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===N(I("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});let P="NEXT_PRERENDER_INTERRUPTED";function x(e){let t=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t.digest=P,t}function D(e){return"object"==typeof e&&null!==e&&e.digest===P&&"name"in e&&"message"in e&&e instanceof Error}function k(e){return e.length>0}function L(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function M(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function $(){let e=new AbortController;return e.abort(Object.defineProperty(new d.BailoutToCSRError("Render in Browser"),"__NEXT_ERROR_CODE",{value:"E721",enumerable:!1,configurable:!0})),e.signal}function U(e){switch(e.type){case"prerender":case"prerender-runtime":let t=new AbortController;if(e.cacheSignal)e.cacheSignal.inputReady().then(()=>{t.abort()});else{let r=(0,a.getRuntimeStagePromise)(e);r?r.then(()=>(0,c.scheduleOnNextTick)(()=>t.abort())):(0,c.scheduleOnNextTick)(()=>t.abort())}return t.signal;case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"request":case"cache":case"private-cache":case"unstable-cache":return}}function j(e,t){let r=t.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function B(e){let t=o.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t&&r)switch(r.type){case"prerender-client":case"prerender":{let i=r.fallbackRouteParams;i&&i.size>0&&n.default.use((0,u.makeHangingPromise)(r.renderSignal,t.route,e));break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n&&n.size>0)return T(t.route,e,r.dynamicTracking);break}case"prerender-runtime":throw Object.defineProperty(new p.InvariantError(`\`${e}\` was called during a runtime prerender. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E771",enumerable:!1,configurable:!0});case"cache":case"private-cache":throw Object.defineProperty(new p.InvariantError(`\`${e}\` was called inside a cache scope. Next.js should be preventing ${e} from being included in server components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E745",enumerable:!1,configurable:!0})}}let z=/\n\s+at Suspense \(<anonymous>\)/,q=RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at ${l.ROOT_LAYOUT_BOUNDARY_NAME} \\([^\\n]*\\)`),K=RegExp(`\\n\\s+at ${l.METADATA_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${l.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),Y=RegExp(`\\n\\s+at ${l.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function V(e,t,r,n){if(!Y.test(t)){if(K.test(t)){r.hasDynamicMetadata=!0;return}if(F.test(t)){r.hasDynamicViewport=!0;return}if(q.test(t)){r.hasAllowedDynamic=!0,r.hasSuspenseAboveBody=!0;return}else if(z.test(t)){r.hasAllowedDynamic=!0;return}else{if(n.syncDynamicErrorWithStack)return void r.dynamicErrors.push(n.syncDynamicErrorWithStack);let i=function(e,t){let r=Object.defineProperty(Error(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r.stack=r.name+": "+e+t,r}(`Route "${e.route}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);return void r.dynamicErrors.push(i)}}}var G=function(e){return e[e.Full=0]="Full",e[e.Empty=1]="Empty",e[e.Errored=2]="Errored",e}({});function H(e,t){console.error(t),e.dev||(e.hasReadableErrorStacks?console.error(`To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.`):console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:
  - Start the app in development mode by running \`next dev\`, then open "${e.route}" in your browser to investigate the error.
  - Rerun the production build with \`next build --debug-prerender\` to generate better stack traces.`))}function Z(e,t,r,n){if(0!==t){if(r.hasSuspenseAboveBody)return;if(n.syncDynamicErrorWithStack)throw H(e,n.syncDynamicErrorWithStack),new s.StaticGenBailoutError;let i=r.dynamicErrors;if(i.length>0){for(let t=0;t<i.length;t++)H(e,i[t]);throw new s.StaticGenBailoutError}if(r.hasDynamicViewport)throw console.error(`Route "${e.route}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`),new s.StaticGenBailoutError;if(1===t)throw console.error(`Route "${e.route}" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`),new s.StaticGenBailoutError}else if(!1===r.hasAllowedDynamic&&r.hasDynamicMetadata)throw console.error(`Route "${e.route}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or uncached external data (\`fetch(...)\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`),new s.StaticGenBailoutError}function W(e,t){return e.runtimeStagePromise?e.runtimeStagePromise.then(()=>t):t}},37348,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return u}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=s?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(e.r(49518));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let s={current:null},a="function"==typeof n.cache?n.cache:e=>e,o=console.warn;function u(e){return function(...t){o(e(...t))}}a(e=>{try{o(s.current)}finally{s.current=null}})},19048,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{isRequestAPICallableInsideAfter:function(){return u},throwForSearchParamsAccessInUseCache:function(){return o},throwWithStaticGenerationBailoutError:function(){return s},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return a}});let n=e.r(80773),i=e.r(24725);function s(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function a(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function o(e,t){let r=Object.defineProperty(Error(`Route ${e.route} used "searchParams" inside "use cache". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await "searchParams" outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E779",enumerable:!1,configurable:!0});throw Error.captureStackTrace(r,t),e.invalidDynamicUsageError??=r,r}function u(){let e=i.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},75332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cookies",{enumerable:!0,get:function(){return f}});let n=e.r(82126),i=e.r(77312),s=e.r(56704),a=e.r(32319),o=e.r(21401),u=e.r(80773),l=e.r(37138),c=e.r(37348),d=e.r(19048),p=e.r(35121);function f(){let e="cookies",t=s.workAsyncStorage.getStore(),r=a.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return m(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(t.dynamicShouldError)throw Object.defineProperty(new u.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)switch(r.type){case"cache":let s=Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(s,f),t.invalidDynamicUsageError??=s,s;case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var c=t,g=r;let a=h.get(g);if(a)return a;let y=(0,l.makeHangingPromise)(g.renderSignal,c.route,"`cookies()`");return h.set(g,y),y;case"prerender-client":let _="`cookies`";throw Object.defineProperty(new p.InvariantError(`${_} must not be used within a client component. Next.js should be preventing ${_} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,o.throwToInterruptStaticGeneration)(e,t,r);case"prerender-runtime":return(0,o.delayUntilRuntimeStage)(r,function(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),r}(r.cookies));case"private-cache":return m(r.cookies);case"request":return(0,o.trackDynamicDataInDynamicRender)(r),m((0,n.areCookiesMutableInCurrentPhase)(r)?r.userspaceMutableCookies:r.cookies)}}(0,a.throwForMissingRequestStore)(e)}e.r(8126);let h=new WeakMap;function m(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):g.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):y.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function g(){return this.getAll().map(e=>[e.name,e]).values()}function y(e){for(let e of this.getAll())this.delete(e.name);return e}(0,c.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})})},2620,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{HeadersAdapter:function(){return s},ReadonlyHeadersError:function(){return i}});let n=e.r(8126);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class s extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let s=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===s);if(void 0!==a)return n.ReflectAdapter.get(t,a,i)},set(t,r,i,s){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,s);let a=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===a);return n.ReflectAdapter.set(t,o??r,i,s)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==s&&n.ReflectAdapter.has(t,s)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===s||n.ReflectAdapter.deleteProperty(t,s)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new s(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},87104,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"headers",{enumerable:!0,get:function(){return p}});let n=e.r(2620),i=e.r(56704),s=e.r(32319),a=e.r(21401),o=e.r(80773),u=e.r(37138),l=e.r(37348),c=e.r(19048),d=e.r(35121);function p(){let e="headers",t=i.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(t.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(r)switch(r.type){case"cache":{let e=Object.defineProperty(Error(`Route ${t.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,p),t.invalidDynamicUsageError??=e,e}case"private-cache":{let e=Object.defineProperty(Error(`Route ${t.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(e,p),t.invalidDynamicUsageError??=e,e}case"unstable-cache":throw Object.defineProperty(Error(`Route ${t.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(r)switch(r.type){case"prerender":case"prerender-runtime":var l=t,m=r;let i=f.get(m);if(i)return i;let s=(0,u.makeHangingPromise)(m.renderSignal,l.route,"`headers()`");return f.set(m,s),s;case"prerender-client":let g="`headers`";throw Object.defineProperty(new d.InvariantError(`${g} must not be used within a client component. Next.js should be preventing ${g} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);case"prerender-legacy":return(0,a.throwToInterruptStaticGeneration)(e,t,r);case"request":return(0,a.trackDynamicDataInDynamicRender)(r),h(r.headers)}}(0,s.throwForMissingRequestStore)(e)}e.r(8126);let f=new WeakMap;function h(e){let t=f.get(e);if(t)return t;let r=Promise.resolve(e);return f.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})})},70392,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"draftMode",{enumerable:!0,get:function(){return c}});let n=e.r(32319),i=e.r(56704),s=e.r(21401),a=e.r(37348),o=e.r(80773),u=e.r(77753),l=e.r(35121);function c(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"prerender-runtime":return(0,s.delayUntilRuntimeStage)(t,d(t.draftMode,e));case"request":return d(t.draftMode,e);case"cache":case"private-cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return d(r,e);case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return d(null,e);default:return t}}function d(e,t){let r,n=e??p,i=f.get(n);return i||(r=function(e){let t=new h(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}(e),f.set(n,r),r)}e.r(8126);let p={},f=new WeakMap;class h{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()",this.enable),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()",this.disable),null!==this._provider&&this._provider.disable()}}function m(e,t){let r=i.workAsyncStorage.getStore(),a=n.workUnitAsyncStorage.getStore();if(r){if((null==a?void 0:a.phase)==="after")throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0});if(r.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${r.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(a)switch(a.type){case"cache":case"private-cache":{let n=Object.defineProperty(Error(`Route ${r.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});throw Error.captureStackTrace(n,t),r.invalidDynamicUsageError??=n,n}case"unstable-cache":throw Object.defineProperty(Error(`Route ${r.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":{let t=Object.defineProperty(Error(`Route ${r.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});return(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r.route,e,t,a)}case"prerender-client":let n="`draftMode`";throw Object.defineProperty(new l.InvariantError(`${n} must not be used within a client component. Next.js should be preventing ${n} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,s.postponeWithTracking)(r.route,e,a.dynamicTracking);case"prerender-legacy":a.revalidate=0;let i=Object.defineProperty(new u.DynamicServerError(`Route ${r.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw r.dynamicUsageDescription=e,r.dynamicUsageStack=i.stack,i;case"request":(0,s.trackDynamicDataInDynamicRender)(a)}}}(0,a.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})})},27180,(e,t,r)=>{t.exports.cookies=e.r(75332).cookies,t.exports.headers=e.r(87104).headers,t.exports.draftMode=e.r(70392).draftMode},12953,(e,t,r)=>{"use strict";function n(e,t,r){if(e)for(let s of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=s.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===s.defaultLocale.toLowerCase()||(null==(i=s.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return s}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"detectDomainLocale",{enumerable:!0,get:function(){return n}})},57520,(e,t,r)=>{"use strict";function n(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removeTrailingSlash",{enumerable:!0,get:function(){return n}})},52799,(e,t,r)=>{"use strict";function n(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"parsePath",{enumerable:!0,get:function(){return n}})},11959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(52799);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return""+t+r+i+s}},30652,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=e.r(52799);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:s}=(0,n.parsePath)(e);return""+r+t+i+s}},86984,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(52799);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},99256,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"addLocale",{enumerable:!0,get:function(){return s}});let n=e.r(11959),i=e.r(86984);function s(e,t,r,s){if(!t||t===r)return e;let a=e.toLowerCase();return!s&&((0,i.pathHasPrefix)(a,"/api")||(0,i.pathHasPrefix)(a,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},16107,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=e.r(57520),i=e.r(11959),s=e.r(30652),a=e.r(99256);function o(e){let t=(0,a.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,s.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,s.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},26729,(e,t,r)=>{"use strict";function n(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getHostname",{enumerable:!0,get:function(){return n}})},96045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"normalizeLocalePath",{enumerable:!0,get:function(){return i}});let n=new WeakMap;function i(e,t){let r;if(!t)return{pathname:e};let i=n.get(t);i||(i=t.map(e=>e.toLowerCase()),n.set(t,i));let s=e.split("/",2);if(!s[1])return{pathname:e};let a=s[1].toLowerCase(),o=i.indexOf(a);return o<0?{pathname:e}:(r=t[o],{pathname:e=e.slice(r.length+1)||"/",detectedLocale:r})}},92624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=e.r(86984);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},7657,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getNextPathnameInfo",{enumerable:!0,get:function(){return a}});let n=e.r(96045),i=e.r(92624),s=e.r(86984);function a(e,t){var r,a;let{basePath:o,i18n:u,trailingSlash:l}=null!=(r=t.nextConfig)?r:{},c={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):l};o&&(0,s.pathHasPrefix)(c.pathname,o)&&(c.pathname=(0,i.removePathPrefix)(c.pathname,o),c.basePath=o);let d=c.pathname;if(c.pathname.startsWith("/_next/data/")&&c.pathname.endsWith(".json")){let e=c.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");c.buildId=e[0],d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(c.pathname=d)}if(u){let e=t.i18nProvider?t.i18nProvider.analyze(c.pathname):(0,n.normalizeLocalePath)(c.pathname,u.locales);c.locale=e.detectedLocale,c.pathname=null!=(a=e.pathname)?a:c.pathname,!e.detectedLocale&&c.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,u.locales)).detectedLocale&&(c.locale=e.detectedLocale)}return c}},61400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextURL",{enumerable:!0,get:function(){return c}});let n=e.r(12953),i=e.r(16107),s=e.r(26729),a=e.r(7657),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function u(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let l=Symbol("NextURLInternal");class c{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[l]={url:u(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let u=(0,a.getNextPathnameInfo)(this[l].url.pathname,{nextConfig:this[l].options.nextConfig,parseData:!0,i18nProvider:this[l].options.i18nProvider}),c=(0,s.getHostname)(this[l].url,this[l].options.headers);this[l].domainLocale=this[l].options.i18nProvider?this[l].options.i18nProvider.detectDomainLocale(c):(0,n.detectDomainLocale)(null==(t=this[l].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,c);let d=(null==(r=this[l].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[l].options.nextConfig)||null==(i=o.i18n)?void 0:i.defaultLocale);this[l].url.pathname=u.pathname,this[l].defaultLocale=d,this[l].basePath=u.basePath??"",this[l].buildId=u.buildId,this[l].locale=u.locale??d,this[l].trailingSlash=u.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[l].basePath,buildId:this[l].buildId,defaultLocale:this[l].options.forceLocale?void 0:this[l].defaultLocale,locale:this[l].locale,pathname:this[l].url.pathname,trailingSlash:this[l].trailingSlash})}formatSearch(){return this[l].url.search}get buildId(){return this[l].buildId}set buildId(e){this[l].buildId=e}get locale(){return this[l].locale??""}set locale(e){var t,r;if(!this[l].locale||!(null==(r=this[l].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[l].locale=e}get defaultLocale(){return this[l].defaultLocale}get domainLocale(){return this[l].domainLocale}get searchParams(){return this[l].url.searchParams}get host(){return this[l].url.host}set host(e){this[l].url.host=e}get hostname(){return this[l].url.hostname}set hostname(e){this[l].url.hostname=e}get port(){return this[l].url.port}set port(e){this[l].url.port=e}get protocol(){return this[l].url.protocol}set protocol(e){this[l].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[l].url=u(e),this.analyze()}get origin(){return this[l].url.origin}get pathname(){return this[l].url.pathname}set pathname(e){this[l].url.pathname=e}get hash(){return this[l].url.hash}set hash(e){this[l].url.hash=e}get search(){return this[l].url.search}set search(e){this[l].url.search=e}get password(){return this[l].url.password}set password(e){this[l].url.password=e}get username(){return this[l].url.username}set username(e){this[l].url.username=e}get basePath(){return this[l].basePath}set basePath(e){this[l].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new c(String(this),this[l].options)}}},30009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{ACTION_SUFFIX:function(){return m},APP_DIR_ALIAS:function(){return L},CACHE_ONE_YEAR:function(){return T},DOT_NEXT_ALIAS:function(){return D},ESLINT_DEFAULT_DIRS:function(){return et},GSP_NO_RETURNED_VALUE:function(){return Z},GSSP_COMPONENT_MEMBER_ERROR:function(){return X},GSSP_NO_RETURNED_VALUE:function(){return W},HTML_CONTENT_TYPE_HEADER:function(){return i},INFINITE_CACHE:function(){return I},INSTRUMENTATION_HOOK_FILENAME:function(){return P},JSON_CONTENT_TYPE_HEADER:function(){return s},MATCHED_PATH_HEADER:function(){return u},MIDDLEWARE_FILENAME:function(){return C},MIDDLEWARE_LOCATION_REGEXP:function(){return N},NEXT_BODY_SUFFIX:function(){return _},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return A},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return v},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return E},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return O},NEXT_CACHE_TAGS_HEADER:function(){return b},NEXT_CACHE_TAG_MAX_ITEMS:function(){return w},NEXT_CACHE_TAG_MAX_LENGTH:function(){return R},NEXT_DATA_SUFFIX:function(){return g},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return o},NEXT_META_SUFFIX:function(){return y},NEXT_QUERY_PARAM_PREFIX:function(){return a},NEXT_RESUME_HEADER:function(){return S},NON_STANDARD_NODE_ENV:function(){return J},PAGES_DIR_ALIAS:function(){return x},PRERENDER_REVALIDATE_HEADER:function(){return l},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return c},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return K},ROOT_DIR_ALIAS:function(){return k},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return q},RSC_ACTION_ENCRYPTION_ALIAS:function(){return z},RSC_ACTION_PROXY_ALIAS:function(){return U},RSC_ACTION_VALIDATE_ALIAS:function(){return $},RSC_CACHE_WRAPPER_ALIAS:function(){return j},RSC_DYNAMIC_IMPORT_WRAPPER_ALIAS:function(){return B},RSC_MOD_REF_PROXY_ALIAS:function(){return M},RSC_PREFETCH_SUFFIX:function(){return d},RSC_SEGMENTS_DIR_SUFFIX:function(){return p},RSC_SEGMENT_SUFFIX:function(){return f},RSC_SUFFIX:function(){return h},SERVER_PROPS_EXPORT_ERROR:function(){return H},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return Y},SERVER_PROPS_SSG_CONFLICT:function(){return V},SERVER_RUNTIME:function(){return er},SSG_FALLBACK_EXPORT_ERROR:function(){return ee},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return F},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return G},TEXT_PLAIN_CONTENT_TYPE_HEADER:function(){return n},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return Q},WEBPACK_LAYERS:function(){return ei},WEBPACK_RESOURCE_QUERIES:function(){return es}});let n="text/plain",i="text/html; charset=utf-8",s="application/json; charset=utf-8",a="nxtP",o="nxtI",u="x-matched-path",l="x-prerender-revalidate",c="x-prerender-revalidate-if-generated",d=".prefetch.rsc",p=".segments",f=".segment.rsc",h=".rsc",m=".action",g=".json",y=".meta",_=".body",b="x-next-cache-tags",v="x-next-revalidated-tags",E="x-next-revalidate-tag-token",S="next-resume",w=128,R=256,O=1024,A="_N_T_",T=31536e3,I=0xfffffffe,C="middleware",N=`(?:src/)?${C}`,P="instrumentation",x="private-next-pages",D="private-dot-next",k="private-next-root-dir",L="private-next-app-dir",M="private-next-rsc-mod-ref-proxy",$="private-next-rsc-action-validate",U="private-next-rsc-server-reference",j="private-next-rsc-cache-wrapper",B="private-next-rsc-track-dynamic-import",z="private-next-rsc-action-encryption",q="private-next-rsc-action-client-wrapper",K="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",F="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",Y="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",V="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",G="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",H="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",Z="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",W="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",Q="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",X="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",J='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',ee="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",et=["app","pages","components","lib","src"],er={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},en={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},ei={...en,GROUP:{builtinReact:[en.reactServerComponents,en.actionBrowser],serverOnly:[en.reactServerComponents,en.actionBrowser,en.instrument,en.middleware],neutralTarget:[en.apiNode,en.apiEdge],clientOnly:[en.serverSideRendering,en.appPagesBrowser],bundled:[en.reactServerComponents,en.actionBrowser,en.serverSideRendering,en.appPagesBrowser,en.shared,en.instrument,en.middleware],appPages:[en.reactServerComponents,en.serverSideRendering,en.appPagesBrowser,en.actionBrowser]}},es={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},41296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{fromNodeOutgoingHttpHeaders:function(){return i},normalizeNextQueryParam:function(){return u},splitCookiesString:function(){return s},toNodeOutgoingHttpHeaders:function(){return a},validateURL:function(){return o}});let n=e.r(30009);function i(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function s(e){var t,r,n,i,s,a=[],o=0;function u(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,s=!1;u();)if(","===(r=e.charAt(o))){for(n=o,o+=1,u(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(s=!0,o=i,a.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!s||o>=e.length)&&a.push(e.substring(t,e.length))}return a}function a(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...s(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function u(e){for(let t of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},43241,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{PageSignatureError:function(){return n},RemovedPageError:function(){return i},RemovedUAError:function(){return s}});class n extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class i extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class s extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},75447,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{INTERNALS:function(){return o},NextRequest:function(){return u}});let n=e.r(61400),i=e.r(41296),s=e.r(43241),a=e.r(77312),o=Symbol("internal request");class u extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let s=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new a.RequestCookies(this.headers),nextUrl:s,url:s.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new s.RemovedPageError}get ua(){throw new s.RemovedUAError}get url(){return this[o].url}}},9052,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"NextResponse",{enumerable:!0,get:function(){return d}});let n=e.r(77312),i=e.r(61400),s=e.r(41296),a=e.r(8126),o=e.r(77312),u=Symbol("internal response"),l=new Set([301,302,303,307,308]);function c(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,l=new Proxy(new o.ResponseCookies(r),{get(e,i,s){switch(i){case"delete":case"set":return(...s)=>{let a=Reflect.apply(e[i],e,s),u=new Headers(r);return a instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",a.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),c(t,u),a};default:return a.ReflectAdapter.get(e,i,s)}}});this[u]={cookies:l,url:t.url?new i.NextURL(t.url,{headers:(0,s.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[u].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,s.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,s.validateURL)(e)),c(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),c(e,t),new d(null,{...e,headers:t})}}},2075,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageResponse",{enumerable:!0,get:function(){return n}})},6992,(e,t,r)=>{(()=>{var r={226:function(t,r){!function(n,i){"use strict";var s="function",a="undefined",o="object",u="string",l="major",c="model",d="name",p="type",f="vendor",h="version",m="architecture",g="console",y="mobile",_="tablet",b="smarttv",v="wearable",E="embedded",S="Amazon",w="Apple",R="ASUS",O="BlackBerry",A="Browser",T="Chrome",I="Firefox",C="Google",N="Huawei",P="Microsoft",x="Motorola",D="Opera",k="Samsung",L="Sharp",M="Sony",$="Xiaomi",U="Zebra",j="Facebook",B="Chromium OS",z="Mac OS",q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},K=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},F=function(e,t){return typeof e===u&&-1!==Y(t).indexOf(Y(e))},Y=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,350)},G=function(e,t){for(var r,n,a,u,l,c,d=0;d<t.length&&!l;){var p=t[d],f=t[d+1];for(r=n=0;r<p.length&&!l&&p[r];)if(l=p[r++].exec(e))for(a=0;a<f.length;a++)c=l[++n],typeof(u=f[a])===o&&u.length>0?2===u.length?typeof u[1]==s?this[u[0]]=u[1].call(this,c):this[u[0]]=u[1]:3===u.length?typeof u[1]!==s||u[1].exec&&u[1].test?this[u[0]]=c?c.replace(u[1],u[2]):void 0:this[u[0]]=c?u[1].call(this,c,u[2]):void 0:4===u.length&&(this[u[0]]=c?u[3].call(this,c.replace(u[1],u[2])):i):this[u]=c||i;d+=2}},H=function(e,t){for(var r in t)if(typeof t[r]===o&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(F(t[r][n],e))return"?"===r?i:r}else if(F(t[r],e))return"?"===r?i:r;return e},Z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,h],[/opios[\/ ]+([\w\.]+)/i],[h,[d,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[h,[d,D]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[d,"UC"+A]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[h,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[h,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+A],h],[/\bfocus\/([\w\.]+)/i],[h,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[h,[d,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[d,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[d,"MIUI "+A]],[/fxios\/([-\w\.]+)/i],[h,[d,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 "+A]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 "+A],h],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,j],h],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[h,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[d,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,T+" WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[d,"Android "+A]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,h],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[h,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[h,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[h,H,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[d,h],[/(cobalt)\/([\w\.]+)/i],[d,[h,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[m,"amd64"]],[/(ia32(?=;))/i],[[m,Y]],[/((?:i[346]|x)86)[;\)]/i],[[m,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[m,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[m,"armhf"]],[/windows (ce|mobile); ppc;/i],[[m,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[m,/ower/,"",Y]],[/(sun4\w)[;\)]/i],[[m,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[m,Y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[f,k],[p,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[f,k],[p,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[c,[f,w],[p,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[f,w],[p,_]],[/(macintosh);/i],[c,[f,w]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[f,L],[p,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[f,N],[p,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[f,N],[p,y]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[f,$],[p,y]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[f,$],[p,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[f,"OPPO"],[p,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[f,"Vivo"],[p,y]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[f,"Realme"],[p,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[f,x],[p,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[f,x],[p,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[f,"LG"],[p,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[f,"LG"],[p,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[f,"Lenovo"],[p,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[f,"Nokia"],[p,y]],[/(pixel c)\b/i],[c,[f,C],[p,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[f,C],[p,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[f,M],[p,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[f,M],[p,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[f,"OnePlus"],[p,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[f,S],[p,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[f,S],[p,y]],[/(playbook);[-\w\),; ]+(rim)/i],[c,f,[p,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[f,O],[p,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[f,R],[p,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[f,R],[p,y]],[/(nexus 9)/i],[c,[f,"HTC"],[p,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[c,/_/g," "],[p,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[f,"Acer"],[p,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[f,"Meizu"],[p,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,c,[p,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,c,[p,_]],[/(surface duo)/i],[c,[f,P],[p,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[f,"Fairphone"],[p,y]],[/(u304aa)/i],[c,[f,"AT&T"],[p,y]],[/\bsie-(\w*)/i],[c,[f,"Siemens"],[p,y]],[/\b(rct\w+) b/i],[c,[f,"RCA"],[p,_]],[/\b(venue[\d ]{2,7}) b/i],[c,[f,"Dell"],[p,_]],[/\b(q(?:mv|ta)\w+) b/i],[c,[f,"Verizon"],[p,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[f,"Barnes & Noble"],[p,_]],[/\b(tm\d{3}\w+) b/i],[c,[f,"NuVision"],[p,_]],[/\b(k88) b/i],[c,[f,"ZTE"],[p,_]],[/\b(nx\d{3}j) b/i],[c,[f,"ZTE"],[p,y]],[/\b(gen\d{3}) b.+49h/i],[c,[f,"Swiss"],[p,y]],[/\b(zur\d{3}) b/i],[c,[f,"Swiss"],[p,_]],[/\b((zeki)?tb.*\b) b/i],[c,[f,"Zeki"],[p,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],c,[p,_]],[/\b(ns-?\w{0,9}) b/i],[c,[f,"Insignia"],[p,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[f,"NextBook"],[p,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],c,[p,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],c,[p,y]],[/\b(ph-1) /i],[c,[f,"Essential"],[p,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[f,"Envizen"],[p,_]],[/\b(trio[-\w\. ]+) b/i],[c,[f,"MachSpeed"],[p,_]],[/\btu_(1491) b/i],[c,[f,"Rotor"],[p,_]],[/(shield[\w ]+) b/i],[c,[f,"Nvidia"],[p,_]],[/(sprint) (\w+)/i],[f,c,[p,y]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[f,P],[p,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[f,U],[p,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[f,U],[p,y]],[/smart-tv.+(samsung)/i],[f,[p,b]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[f,k],[p,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,"LG"],[p,b]],[/(apple) ?tv/i],[f,[c,w+" TV"],[p,b]],[/crkey/i],[[c,T+"cast"],[f,C],[p,b]],[/droid.+aft(\w)( bui|\))/i],[c,[f,S],[p,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[f,L],[p,b]],[/(bravia[\w ]+)( bui|\))/i],[c,[f,M],[p,b]],[/(mitv-\w{5}) bui/i],[c,[f,$],[p,b]],[/Hbbtv.*(technisat) (.*);/i],[f,c,[p,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,V],[c,V],[p,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,c,[p,g]],[/droid.+; (shield) bui/i],[c,[f,"Nvidia"],[p,g]],[/(playstation [345portablevi]+)/i],[c,[f,M],[p,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[f,P],[p,g]],[/((pebble))app/i],[f,c,[p,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[c,[f,w],[p,v]],[/droid.+; (glass) \d/i],[c,[f,C],[p,v]],[/droid.+; (wt63?0{2,3})\)/i],[c,[f,U],[p,v]],[/(quest( 2| pro)?)/i],[c,[f,j],[p,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[p,E]],[/(aeobc)\b/i],[c,[f,S],[p,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[p,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,y]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[h,H,Z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[h,H,Z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,z],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[h,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,h],[/\(bb(10);/i],[h,[d,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[h,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[h,[d,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,B],h],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,h],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,h]]},Q=function(e,t){if(typeof e===o&&(t=e,e=i),!(this instanceof Q))return new Q(e,t).getResult();var r=typeof n!==a&&n.navigator?n.navigator:i,g=e||(r&&r.userAgent?r.userAgent:""),b=r&&r.userAgentData?r.userAgentData:i,v=t?q(W,t):W,E=r&&r.userAgent==g;return this.getBrowser=function(){var e,t={};return t[d]=i,t[h]=i,G.call(t,g,v.browser),t[l]=typeof(e=t[h])===u?e.replace(/[^\d\.]/g,"").split(".")[0]:i,E&&r&&r.brave&&typeof r.brave.isBrave==s&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[m]=i,G.call(e,g,v.cpu),e},this.getDevice=function(){var e={};return e[f]=i,e[c]=i,e[p]=i,G.call(e,g,v.device),E&&!e[p]&&b&&b.mobile&&(e[p]=y),E&&"Macintosh"==e[c]&&r&&typeof r.standalone!==a&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[c]="iPad",e[p]=_),e},this.getEngine=function(){var e={};return e[d]=i,e[h]=i,G.call(e,g,v.engine),e},this.getOS=function(){var e={};return e[d]=i,e[h]=i,G.call(e,g,v.os),E&&!e[d]&&b&&"Unknown"!=b.platform&&(e[d]=b.platform.replace(/chrome os/i,B).replace(/macos/i,z)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return g},this.setUA=function(e){return g=typeof e===u&&e.length>350?V(e,350):e,this},this.setUA(g),this};if(Q.VERSION="1.0.35",Q.BROWSER=K([d,h,l]),Q.CPU=K([m]),Q.DEVICE=K([c,f,p,g,y,b,_,v,E]),Q.ENGINE=Q.OS=K([d,h]),typeof r!==a)t.exports&&(r=t.exports=Q),r.UAParser=Q;else if(typeof define===s&&define.amd)e.r,void 0!==Q&&e.v(Q);else typeof n!==a&&(n.UAParser=Q);var X=typeof n!==a&&(n.jQuery||n.Zepto);if(X&&!X.ua){var J=new Q;X.ua=J.getResult(),X.ua.get=function(){return J.getUA()},X.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var r in t)X.ua[r]=t[r]}}}(this)}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}},a=!0;try{r[e].call(s.exports,s,s.exports,i),a=!1}finally{a&&delete n[e]}return s.exports}i.ab="/ROOT/node_modules/next/dist/compiled/ua-parser-js/",t.exports=i(226)})()},60567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{isBot:function(){return i},userAgent:function(){return a},userAgentFromString:function(){return s}});let n=function(e){return e&&e.__esModule?e:{default:e}}(e.r(6992));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function s(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function a({headers:e}){return s(e.get("user-agent")||void 0)}},98214,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"URLPattern",{enumerable:!0,get:function(){return n}});let n="undefined"==typeof URLPattern?void 0:URLPattern},66229,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"after",{enumerable:!0,get:function(){return i}});let n=e.r(56704);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},3368,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(e.r(66229),r)},44822,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"connection",{enumerable:!0,get:function(){return l}});let n=e.r(56704),i=e.r(32319),s=e.r(21401),a=e.r(80773),o=e.r(37138),u=e.r(19048);function l(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,u.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(e.dynamicShouldError)throw Object.defineProperty(new a.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t)switch(t.type){case"cache":{let t=Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual request, but caches must be able to be produced before a request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E752",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,l),e.invalidDynamicUsageError??=t,t}case"private-cache":{let t=Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache: private". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual navigation request, but caches must be able to be produced before a navigation request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E753",enumerable:!1,configurable:!0});throw Error.captureStackTrace(t,l),e.invalidDynamicUsageError??=t,t}case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-runtime":return(0,o.makeHangingPromise)(t.renderSignal,e.route,"`connection()`");case"prerender-ppr":return(0,s.postponeWithTracking)(e.route,"connection",t.dynamicTracking);case"prerender-legacy":return(0,s.throwToInterruptStaticGeneration)("connection",e,t);case"request":return(0,s.trackDynamicDataInDynamicRender)(t),Promise.resolve(void 0)}}(0,i.throwForMissingRequestStore)("connection")}},14498,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{describeHasCheckingStringProperty:function(){return s},describeStringPropertyAccess:function(){return i},wellKnownProperties:function(){return a}});let n=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function i(e,t){return n.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function s(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let a=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","_debugInfo","toJSON","$$typeof","__esModule"])},43454,(e,t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{bgBlack:function(){return T},bgBlue:function(){return P},bgCyan:function(){return D},bgGreen:function(){return C},bgMagenta:function(){return x},bgRed:function(){return I},bgWhite:function(){return k},bgYellow:function(){return N},black:function(){return y},blue:function(){return E},bold:function(){return c},cyan:function(){return R},dim:function(){return d},gray:function(){return A},green:function(){return b},hidden:function(){return m},inverse:function(){return h},italic:function(){return p},magenta:function(){return S},purple:function(){return w},red:function(){return _},reset:function(){return l},strikethrough:function(){return g},underline:function(){return f},white:function(){return O},yellow:function(){return v}});let{env:i,stdout:s}=(null==(n=globalThis)?void 0:n.process)??{},a=i&&!i.NO_COLOR&&(i.FORCE_COLOR||(null==s?void 0:s.isTTY)&&!i.CI&&"dumb"!==i.TERM),o=(e,t,r,n)=>{let i=e.substring(0,n)+r,s=e.substring(n+t.length),a=s.indexOf(t);return~a?i+o(s,t,r,a):i+s},u=(e,t,r=e)=>a?n=>{let i=""+n,s=i.indexOf(t,e.length);return~s?e+o(i,t,r,s)+t:e+i+t}:String,l=a?e=>`\x1b[0m${e}\x1b[0m`:String,c=u("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"),d=u("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),p=u("\x1b[3m","\x1b[23m"),f=u("\x1b[4m","\x1b[24m"),h=u("\x1b[7m","\x1b[27m"),m=u("\x1b[8m","\x1b[28m"),g=u("\x1b[9m","\x1b[29m"),y=u("\x1b[30m","\x1b[39m"),_=u("\x1b[31m","\x1b[39m"),b=u("\x1b[32m","\x1b[39m"),v=u("\x1b[33m","\x1b[39m"),E=u("\x1b[34m","\x1b[39m"),S=u("\x1b[35m","\x1b[39m"),w=u("\x1b[38;2;173;127;168m","\x1b[39m"),R=u("\x1b[36m","\x1b[39m"),O=u("\x1b[37m","\x1b[39m"),A=u("\x1b[90m","\x1b[39m"),T=u("\x1b[40m","\x1b[49m"),I=u("\x1b[41m","\x1b[49m"),C=u("\x1b[42m","\x1b[49m"),N=u("\x1b[43m","\x1b[49m"),P=u("\x1b[44m","\x1b[49m"),x=u("\x1b[45m","\x1b[49m"),D=u("\x1b[46m","\x1b[49m"),k=u("\x1b[47m","\x1b[49m")},45677,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"LRUCache",{enumerable:!0,get:function(){return s}});class n{constructor(e,t,r){this.prev=null,this.next=null,this.key=e,this.data=t,this.size=r}}class i{constructor(){this.prev=null,this.next=null}}class s{constructor(e,t){this.cache=new Map,this.totalSize=0,this.maxSize=e,this.calculateSize=t,this.head=new i,this.tail=new i,this.head.next=this.tail,this.tail.prev=this.head}addToHead(e){e.prev=this.head,e.next=this.head.next,this.head.next.prev=e,this.head.next=e}removeNode(e){e.prev.next=e.next,e.next.prev=e.prev}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){let e=this.tail.prev;return this.removeNode(e),e}set(e,t){let r=(null==this.calculateSize?void 0:this.calculateSize.call(this,t))??1;if(r>this.maxSize)return void console.warn("Single item size exceeds maxSize");let i=this.cache.get(e);if(i)i.data=t,this.totalSize=this.totalSize-i.size+r,i.size=r,this.moveToHead(i);else{let i=new n(e,t,r);this.cache.set(e,i),this.addToHead(i),this.totalSize+=r}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let e=this.removeTail();this.cache.delete(e.key),this.totalSize-=e.size}}has(e){return this.cache.has(e)}get(e){let t=this.cache.get(e);if(t)return this.moveToHead(t),t.data}*[Symbol.iterator](){let e=this.head.next;for(;e&&e!==this.tail;){let t=e;yield[t.key,t.data],e=e.next}}remove(e){let t=this.cache.get(e);t&&(this.removeNode(t),this.cache.delete(e),this.totalSize-=t.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},76076,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{bootstrap:function(){return u},error:function(){return c},event:function(){return h},info:function(){return f},prefixes:function(){return s},ready:function(){return p},trace:function(){return m},wait:function(){return l},warn:function(){return d},warnOnce:function(){return y}});let n=e.r(43454),i=e.r(45677),s={wait:(0,n.white)((0,n.bold)("")),error:(0,n.red)((0,n.bold)("")),warn:(0,n.yellow)((0,n.bold)("")),ready:"",info:(0,n.white)((0,n.bold)(" ")),event:(0,n.green)((0,n.bold)("")),trace:(0,n.magenta)((0,n.bold)(""))},a={log:"log",warn:"warn",error:"error"};function o(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in a?a[e]:"log",n=s[e];0===t.length?console[r](""):1===t.length&&"string"==typeof t[0]?console[r](" "+n+" "+t[0]):console[r](" "+n,...t)}function u(...e){console.log("   "+e.join(" "))}function l(...e){o("wait",...e)}function c(...e){o("error",...e)}function d(...e){o("warn",...e)}function p(...e){o("ready",...e)}function f(...e){o("info",...e)}function h(...e){o("event",...e)}function m(...e){o("trace",...e)}let g=new i.LRUCache(1e4,e=>e.length);function y(...e){let t=e.join(" ");g.has(t)||(g.set(t,t),d(...e))}},13480,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{getRootParam:function(){return f},unstable_rootParams:function(){return p}});let n=e.r(35121),i=e.r(21401),s=e.r(56704),a=e.r(32319),o=e.r(37138),u=e.r(14498),l=e.r(20635),c=e.r(76076),d=new WeakMap;async function p(){(0,c.warnOnce)("`unstable_rootParams()` is deprecated and will be removed in an upcoming major release. Import specific root params from `next/root-params` instead.");let e=s.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new n.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=a.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"cache":case"unstable-cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){switch(r.type){case"prerender-client":{let e="`unstable_rootParams`";throw Object.defineProperty(new n.InvariantError(`${e} must not be used within a client component. Next.js should be preventing ${e} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0})}case"prerender":{let n=r.fallbackRouteParams;if(n){for(let i in e)if(n.has(i)){let n=d.get(e);if(n)return n;let i=(0,o.makeHangingPromise)(r.renderSignal,t.route,"`unstable_rootParams`");return d.set(e,i),i}}break}case"prerender-ppr":{let n=r.fallbackRouteParams;if(n){for(let s in e)if(n.has(s))return function(e,t,r,n){let s=d.get(e);if(s)return s;let a={...e},o=Promise.resolve(a);return d.set(e,o),Object.keys(e).forEach(s=>{u.wellKnownProperties.has(s)||(t.has(s)?Object.defineProperty(a,s,{get(){let e=(0,u.describeStringPropertyAccess)("unstable_rootParams",s);"prerender-ppr"===n.type?(0,i.postponeWithTracking)(r.route,e,n.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(e,r,n)},enumerable:!0}):o[s]=e[s])}),o}(e,n,t,r)}}}return Promise.resolve(e)}(t.rootParams,e,t);case"private-cache":case"prerender-runtime":case"request":return Promise.resolve(t.rootParams);default:return t}}function f(e){let t=`\`import('next/root-params').${e}()\``,r=s.workAsyncStorage.getStore();if(!r)throw Object.defineProperty(new n.InvariantError(`Missing workStore in ${t}`),"__NEXT_ERROR_CODE",{value:"E764",enumerable:!1,configurable:!0});let i=a.workUnitAsyncStorage.getStore();if(!i)throw Object.defineProperty(Error(`Route ${r.route} used ${t} outside of a Server Component. This is not allowed.`),"__NEXT_ERROR_CODE",{value:"E774",enumerable:!1,configurable:!0});let u=l.actionAsyncStorage.getStore();if(u){if(u.isAppRoute)throw Object.defineProperty(Error(`Route ${r.route} used ${t} inside a Route Handler. Support for this API in Route Handlers is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E765",enumerable:!1,configurable:!0});if(u.isAction&&"action"===i.phase)throw Object.defineProperty(Error(`${t} was used inside a Server Action. This is not supported. Functions from 'next/root-params' can only be called in the context of a route.`),"__NEXT_ERROR_CODE",{value:"E766",enumerable:!1,configurable:!0})}switch(i.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${r.route} used ${t} inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E760",enumerable:!1,configurable:!0});case"prerender":case"prerender-client":case"prerender-ppr":case"prerender-legacy":var c=e,d=r,p=i,f=t;if("prerender-client"===p.type)throw Object.defineProperty(new n.InvariantError(`${f} must not be used within a client component. Next.js should be preventing ${f} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});let m=p.rootParams;switch(p.type){case"prerender":if(p.fallbackRouteParams&&p.fallbackRouteParams.has(c))return(0,o.makeHangingPromise)(p.renderSignal,d.route,f);break;case"prerender-ppr":if(p.fallbackRouteParams&&p.fallbackRouteParams.has(c))return h(c,d,p,f)}return Promise.resolve(m[c])}return Promise.resolve(i.rootParams[e])}async function h(e,t,r,n){let s=(0,u.describeStringPropertyAccess)(n,e);switch(r.type){case"prerender-ppr":return(0,i.postponeWithTracking)(t.route,s,r.dynamicTracking);case"prerender-legacy":return(0,i.throwToInterruptStaticGeneration)(s,t,r)}}},55207,(e,t,r)=>{let n={NextRequest:e.r(75447).NextRequest,NextResponse:e.r(9052).NextResponse,ImageResponse:e.r(2075).ImageResponse,userAgentFromString:e.r(60567).userAgentFromString,userAgent:e.r(60567).userAgent,URLPattern:e.r(98214).URLPattern,after:e.r(3368).after,connection:e.r(44822).connection,unstable_rootParams:e.r(13480).unstable_rootParams};t.exports=n,r.NextRequest=n.NextRequest,r.NextResponse=n.NextResponse,r.ImageResponse=n.ImageResponse,r.userAgentFromString=n.userAgentFromString,r.userAgent=n.userAgent,r.URLPattern=n.URLPattern,r.after=n.after,r.connection=n.connection,r.unstable_rootParams=n.unstable_rootParams},19829,e=>{"use strict";e.s(["entityKind",()=>t,"is",()=>r]);let t=Symbol.for("drizzle:entityKind");function r(e,r){if(!e||"object"!=typeof e)return!1;if(e instanceof r)return!0;if(!Object.prototype.hasOwnProperty.call(r,t))throw Error(`Class "${r.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(t in n&&n[t]===r[t])return!0;n=Object.getPrototypeOf(n)}return!1}Symbol.for("drizzle:hasOwnEntityKind")},87249,e=>{"use strict";e.s(["DefaultLogger",()=>n,"NoopLogger",()=>i]);var t=e.i(19829);class r{static [t.entityKind]="ConsoleLogWriter";write(e){console.log(e)}}class n{static [t.entityKind]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new r}logQuery(e,t){let r=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),n=r.length?` -- params: [${r.join(", ")}]`:"";this.writer.write(`Query: ${e}${n}`)}}class i{static [t.entityKind]="NoopLogger";logQuery(){}}},66447,40066,e=>{"use strict";let t,r;function n(e,...t){return e(...t)}e.s(["iife",()=>n],66447),e.s(["tracer",()=>i],40066);let i={startActiveSpan:(e,i)=>t?(r||(r=t.trace.getTracer("drizzle-orm","0.44.7")),n((t,r)=>r.startActiveSpan(e,e=>{try{return i(e)}catch(r){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:r instanceof Error?r.message:"Unknown error"}),r}finally{e.end()}}),t,r)):i()}},38031,31188,11093,90043,32311,57206,69900,82108,e=>{"use strict";e.s(["Column",()=>r],38031);var t=e.i(19829);class r{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [t.entityKind]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}e.s(["Param",()=>G,"Placeholder",()=>Z,"SQL",()=>q,"StringChunk",()=>z,"View",()=>X,"fillPlaceholders",()=>W,"isDriverValueEncoder",()=>F,"isSQLWrapper",()=>B,"sql",()=>H],82108),e.s(["IndexedColumn",()=>g,"PgColumn",()=>h,"PgColumnBuilder",()=>f],90043);class n{static [t.entityKind]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}e.s(["ForeignKeyBuilder",()=>s],31188);let i=Symbol.for("drizzle:Name");class s{static [t.entityKind]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:n}=e();return{name:t,columns:r,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new a(e,this)}}class a{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [t.entityKind]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(e=>e.name),s=r.map(e=>e.name),a=[this.table[i],...n,r[0].table[i],...s];return e??`${a.join("_")}_fk`}}var o=e.i(66447);function u(e,t){return`${e[i]}_${t.join("_")}_unique`}e.s(["UniqueConstraintBuilder",()=>l,"uniqueKeyName",()=>u],11093);class l{constructor(e,t){this.name=t,this.columns=e}static [t.entityKind]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new d(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class c{static [t.entityKind]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new l(e,this.name)}}class d{constructor(e,t,r,n){this.table=e,this.columns=t,this.name=n??u(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [t.entityKind]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function p(e,t,r){for(let n=t;n<e.length;n++){let i=e[n];if("\\"===i){n++;continue}if('"'===i)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(","===i||"}"===i))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}class f extends n{foreignKeyConfigs=[];static [t.entityKind]="PgColumnBuilder";array(e){return new y(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>(0,o.iife)((r,n)=>{let i=new s(()=>({columns:[e],foreignColumns:[r()]}));return n.onUpdate&&i.onUpdate(n.onUpdate),n.onDelete&&i.onDelete(n.onDelete),i.build(t)},r,n))}buildExtraConfigColumn(e){return new m(e,this.config)}}class h extends r{constructor(e,t){t.uniqueName||(t.uniqueName=u(e,[t.name])),super(e,t),this.table=e}static [t.entityKind]="PgColumn"}class m extends h{static [t.entityKind]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class g{static [t.entityKind]="IndexedColumn";constructor(e,t,r,n){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class y extends f{static [t.entityKind]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new _(e,this.config,t)}}class _ extends h{constructor(e,t,r,n){super(e,t),this.baseColumn=r,this.range=n,this.size=t.size}size;static [t.entityKind]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let n=[],i=r,s=!1;for(;i<t.length;){let a=t[i];if(","===a){(s||i===r)&&n.push(""),s=!0,i++;continue}if(s=!1,"\\"===a){i+=2;continue}if('"'===a){let[e,r]=p(t,i+1,!0);n.push(e),i=r;continue}if("}"===a)return[n,i+1];if("{"===a){let[r,s]=e(t,i+1);n.push(r),i=s;continue}let[o,u]=p(t,i,!1);n.push(o),i=u}return[n,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,r=!1){let n=e.map(e=>null===e?null:(0,t.is)(this.baseColumn,_)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return r?n:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(n)}}class b extends f{static [t.entityKind]="PgEnumObjectColumnBuilder";constructor(e,t){super(e,"string","PgEnumObjectColumn"),this.config.enum=t}build(e){return new v(e,this.config)}}class v extends h{static [t.entityKind]="PgEnumObjectColumn";enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}let E=Symbol.for("drizzle:isPgEnum");class S extends f{static [t.entityKind]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new w(e,this.config)}}class w extends h{static [t.entityKind]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}e.s(["Subquery",()=>R,"WithSubquery",()=>O],32311);class R{static [t.entityKind]="Subquery";constructor(e,t,r,n=!1,i=[]){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n,usedTables:i}}}class O extends R{static [t.entityKind]="WithSubquery"}var A=e.i(40066);e.s(["ViewBaseConfig",()=>T],57206);let T=Symbol.for("drizzle:ViewBaseConfig");e.s(["Columns",()=>C,"IsAlias",()=>D,"Schema",()=>I,"Table",()=>M,"getTableName",()=>$,"getTableUniqueName",()=>U],69900);let I=Symbol.for("drizzle:Schema"),C=Symbol.for("drizzle:Columns"),N=Symbol.for("drizzle:ExtraConfigColumns"),P=Symbol.for("drizzle:OriginalName"),x=Symbol.for("drizzle:BaseName"),D=Symbol.for("drizzle:IsAlias"),k=Symbol.for("drizzle:ExtraConfigBuilder"),L=Symbol.for("drizzle:IsDrizzleTable");class M{static [t.entityKind]="Table";static Symbol={Name:i,Schema:I,OriginalName:P,Columns:C,ExtraConfigColumns:N,BaseName:x,IsAlias:D,ExtraConfigBuilder:k};[i];[P];[I];[C];[N];[x];[D]=!1;[L]=!0;[k]=void 0;constructor(e,t,r){this[i]=this[P]=e,this[I]=t,this[x]=r}}function $(e){return e[i]}function U(e){return`${e[I]??"public"}.${e[i]}`}class j{static [t.entityKind]="FakePrimitiveParam"}function B(e){return null!=e&&"function"==typeof e.getSQL}class z{static [t.entityKind]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new q([this])}}class q{constructor(e){for(let r of(this.queryChunks=e,e))if((0,t.is)(r,M)){let e=r[M.Symbol.Schema];this.usedTables.push(void 0===e?r[M.Symbol.Name]:e+"."+r[M.Symbol.Name])}}static [t.entityKind]="SQL";decoder=Y;shouldInlineParams=!1;usedTables=[];append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return A.tracer.startActiveSpan("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,n){let i=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:u,inlineParams:l,paramStartIndex:c}=i;var d=e.map(e=>{if((0,t.is)(e,z))return{sql:e.value.join(""),params:[]};if((0,t.is)(e,K))return{sql:a(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new z("(")];for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(new z(", "));return t.push(new z(")")),this.buildQueryFromSourceParams(t,i)}if((0,t.is)(e,q))return this.buildQueryFromSourceParams(e.queryChunks,{...i,inlineParams:l||e.shouldInlineParams});if((0,t.is)(e,M)){let t=e[M.Symbol.Schema],r=e[M.Symbol.Name];return{sql:void 0===t||e[D]?a(r):a(t)+"."+a(r),params:[]}}if((0,t.is)(e,r)){let t=s.getColumnCasing(e);if("indexes"===n.invokeSource)return{sql:a(t),params:[]};let r=e.table[M.Symbol.Schema];return{sql:e.table[D]||void 0===r?a(e.table[M.Symbol.Name])+"."+a(t):a(r)+"."+a(e.table[M.Symbol.Name])+"."+a(t),params:[]}}if((0,t.is)(e,X)){let t=e[T].schema,r=e[T].name;return{sql:void 0===t||e[T].isAlias?a(r):a(t)+"."+a(r),params:[]}}if((0,t.is)(e,G)){if((0,t.is)(e.value,Z))return{sql:o(c.value++,e),params:[e],typings:["none"]};let r=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,t.is)(r,q))return this.buildQueryFromSourceParams([r],i);if(l)return{sql:this.mapInlineParam(r,i),params:[]};let n=["none"];return u&&(n=[u(e.encoder)]),{sql:o(c.value++,r),params:[r],typings:n}}return(0,t.is)(e,Z)?{sql:o(c.value++,e),params:[e],typings:["none"]}:(0,t.is)(e,q.Aliased)&&void 0!==e.fieldAlias?{sql:a(e.fieldAlias),params:[]}:(0,t.is)(e,R)?e._.isWith?{sql:a(e._.alias),params:[]}:this.buildQueryFromSourceParams([new z("("),e._.sql,new z(") "),new K(e._.alias)],i):e&&"function"==typeof e&&E in e&&!0===e[E]?e.schema?{sql:a(e.schema)+"."+a(e.enumName),params:[]}:{sql:a(e.enumName),params:[]}:B(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],i):this.buildQueryFromSourceParams([new z("("),e.getSQL(),new z(")")],i):l?{sql:this.mapInlineParam(e,i),params:[]}:{sql:o(c.value++,e),params:[e],typings:["none"]}});let p={sql:"",params:[]};for(let e of d)p.sql+=e.sql,p.params.push(...e.params),e.typings?.length&&(p.typings||(p.typings=[]),p.typings.push(...e.typings));return p}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new q.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class K{constructor(e){this.value=e}static [t.entityKind]="Name";brand;getSQL(){return new q([this])}}function F(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let Y={mapFromDriverValue:e=>e},V={mapToDriverValue:e=>e};({...Y,...V});class G{constructor(e,t=V){this.value=e,this.encoder=t}static [t.entityKind]="Param";brand;getSQL(){return new q([this])}}function H(e,...t){let r=[];for(let[n,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new z(e[0])),t.entries()))r.push(i,new z(e[n+1]));return new q(r)}(e=>{e.empty=function(){return new q([])},e.fromList=function(e){return new q(e)},e.raw=function(e){return new q([new z(e)])},e.join=function(e,t){let r=[];for(let[n,i]of e.entries())n>0&&void 0!==t&&r.push(t),r.push(i);return new q(r)},e.identifier=function(e){return new K(e)},e.placeholder=function(e){return new Z(e)},e.param=function(e,t){return new G(e,t)}})(H||(H={})),(e=>{class r{constructor(e,t){this.sql=e,this.fieldAlias=t}static [t.entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}}e.Aliased=r})(q||(q={}));class Z{constructor(e){this.name=e}static [t.entityKind]="Placeholder";getSQL(){return new q([this])}}function W(e,r){return e.map(e=>{if((0,t.is)(e,Z)){if(!(e.name in r))throw Error(`No value for placeholder "${e.name}" was provided`);return r[e.name]}if((0,t.is)(e,G)&&(0,t.is)(e.value,Z)){if(!(e.value.name in r))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(r[e.value.name])}return e})}let Q=Symbol.for("drizzle:IsDrizzleView");class X{static [t.entityKind]="View";[T];[Q]=!0;constructor({name:e,schema:t,selectedFields:r,query:n}){this[T]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new q([this])}}r.prototype.getSQL=function(){return new q([this])},M.prototype.getSQL=function(){return new q([this])},R.prototype.getSQL=function(){return new q([this])}},89902,e=>{"use strict";e.s(["applyMixins",()=>c,"getColumnNameAndConfig",()=>f,"getTableColumns",()=>d,"getTableLikeName",()=>p,"haveSameKeys",()=>u,"isConfig",()=>h,"mapResultRow",()=>o,"mapUpdateSet",()=>l,"orderSelectedFields",()=>function e(i,a){return Object.entries(i).reduce((i,[o,u])=>{if("string"!=typeof o)return i;let l=a?[...a,o]:[o];return(0,r.is)(u,t.Column)||(0,r.is)(u,n.SQL)||(0,r.is)(u,n.SQL.Aliased)?i.push({path:l,field:u}):(0,r.is)(u,s.Table)?i.push(...e(u[s.Table.Symbol.Columns],l)):i.push(...e(u,l)),i},[])}]);var t=e.i(38031),r=e.i(19829),n=e.i(82108),i=e.i(32311),s=e.i(69900),a=e.i(57206);function o(e,i,a){let o={},u=e.reduce((e,{path:u,field:l},c)=>{let d;d=(0,r.is)(l,t.Column)?l:(0,r.is)(l,n.SQL)?l.decoder:l.sql.decoder;let p=e;for(let[e,n]of u.entries())if(e<u.length-1)n in p||(p[n]={}),p=p[n];else{let e=i[c],f=p[n]=null===e?null:d.mapFromDriverValue(e);if(a&&(0,r.is)(l,t.Column)&&2===u.length){let e=u[0];e in o?"string"==typeof o[e]&&o[e]!==(0,s.getTableName)(l.table)&&(o[e]=!1):o[e]=null===f&&(0,s.getTableName)(l.table)}}return e},{});if(a&&Object.keys(o).length>0)for(let[e,t]of Object.entries(o))"string"!=typeof t||a[t]||(u[e]=null);return u}function u(e,t){let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let[e,t]of r.entries())if(t!==n[e])return!1;return!0}function l(e,i){let a=Object.entries(i).filter(([,e])=>void 0!==e).map(([i,a])=>(0,r.is)(a,n.SQL)||(0,r.is)(a,t.Column)?[i,a]:[i,new n.Param(a,e[s.Table.Symbol.Columns][i])]);if(0===a.length)throw Error("No values to set");return Object.fromEntries(a)}function c(e,t){for(let r of t)for(let t of Object.getOwnPropertyNames(r.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(r.prototype,t)||Object.create(null))}function d(e){return e[s.Table.Symbol.Columns]}function p(e){return(0,r.is)(e,i.Subquery)?e._.alias:(0,r.is)(e,n.View)?e[a.ViewBaseConfig].name:(0,r.is)(e,n.SQL)?void 0:e[s.Table.Symbol.IsAlias]?e[s.Table.Symbol.Name]:e[s.Table.Symbol.BaseName]}function f(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function h(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.schema;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.casing;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}"undefined"==typeof TextDecoder||new TextDecoder},33250,18467,58225,13055,2564,44115,63177,66248,87280,57367,e=>{"use strict";e.s(["PgTable",()=>tz,"pgTable",()=>tq],33250);var t=e.i(19829),r=e.i(69900),n=e.i(89902),i=e.i(90043),s=i;class a extends s.PgColumnBuilder{static [t.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class o extends a{static [t.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u(e,this.config)}}class u extends i.PgColumn{static [t.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class l extends a{static [t.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new c(e,this.config)}}class c extends i.PgColumn{static [t.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function d(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return"number"===i.mode?new o(r):new l(r)}var p=i;class f extends p.PgColumnBuilder{static [t.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new h(e,this.config)}}class h extends p.PgColumn{static [t.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class m extends p.PgColumnBuilder{static [t.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new g(e,this.config)}}class g extends p.PgColumn{static [t.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function y(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return"number"===i.mode?new f(r):new m(r)}e.s(["boolean",()=>E],18467);var _=i;class b extends _.PgColumnBuilder{static [t.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new v(e,this.config)}}class v extends _.PgColumn{static [t.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function E(e){return new b(e??"")}var S=i;class w extends S.PgColumnBuilder{static [t.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new R(e,this.config)}}class R extends S.PgColumn{static [t.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function O(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new w(r,i)}var A=i;class T extends A.PgColumnBuilder{static [t.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new I(e,this.config)}}class I extends A.PgColumn{static [t.entityKind]="PgCidr";getSQLType(){return"cidr"}}function C(e){return new T(e??"")}var N=i;class P extends N.PgColumnBuilder{static [t.entityKind]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new x(e,this.config)}}class x extends N.PgColumn{static [t.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function D(e){return(t,r)=>{let{name:i,config:s}=(0,n.getColumnNameAndConfig)(t,r);return new P(i,s,e)}}e.s(["PgDate",()=>j,"PgDateString",()=>z,"date",()=>q],58225);var k=i,L=e.i(82108),M=i;class $ extends M.PgColumnBuilder{static [t.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(L.sql`now()`)}}class U extends ${static [t.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new j(e,this.config)}}class j extends k.PgColumn{static [t.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class B extends ${static [t.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new z(e,this.config)}}class z extends k.PgColumn{static [t.entityKind]="PgDateString";getSQLType(){return"date"}}function q(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return i?.mode==="date"?new U(r):new B(r)}var K=i;class F extends K.PgColumnBuilder{static [t.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Y(e,this.config)}}class Y extends K.PgColumn{static [t.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function V(e){return new F(e??"")}var G=i;class H extends G.PgColumnBuilder{static [t.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new Z(e,this.config)}}class Z extends G.PgColumn{static [t.entityKind]="PgInet";getSQLType(){return"inet"}}function W(e){return new H(e??"")}var Q=i;class X extends a{static [t.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new J(e,this.config)}}class J extends Q.PgColumn{static [t.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function ee(e){return new X(e??"")}var et=i;class er extends et.PgColumnBuilder{static [t.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new en(e,this.config)}}class en extends et.PgColumn{static [t.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function ei(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new er(r,i)}e.s(["PgJson",()=>eo,"json",()=>eu],13055);var es=i;class ea extends es.PgColumnBuilder{static [t.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new eo(e,this.config)}}class eo extends es.PgColumn{static [t.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function eu(e){return new ea(e??"")}e.s(["PgJsonb",()=>ed,"jsonb",()=>ep],2564);var el=i;class ec extends el.PgColumnBuilder{static [t.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new ed(e,this.config)}}class ed extends el.PgColumn{static [t.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function ep(e){return new ec(e??"")}var ef=i;class eh extends ef.PgColumnBuilder{static [t.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new em(e,this.config)}}class em extends ef.PgColumn{static [t.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class eg extends ef.PgColumnBuilder{static [t.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new ey(e,this.config)}}class ey extends ef.PgColumn{static [t.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function e_(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eg(r):new eh(r)}var eb=i;class ev extends eb.PgColumnBuilder{static [t.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new eE(e,this.config)}}class eE extends eb.PgColumn{static [t.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function eS(e){return new ev(e??"")}var ew=i;class eR extends ew.PgColumnBuilder{static [t.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new eO(e,this.config)}}class eO extends ew.PgColumn{static [t.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function eA(e){return new eR(e??"")}e.s(["PgNumeric",()=>eC,"numeric",()=>ek],44115);var eT=i;class eI extends eT.PgColumnBuilder{static [t.entityKind]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new eC(e,this.config)}}class eC extends eT.PgColumn{static [t.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"string"==typeof e?e:String(e)}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class eN extends eT.PgColumnBuilder{static [t.entityKind]="PgNumericNumberBuilder";constructor(e,t,r){super(e,"number","PgNumericNumber"),this.config.precision=t,this.config.scale=r}build(e){return new eP(e,this.config)}}class eP extends eT.PgColumn{static [t.entityKind]="PgNumericNumber";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}class ex extends eT.PgColumnBuilder{static [t.entityKind]="PgNumericBigIntBuilder";constructor(e,t,r){super(e,"bigint","PgNumericBigInt"),this.config.precision=t,this.config.scale=r}build(e){return new eD(e,this.config)}}class eD extends eT.PgColumn{static [t.entityKind]="PgNumericBigInt";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}mapFromDriverValue=BigInt;mapToDriverValue=String;getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function ek(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t),s=i?.mode;return"number"===s?new eN(r,i?.precision,i?.scale):"bigint"===s?new ex(r,i?.precision,i?.scale):new eI(r,i?.precision,i?.scale)}var eL=i;class eM extends eL.PgColumnBuilder{static [t.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new e$(e,this.config)}}class e$ extends eL.PgColumn{static [t.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class eU extends eL.PgColumnBuilder{static [t.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new ej(e,this.config)}}class ej extends eL.PgColumn{static [t.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function eB(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eU(r):new eM(r)}var ez=i;function eq(e,t){let r=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)r.setUint8(n,e[t+n]);return r.getFloat64(0,!0)}function eK(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,n=t[0];r+=1;let i=new DataView(t.buffer),s=i.getUint32(r,1===n);if(r+=4,0x20000000&s&&(i.getUint32(r,1===n),r+=4),(65535&s)==1){let e=eq(t,r),n=eq(t,r+=8);return r+=8,[e,n]}throw Error("Unsupported geometry type")}class eF extends ez.PgColumnBuilder{static [t.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new eY(e,this.config)}}class eY extends ez.PgColumn{static [t.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return eK(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class eV extends ez.PgColumnBuilder{static [t.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new eG(e,this.config)}}class eG extends ez.PgColumn{static [t.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=eK(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function eH(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return i?.mode&&"tuple"!==i.mode?new eV(r):new eF(r)}var eZ=i;class eW extends eZ.PgColumnBuilder{static [t.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new eQ(e,this.config)}}class eQ extends eZ.PgColumn{static [t.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function eX(e){return new eW(e??"")}var eJ=i;class e0 extends eJ.PgColumnBuilder{static [t.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new e1(e,this.config)}}class e1 extends eJ.PgColumn{static [t.entityKind]="PgSerial";getSQLType(){return"serial"}}function e4(e){return new e0(e??"")}var e2=i;class e6 extends a{static [t.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new e3(e,this.config)}}class e3 extends e2.PgColumn{static [t.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function e8(e){return new e6(e??"")}var e5=i;class e9 extends e5.PgColumnBuilder{static [t.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new e7(e,this.config)}}class e7 extends e5.PgColumn{static [t.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function te(e){return new e9(e??"")}e.s(["text",()=>ti],63177);var tt=i;class tr extends tt.PgColumnBuilder{static [t.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new tn(e,this.config)}}class tn extends tt.PgColumn{static [t.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function ti(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tr(r,i)}e.s(["PgTime",()=>to,"time",()=>tu],66248);var ts=i;class ta extends ${constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [t.entityKind]="PgTimeBuilder";build(e){return new to(e,this.config)}}class to extends ts.PgColumn{static [t.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function tu(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new ta(r,i.withTimezone??!1,i.precision)}e.s(["PgTimestamp",()=>td,"PgTimestampString",()=>tf,"timestamp",()=>th],87280);var tl=i;class tc extends ${static [t.entityKind]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new td(e,this.config)}}class td extends tl.PgColumn{static [t.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tp extends ${static [t.entityKind]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tf(e,this.config)}}class tf extends tl.PgColumn{static [t.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function th(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return i?.mode==="string"?new tp(r,i.withTimezone??!1,i.precision):new tc(r,i?.withTimezone??!1,i?.precision)}e.s(["PgUUID",()=>ty,"uuid",()=>t_],57367);var tm=i;class tg extends tm.PgColumnBuilder{static [t.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(L.sql`gen_random_uuid()`)}build(e){return new ty(e,this.config)}}class ty extends tm.PgColumn{static [t.entityKind]="PgUUID";getSQLType(){return"uuid"}}function t_(e){return new tg(e??"")}var tb=i;class tv extends tb.PgColumnBuilder{static [t.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new tE(e,this.config)}}class tE extends tb.PgColumn{static [t.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function tS(e,t={}){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tv(r,i)}var tw=i;class tR extends tw.PgColumnBuilder{static [t.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new tO(e,this.config)}}class tO extends tw.PgColumn{static [t.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function tA(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tR(r,i)}var tT=i;class tI extends tT.PgColumnBuilder{static [t.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new tC(e,this.config)}}class tC extends tT.PgColumn{static [t.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tN(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tI(r,i)}var tP=i;class tx extends tP.PgColumnBuilder{static [t.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new tD(e,this.config)}}class tD extends tP.PgColumn{static [t.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function tk(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tx(r,i)}var tL=i;class tM extends tL.PgColumnBuilder{static [t.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new t$(e,this.config)}}class t$ extends tL.PgColumn{static [t.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tU(e,t){let{name:r,config:i}=(0,n.getColumnNameAndConfig)(e,t);return new tM(r,i)}let tj=Symbol.for("drizzle:PgInlineForeignKeys"),tB=Symbol.for("drizzle:EnableRLS");class tz extends r.Table{static [t.entityKind]="PgTable";static Symbol=Object.assign({},r.Table.Symbol,{InlineForeignKeys:tj,EnableRLS:tB});[tj]=[];[tB]=!1;[r.Table.Symbol.ExtraConfigBuilder]=void 0;[r.Table.Symbol.ExtraConfigColumns]={}}let tq=(e,t,n)=>(function(e,t,n,i,s=e){let a=new tz(e,i,s),o="function"==typeof t?t({bigint:d,bigserial:y,boolean:E,char:O,cidr:C,customType:D,date:q,doublePrecision:V,inet:W,integer:ee,interval:ei,json:eu,jsonb:ep,line:e_,macaddr:eS,macaddr8:eA,numeric:ek,point:eB,geometry:eH,real:eX,serial:e4,smallint:e8,smallserial:te,text:ti,time:tu,timestamp:th,uuid:t_,varchar:tS,bit:tA,halfvec:tN,sparsevec:tk,vector:tU}):t,u=Object.fromEntries(Object.entries(o).map(([e,t])=>{t.setName(e);let r=t.build(a);return a[tj].push(...t.buildForeignKeys(r,a)),[e,r]})),l=Object.fromEntries(Object.entries(o).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(a)]))),c=Object.assign(a,u);return c[r.Table.Symbol.Columns]=u,c[r.Table.Symbol.ExtraConfigColumns]=l,n&&(c[tz.Symbol.ExtraConfigBuilder]=n),Object.assign(c,{enableRLS:()=>(c[tz.Symbol.EnableRLS]=!0,c)})})(e,t,n,void 0)},79586,91574,e=>{"use strict";e.s(["and",()=>u,"between",()=>E,"eq",()=>a,"exists",()=>b,"gt",()=>d,"gte",()=>p,"ilike",()=>O,"inArray",()=>m,"isNotNull",()=>_,"isNull",()=>y,"like",()=>w,"lt",()=>f,"lte",()=>h,"ne",()=>o,"not",()=>c,"notBetween",()=>S,"notExists",()=>v,"notIlike",()=>A,"notInArray",()=>g,"notLike",()=>R,"or",()=>l],79586);var t=e.i(38031),r=e.i(19829),n=e.i(69900),i=e.i(82108);function s(e,s){return!(0,i.isDriverValueEncoder)(s)||(0,i.isSQLWrapper)(e)||(0,r.is)(e,i.Param)||(0,r.is)(e,i.Placeholder)||(0,r.is)(e,t.Column)||(0,r.is)(e,n.Table)||(0,r.is)(e,i.View)?e:new i.Param(e,s)}let a=(e,t)=>i.sql`${e} = ${s(t,e)}`,o=(e,t)=>i.sql`${e} <> ${s(t,e)}`;function u(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new i.SQL(1===t.length?t:[new i.StringChunk("("),i.sql.join(t,new i.StringChunk(" and ")),new i.StringChunk(")")])}function l(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new i.SQL(1===t.length?t:[new i.StringChunk("("),i.sql.join(t,new i.StringChunk(" or ")),new i.StringChunk(")")])}function c(e){return i.sql`not ${e}`}let d=(e,t)=>i.sql`${e} > ${s(t,e)}`,p=(e,t)=>i.sql`${e} >= ${s(t,e)}`,f=(e,t)=>i.sql`${e} < ${s(t,e)}`,h=(e,t)=>i.sql`${e} <= ${s(t,e)}`;function m(e,t){return Array.isArray(t)?0===t.length?i.sql`false`:i.sql`${e} in ${t.map(t=>s(t,e))}`:i.sql`${e} in ${s(t,e)}`}function g(e,t){return Array.isArray(t)?0===t.length?i.sql`true`:i.sql`${e} not in ${t.map(t=>s(t,e))}`:i.sql`${e} not in ${s(t,e)}`}function y(e){return i.sql`${e} is null`}function _(e){return i.sql`${e} is not null`}function b(e){return i.sql`exists ${e}`}function v(e){return i.sql`not exists ${e}`}function E(e,t,r){return i.sql`${e} between ${s(t,e)} and ${s(r,e)}`}function S(e,t,r){return i.sql`${e} not between ${s(t,e)} and ${s(r,e)}`}function w(e,t){return i.sql`${e} like ${t}`}function R(e,t){return i.sql`${e} not like ${t}`}function O(e,t){return i.sql`${e} ilike ${t}`}function A(e,t){return i.sql`${e} not ilike ${t}`}function T(e){return i.sql`${e} asc`}function I(e){return i.sql`${e} desc`}e.s(["asc",()=>T,"desc",()=>I],91574)},75642,40704,e=>{"use strict";e.s(["PrimaryKeyBuilder",()=>n],75642);var t=e.i(19829),r=e.i(33250);class n{static [t.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new i(e,this.columns,this.name)}}class i{constructor(e,t,r){this.table=e,this.columns=t,this.name=r}static [t.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[r.PgTable.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}e.s(["Many",()=>f,"One",()=>p,"createTableRelationsHelpers",()=>_,"extractTablesRelationalConfig",()=>g,"getOperators",()=>h,"getOrderByOperators",()=>m,"mapRelationalRow",()=>function e(r,n,i,s,o=e=>e){let u={};for(let[c,d]of s.entries())if(d.isJson){let s=n.relations[d.tsKey],a=i[c],l="string"==typeof a?JSON.parse(a):a;u[d.tsKey]=(0,t.is)(s,p)?l&&e(r,r[d.relationTableTsKey],l,d.selection,o):l.map(t=>e(r,r[d.relationTableTsKey],t,d.selection,o))}else{let e,r=o(i[c]),n=d.field;e=(0,t.is)(n,a.Column)?n:(0,t.is)(n,l.SQL)?n.decoder:n.sql.decoder,u[d.tsKey]=null===r?null:e.mapFromDriverValue(r)}return u},"normalizeRelation",()=>y],40704);var s=e.i(69900),a=e.i(38031),o=e.i(79586),u=e.i(91574),l=e.i(82108);class c{constructor(e,t,r){this.sourceTable=e,this.referencedTable=t,this.relationName=r,this.referencedTableName=t[s.Table.Symbol.Name]}static [t.entityKind]="Relation";referencedTableName;fieldName}class d{constructor(e,t){this.table=e,this.config=t}static [t.entityKind]="Relations"}class p extends c{constructor(e,t,r,n){super(e,t,r?.relationName),this.config=r,this.isNullable=n}static [t.entityKind]="One";withFieldName(e){let t=new p(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class f extends c{constructor(e,t,r){super(e,t,r?.relationName),this.config=r}static [t.entityKind]="Many";withFieldName(e){let t=new f(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function h(){return{and:o.and,between:o.between,eq:o.eq,exists:o.exists,gt:o.gt,gte:o.gte,ilike:o.ilike,inArray:o.inArray,isNull:o.isNull,isNotNull:o.isNotNull,like:o.like,lt:o.lt,lte:o.lte,ne:o.ne,not:o.not,notBetween:o.notBetween,notExists:o.notExists,notLike:o.notLike,notIlike:o.notIlike,notInArray:o.notInArray,or:o.or,sql:l.sql}}function m(){return{sql:l.sql,asc:u.asc,desc:u.desc}}function g(e,r){1===Object.keys(e).length&&"default"in e&&!(0,t.is)(e.default,s.Table)&&(e=e.default);let i={},a={},o={};for(let[u,l]of Object.entries(e))if((0,t.is)(l,s.Table)){let e=(0,s.getTableUniqueName)(l),r=a[e];for(let t of(i[e]=u,o[u]={tsName:u,dbName:l[s.Table.Symbol.Name],schema:l[s.Table.Symbol.Schema],columns:l[s.Table.Symbol.Columns],relations:r?.relations??{},primaryKey:r?.primaryKey??[]},Object.values(l[s.Table.Symbol.Columns])))t.primary&&o[u].primaryKey.push(t);let c=l[s.Table.Symbol.ExtraConfigBuilder]?.(l[s.Table.Symbol.ExtraConfigColumns]);if(c)for(let e of Object.values(c))(0,t.is)(e,n)&&o[u].primaryKey.push(...e.columns)}else if((0,t.is)(l,d)){let e,t=(0,s.getTableUniqueName)(l.table),n=i[t];for(let[i,s]of Object.entries(l.config(r(l.table))))if(n){let t=o[n];t.relations[i]=s,e&&t.primaryKey.push(...e)}else t in a||(a[t]={relations:{},primaryKey:e}),a[t].relations[i]=s}return{tables:o,tableNamesMap:i}}function y(e,r,n){if((0,t.is)(n,p)&&n.config)return{fields:n.config.fields,references:n.config.references};let i=r[(0,s.getTableUniqueName)(n.referencedTable)];if(!i)throw Error(`Table "${n.referencedTable[s.Table.Symbol.Name]}" not found in schema`);let a=e[i];if(!a)throw Error(`Table "${i}" not found in schema`);let o=n.sourceTable,u=r[(0,s.getTableUniqueName)(o)];if(!u)throw Error(`Table "${o[s.Table.Symbol.Name]}" not found in schema`);let l=[];for(let e of Object.values(a.relations))(n.relationName&&n!==e&&e.relationName===n.relationName||!n.relationName&&e.referencedTable===n.sourceTable)&&l.push(e);if(l.length>1)throw n.relationName?Error(`There are multiple relations with name "${n.relationName}" in table "${i}"`):Error(`There are multiple relations between "${i}" and "${n.sourceTable[s.Table.Symbol.Name]}". Please specify relation name`);if(l[0]&&(0,t.is)(l[0],p)&&l[0].config)return{fields:l[0].config.references,references:l[0].config.fields};throw Error(`There is not enough information to infer relation "${u}.${n.fieldName}"`)}function _(e){return{one:function(t,r){return new p(e,t,r,r?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)},many:function(t,r){return new f(e,t,r)}}}},30124,46665,30079,88964,e=>{"use strict";e.s(["ColumnAliasProxyHandler",()=>a,"TableAliasProxyHandler",()=>o,"aliasedTable",()=>l,"aliasedTableColumn",()=>c,"mapColumnsInAliasedSQLToAlias",()=>d,"mapColumnsInSQLToAlias",()=>p],30124);var t=e.i(38031),r=e.i(19829),n=e.i(82108),i=e.i(69900),s=e.i(57206);class a{constructor(e){this.table=e}static [r.entityKind]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class o{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [r.entityKind]="TableAliasProxyHandler";get(e,n){if(n===i.Table.Symbol.IsAlias)return!0;if(n===i.Table.Symbol.Name||this.replaceOriginalName&&n===i.Table.Symbol.OriginalName)return this.alias;if(n===s.ViewBaseConfig)return{...e[s.ViewBaseConfig],name:this.alias,isAlias:!0};if(n===i.Table.Symbol.Columns){let t=e[i.Table.Symbol.Columns];if(!t)return t;let r={};return Object.keys(t).map(n=>{r[n]=new Proxy(t[n],new a(new Proxy(e,this)))}),r}let o=e[n];return(0,r.is)(o,t.Column)?new Proxy(o,new a(new Proxy(e,this))):o}}class u{constructor(e){this.alias=e}static [r.entityKind]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?l(e.sourceTable,this.alias):e[t]}}function l(e,t){return new Proxy(e,new o(t,!1))}function c(e,t){return new Proxy(e,new a(new Proxy(e.table,new o(t,!1))))}function d(e,t){return new n.SQL.Aliased(p(e.sql,t),e.fieldAlias)}function p(e,i){return n.sql.join(e.queryChunks.map(e=>(0,r.is)(e,t.Column)?c(e,i):(0,r.is)(e,n.SQL)?p(e,i):(0,r.is)(e,n.SQL.Aliased)?d(e,i):e))}function f(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).map(e=>e.toLowerCase()).join("_")}function h(e){return(e.replace(/['\u2019]/g,"").match(/[\da-z]+|[A-Z]+(?![a-z])|[A-Z][\da-z]+/g)??[]).reduce((e,t,r)=>e+(0===r?t.toLowerCase():`${t[0].toUpperCase()}${t.slice(1)}`),"")}function m(e){return e}e.s(["PgDialect",()=>L],88964);class g{static [r.entityKind]="CasingCache";cache={};cachedTables={};convert;constructor(e){this.convert="snake_case"===e?f:"camelCase"===e?h:m}getColumnCasing(e){if(!e.keyAsName)return e.name;let t=e.table[i.Table.Symbol.Schema]??"public",r=e.table[i.Table.Symbol.OriginalName],n=`${t}.${r}.${e.name}`;return this.cache[n]||this.cacheTable(e.table),this.cache[n]}cacheTable(e){let t=e[i.Table.Symbol.Schema]??"public",r=e[i.Table.Symbol.OriginalName],n=`${t}.${r}`;if(!this.cachedTables[n]){for(let t of Object.values(e[i.Table.Symbol.Columns])){let e=`${n}.${t.name}`;this.cache[e]=this.convert(t.name)}this.cachedTables[n]=!0}}clearCache(){this.cache={},this.cachedTables={}}}e.s(["DrizzleError",()=>y,"DrizzleQueryError",()=>_,"TransactionRollbackError",()=>b],46665);class y extends Error{static [r.entityKind]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class _ extends Error{constructor(e,t,r){super(`Failed query: ${e}
params: ${t}`),this.query=e,this.params=t,this.cause=r,Error.captureStackTrace(this,_),r&&(this.cause=r)}}class b extends y{static [r.entityKind]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}var v=e.i(90043),E=e.i(58225),S=e.i(13055),w=e.i(2564),R=e.i(44115),O=e.i(66248),A=e.i(87280),T=e.i(57367),I=e.i(33250),C=e.i(40704),N=e.i(79586),P=e.i(32311),x=e.i(89902);e.s(["PgViewBase",()=>k],30079);var D=n;class k extends D.View{static [r.entityKind]="PgViewBase"}class L{static [r.entityKind]="PgDialect";casing;constructor(e){this.casing=new g(e?.casing)}async migrate(e,t,r){let i="string"==typeof r?"__drizzle_migrations":r.migrationsTable??"__drizzle_migrations",s="string"==typeof r?"drizzle":r.migrationsSchema??"drizzle",a=n.sql`
			CREATE TABLE IF NOT EXISTS ${n.sql.identifier(s)}.${n.sql.identifier(i)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at bigint
			)
		`;await t.execute(n.sql`CREATE SCHEMA IF NOT EXISTS ${n.sql.identifier(s)}`),await t.execute(a);let o=(await t.all(n.sql`select id, hash, created_at from ${n.sql.identifier(s)}.${n.sql.identifier(i)} order by created_at desc limit 1`))[0];await t.transaction(async t=>{for await(let r of e)if(!o||Number(o.created_at)<r.folderMillis){for(let e of r.sql)await t.execute(n.sql.raw(e));await t.execute(n.sql`insert into ${n.sql.identifier(s)}.${n.sql.identifier(i)} ("hash", "created_at") values(${r.hash}, ${r.folderMillis})`)}})}escapeName(e){return`"${e}"`}escapeParam(e){return`$${e+1}`}escapeString(e){return`'${e.replace(/'/g,"''")}'`}buildWithCTE(e){if(!e?.length)return;let t=[n.sql`with `];for(let[r,i]of e.entries())t.push(n.sql`${n.sql.identifier(i._.alias)} as (${i._.sql})`),r<e.length-1&&t.push(n.sql`, `);return t.push(n.sql` `),n.sql.join(t)}buildDeleteQuery({table:e,where:t,returning:r,withList:i}){let s=this.buildWithCTE(i),a=r?n.sql` returning ${this.buildSelection(r,{isSingleTable:!0})}`:void 0,o=t?n.sql` where ${t}`:void 0;return n.sql`${s}delete from ${e}${o}${a}`}buildUpdateSet(e,t){let r=e[i.Table.Symbol.Columns],s=Object.keys(r).filter(e=>void 0!==t[e]||r[e]?.onUpdateFn!==void 0),a=s.length;return n.sql.join(s.flatMap((e,i)=>{let s=r[e],o=t[e]??n.sql.param(s.onUpdateFn(),s),u=n.sql`${n.sql.identifier(this.casing.getColumnCasing(s))} = ${o}`;return i<a-1?[u,n.sql.raw(", ")]:[u]}))}buildUpdateQuery({table:e,set:t,where:r,returning:i,withList:s,from:a,joins:o}){let u=this.buildWithCTE(s),l=e[I.PgTable.Symbol.Name],c=e[I.PgTable.Symbol.Schema],d=e[I.PgTable.Symbol.OriginalName],p=l===d?void 0:l,f=n.sql`${c?n.sql`${n.sql.identifier(c)}.`:void 0}${n.sql.identifier(d)}${p&&n.sql` ${n.sql.identifier(p)}`}`,h=this.buildUpdateSet(e,t),m=a&&n.sql.join([n.sql.raw(" from "),this.buildFromTable(a)]),g=this.buildJoins(o),y=i?n.sql` returning ${this.buildSelection(i,{isSingleTable:!a})}`:void 0,_=r?n.sql` where ${r}`:void 0;return n.sql`${u}update ${f} set ${h}${m}${g}${_}${y}`}buildSelection(e,{isSingleTable:i=!1}={}){let s=e.length,a=e.flatMap(({field:e},a)=>{let o=[];if((0,r.is)(e,n.SQL.Aliased)&&e.isSelectionField)o.push(n.sql.identifier(e.fieldAlias));else if((0,r.is)(e,n.SQL.Aliased)||(0,r.is)(e,n.SQL)){let t=(0,r.is)(e,n.SQL.Aliased)?e.sql:e;i?o.push(new n.SQL(t.queryChunks.map(e=>(0,r.is)(e,v.PgColumn)?n.sql.identifier(this.casing.getColumnCasing(e)):e))):o.push(t),(0,r.is)(e,n.SQL.Aliased)&&o.push(n.sql` as ${n.sql.identifier(e.fieldAlias)}`)}else(0,r.is)(e,t.Column)&&(i?o.push(n.sql.identifier(this.casing.getColumnCasing(e))):o.push(e));return a<s-1&&o.push(n.sql`, `),o});return n.sql.join(a)}buildJoins(e){if(!e||0===e.length)return;let t=[];for(let[i,a]of e.entries()){0===i&&t.push(n.sql` `);let o=a.table,u=a.lateral?n.sql` lateral`:void 0,l=a.on?n.sql` on ${a.on}`:void 0;if((0,r.is)(o,I.PgTable)){let e=o[I.PgTable.Symbol.Name],r=o[I.PgTable.Symbol.Schema],i=o[I.PgTable.Symbol.OriginalName],s=e===i?void 0:a.alias;t.push(n.sql`${n.sql.raw(a.joinType)} join${u} ${r?n.sql`${n.sql.identifier(r)}.`:void 0}${n.sql.identifier(i)}${s&&n.sql` ${n.sql.identifier(s)}`}${l}`)}else if((0,r.is)(o,n.View)){let e=o[s.ViewBaseConfig].name,r=o[s.ViewBaseConfig].schema,i=o[s.ViewBaseConfig].originalName,c=e===i?void 0:a.alias;t.push(n.sql`${n.sql.raw(a.joinType)} join${u} ${r?n.sql`${n.sql.identifier(r)}.`:void 0}${n.sql.identifier(i)}${c&&n.sql` ${n.sql.identifier(c)}`}${l}`)}else t.push(n.sql`${n.sql.raw(a.joinType)} join${u} ${o}${l}`);i<e.length-1&&t.push(n.sql` `)}return n.sql.join(t)}buildFromTable(e){if((0,r.is)(e,i.Table)&&e[i.Table.Symbol.IsAlias]){let t=n.sql`${n.sql.identifier(e[i.Table.Symbol.OriginalName])}`;return e[i.Table.Symbol.Schema]&&(t=n.sql`${n.sql.identifier(e[i.Table.Symbol.Schema])}.${t}`),n.sql`${t} ${n.sql.identifier(e[i.Table.Symbol.Name])}`}return e}buildSelectQuery({withList:e,fields:a,fieldsFlat:o,where:u,having:l,table:c,joins:d,orderBy:p,groupBy:f,limit:h,offset:m,lockingClause:g,distinct:y,setOperators:_}){let b,v,E,S=o??(0,x.orderSelectedFields)(a);for(let e of S){let a;if((0,r.is)(e.field,t.Column)&&(0,i.getTableName)(e.field.table)!==((0,r.is)(c,P.Subquery)?c._.alias:(0,r.is)(c,k)?c[s.ViewBaseConfig].name:(0,r.is)(c,n.SQL)?void 0:(0,i.getTableName)(c))&&(a=e.field.table,!d?.some(({alias:e})=>e===(a[i.Table.Symbol.IsAlias]?(0,i.getTableName)(a):a[i.Table.Symbol.BaseName])))){let t=(0,i.getTableName)(e.field.table);throw Error(`Your "${e.path.join("->")}" field references a column "${t}"."${e.field.name}", but the table "${t}" is not part of the query! Did you forget to join it?`)}}let w=!d||0===d.length,R=this.buildWithCTE(e);y&&(b=!0===y?n.sql` distinct`:n.sql` distinct on (${n.sql.join(y.on,n.sql`, `)})`);let O=this.buildSelection(S,{isSingleTable:w}),A=this.buildFromTable(c),T=this.buildJoins(d),I=u?n.sql` where ${u}`:void 0,C=l?n.sql` having ${l}`:void 0;p&&p.length>0&&(v=n.sql` order by ${n.sql.join(p,n.sql`, `)}`),f&&f.length>0&&(E=n.sql` group by ${n.sql.join(f,n.sql`, `)}`);let N="object"==typeof h||"number"==typeof h&&h>=0?n.sql` limit ${h}`:void 0,D=m?n.sql` offset ${m}`:void 0,L=n.sql.empty();if(g){let e=n.sql` for ${n.sql.raw(g.strength)}`;g.config.of&&e.append(n.sql` of ${n.sql.join(Array.isArray(g.config.of)?g.config.of:[g.config.of],n.sql`, `)}`),g.config.noWait?e.append(n.sql` nowait`):g.config.skipLocked&&e.append(n.sql` skip locked`),L.append(e)}let M=n.sql`${R}select${b} ${O} from ${A}${T}${I}${E}${C}${v}${N}${D}${L}`;return _.length>0?this.buildSetOperations(M,_):M}buildSetOperations(e,t){let[r,...n]=t;if(!r)throw Error("Cannot pass undefined values to any set operator");return 0===n.length?this.buildSetOperationQuery({leftSelect:e,setOperator:r}):this.buildSetOperations(this.buildSetOperationQuery({leftSelect:e,setOperator:r}),n)}buildSetOperationQuery({leftSelect:e,setOperator:{type:t,isAll:i,rightSelect:s,limit:a,orderBy:o,offset:u}}){let l,c=n.sql`(${e.getSQL()}) `,d=n.sql`(${s.getSQL()})`;if(o&&o.length>0){let e=[];for(let t of o)if((0,r.is)(t,v.PgColumn))e.push(n.sql.identifier(t.name));else if((0,r.is)(t,n.SQL)){for(let e=0;e<t.queryChunks.length;e++){let i=t.queryChunks[e];(0,r.is)(i,v.PgColumn)&&(t.queryChunks[e]=n.sql.identifier(i.name))}e.push(n.sql`${t}`)}else e.push(n.sql`${t}`);l=n.sql` order by ${n.sql.join(e,n.sql`, `)} `}let p="object"==typeof a||"number"==typeof a&&a>=0?n.sql` limit ${a}`:void 0,f=n.sql.raw(`${t} ${i?"all ":""}`),h=u?n.sql` offset ${u}`:void 0;return n.sql`${c}${f}${d}${l}${p}${h}`}buildInsertQuery({table:e,values:t,onConflict:s,returning:a,withList:o,select:u,overridingSystemValue_:l}){let c=[],d=Object.entries(e[i.Table.Symbol.Columns]).filter(([e,t])=>!t.shouldDisableInsert()),p=d.map(([,e])=>n.sql.identifier(this.casing.getColumnCasing(e)));if(u)(0,r.is)(t,n.SQL)?c.push(t):c.push(t.getSQL());else for(let[e,i]of(c.push(n.sql.raw("values ")),t.entries())){let s=[];for(let[e,t]of d){let a=i[e];if(void 0===a||(0,r.is)(a,n.Param)&&void 0===a.value)if(void 0!==t.defaultFn){let e=t.defaultFn(),i=(0,r.is)(e,n.SQL)?e:n.sql.param(e,t);s.push(i)}else if(t.default||void 0===t.onUpdateFn)s.push(n.sql`default`);else{let e=t.onUpdateFn(),i=(0,r.is)(e,n.SQL)?e:n.sql.param(e,t);s.push(i)}else s.push(a)}c.push(s),e<t.length-1&&c.push(n.sql`, `)}let f=this.buildWithCTE(o),h=n.sql.join(c),m=a?n.sql` returning ${this.buildSelection(a,{isSingleTable:!0})}`:void 0,g=s?n.sql` on conflict ${s}`:void 0,y=!0===l?n.sql`overriding system value `:void 0;return n.sql`${f}insert into ${e} ${p} ${y}${h}${g}${m}`}buildRefreshMaterializedViewQuery({view:e,concurrently:t,withNoData:r}){let i=t?n.sql` concurrently`:void 0,s=r?n.sql` with no data`:void 0;return n.sql`refresh materialized view${i} ${e}${s}`}prepareTyping(e){if((0,r.is)(e,w.PgJsonb)||(0,r.is)(e,S.PgJson))return"json";if((0,r.is)(e,R.PgNumeric))return"decimal";if((0,r.is)(e,O.PgTime))return"time";if((0,r.is)(e,A.PgTimestamp)||(0,r.is)(e,A.PgTimestampString))return"timestamp";if((0,r.is)(e,E.PgDate)||(0,r.is)(e,E.PgDateString))return"date";else if((0,r.is)(e,T.PgUUID))return"uuid";else return"none"}sqlToQuery(e,t){return e.toQuery({casing:this.casing,escapeName:this.escapeName,escapeParam:this.escapeParam,escapeString:this.escapeString,prepareTyping:this.prepareTyping,invokeSource:t})}buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:a,table:o,tableConfig:u,queryConfig:f,tableAlias:h,nestedQueryRelation:m,joinOn:g}){let _,b=[],v,E,S=[],w,R=[];if(!0===f)b=Object.entries(u.columns).map(([e,t])=>({dbKey:t.name,tsKey:e,field:c(t,h),relationTableTsKey:void 0,isJson:!1,selection:[]}));else{let o=Object.fromEntries(Object.entries(u.columns).map(([e,t])=>[e,c(t,h)]));if(f.where){let e="function"==typeof f.where?f.where(o,(0,C.getOperators)()):f.where;w=e&&p(e,h)}let l=[],m=[];if(f.columns){let e=!1;for(let[t,r]of Object.entries(f.columns))void 0!==r&&t in u.columns&&(e||!0!==r||(e=!0),m.push(t));m.length>0&&(m=e?m.filter(e=>f.columns?.[e]===!0):Object.keys(u.columns).filter(e=>!m.includes(e)))}else m=Object.keys(u.columns);for(let e of m){let t=u.columns[e];l.push({tsKey:e,value:t})}let g=[];if(f.with&&(g=Object.entries(f.with).filter(e=>!!e[1]).map(([e,t])=>({tsKey:e,queryConfig:t,relation:u.relations[e]}))),f.extras)for(let[e,t]of Object.entries("function"==typeof f.extras?f.extras(o,{sql:n.sql}):f.extras))l.push({tsKey:e,value:d(t,h)});for(let{tsKey:e,value:i}of l)b.push({dbKey:(0,r.is)(i,n.SQL.Aliased)?i.fieldAlias:u.columns[e].name,tsKey:e,field:(0,r.is)(i,t.Column)?c(i,h):i,relationTableTsKey:void 0,isJson:!1,selection:[]});let y="function"==typeof f.orderBy?f.orderBy(o,(0,C.getOrderByOperators)()):f.orderBy??[];for(let{tsKey:o,queryConfig:u,relation:l}of(Array.isArray(y)||(y=[y]),S=y.map(e=>(0,r.is)(e,t.Column)?c(e,h):p(e,h)),v=f.limit,E=f.offset,g)){let t=(0,C.normalizeRelation)(s,a,l),d=a[(0,i.getTableUniqueName)(l.referencedTable)],p=`${h}_${o}`,f=(0,N.and)(...t.fields.map((e,r)=>(0,N.eq)(c(t.references[r],p),c(e,h)))),m=this.buildRelationalQueryWithoutPK({fullSchema:e,schema:s,tableNamesMap:a,table:e[d],tableConfig:s[d],queryConfig:(0,r.is)(l,C.One)?!0===u?{limit:1}:{...u,limit:1}:u,tableAlias:p,joinOn:f,nestedQueryRelation:l}),g=n.sql`${n.sql.identifier(p)}.${n.sql.identifier("data")}`.as(o);R.push({on:n.sql`true`,table:new P.Subquery(m.sql,{},p),alias:p,joinType:"left",lateral:!0}),b.push({dbKey:o,tsKey:o,field:g,relationTableTsKey:d,isJson:!0,selection:m.selection})}}if(0===b.length)throw new y({message:`No fields selected for table "${u.tsName}" ("${h}")`});if(w=(0,N.and)(g,w),m){let e=n.sql`json_build_array(${n.sql.join(b.map(({field:e,tsKey:t,isJson:i})=>i?n.sql`${n.sql.identifier(`${h}_${t}`)}.${n.sql.identifier("data")}`:(0,r.is)(e,n.SQL.Aliased)?e.sql:e),n.sql`, `)})`;(0,r.is)(m,C.Many)&&(e=n.sql`coalesce(json_agg(${e}${S.length>0?n.sql` order by ${n.sql.join(S,n.sql`, `)}`:void 0}), '[]'::json)`);let i=[{dbKey:"data",tsKey:"data",field:e.as("data"),isJson:!0,relationTableTsKey:u.tsName,selection:b}];void 0!==v||void 0!==E||S.length>0?(_=this.buildSelectQuery({table:l(o,h),fields:{},fieldsFlat:[{path:[],field:n.sql.raw("*")}],where:w,limit:v,offset:E,orderBy:S,setOperators:[]}),w=void 0,v=void 0,E=void 0,S=[]):_=l(o,h),_=this.buildSelectQuery({table:(0,r.is)(_,I.PgTable)?_:new P.Subquery(_,{},h),fields:{},fieldsFlat:i.map(({field:e})=>({path:[],field:(0,r.is)(e,t.Column)?c(e,h):e})),joins:R,where:w,limit:v,offset:E,orderBy:S,setOperators:[]})}else _=this.buildSelectQuery({table:l(o,h),fields:{},fieldsFlat:b.map(({field:e})=>({path:[],field:(0,r.is)(e,t.Column)?c(e,h):e})),joins:R,where:w,limit:v,offset:E,orderBy:S,setOperators:[]});return{tableTsKey:u.tsName,sql:_,selection:b}}}},79946,e=>{"use strict";e.s(["PgDatabase",()=>es],79946);var t=e.i(19829);class r{static [t.entityKind]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}var n=e.i(30124),i=e.i(38031),s=e.i(82108),a=e.i(32311),o=e.i(57206);class u{static [t.entityKind]="SelectionProxyHandler";config;constructor(e){this.config={...e}}get(e,r){if("_"===r)return{...e._,selectedFields:new Proxy(e._.selectedFields,this)};if(r===o.ViewBaseConfig)return{...e[o.ViewBaseConfig],selectedFields:new Proxy(e[o.ViewBaseConfig].selectedFields,this)};if("symbol"==typeof r)return e[r];let l=((0,t.is)(e,a.Subquery)?e._.selectedFields:(0,t.is)(e,s.View)?e[o.ViewBaseConfig].selectedFields:e)[r];if((0,t.is)(l,s.SQL.Aliased)){if("sql"===this.config.sqlAliasedBehavior&&!l.isSelectionField)return l.sql;let e=l.clone();return e.isSelectionField=!0,e}if((0,t.is)(l,s.SQL)){if("sql"===this.config.sqlBehavior)return l;throw Error(`You tried to reference "${r}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`)}return(0,t.is)(l,i.Column)?this.config.alias?new Proxy(l,new n.ColumnAliasProxyHandler(new Proxy(l.table,new n.TableAliasProxyHandler(this.config.alias,this.config.replaceOriginalName??!1)))):l:"object"!=typeof l||null===l?l:new Proxy(l,new u(this.config))}}var l=e.i(69900),c=e.i(40066),d=e.i(89902),p=e.i(33250);class f{constructor(e,t){this.name=e,this.value=t}static [t.entityKind]="PgCheckBuilder";brand;build(e){return new h(e,this)}}class h{constructor(e,t){this.table=e,this.name=t.name,this.value=t.value}static [t.entityKind]="PgCheck";name;value}e.i(31188);var m=e.i(90043);class g{constructor(e,t){this.unique=e,this.name=t}static [t.entityKind]="PgIndexBuilderOn";on(...e){return new y(e.map(e=>{if((0,t.is)(e,s.SQL))return e;let r=new m.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...e){return new y(e.map(e=>{if((0,t.is)(e,s.SQL))return e;let r=new m.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,r}),this.unique,!0,this.name)}using(e,...r){return new y(r.map(e=>{if((0,t.is)(e,s.SQL))return e;let r=new m.IndexedColumn(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),r}),this.unique,!0,this.name,e)}}class y{static [t.entityKind]="PgIndexBuilder";config;constructor(e,t,r,n,i="btree"){this.config={name:n,columns:e,unique:t,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new _(this.config,e)}}class _{static [t.entityKind]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}class b{constructor(e,t){this.name=e,t&&(this.as=t.as,this.for=t.for,this.to=t.to,this.using=t.using,this.withCheck=t.withCheck)}static [t.entityKind]="PgPolicy";as;for;to;using;withCheck;_linkedTable;link(e){return this._linkedTable=e,this}}e.i(75642),e.i(11093);let v=Symbol.for("drizzle:PgViewConfig");var E=e.i(88964),S=e.i(30079);class w{static [t.entityKind]="TypedQueryBuilder";getSelectedFields(){return this._.selectedFields}}class R{static [t.entityKind]="PgSelectBuilder";fields;session;dialect;withList=[];distinct;constructor(e){this.fields=e.fields,this.session=e.session,this.dialect=e.dialect,e.withList&&(this.withList=e.withList),this.distinct=e.distinct}authToken;setToken(e){return this.authToken=e,this}from(e){let r,n=!!this.fields;return r=this.fields?this.fields:(0,t.is)(e,a.Subquery)?Object.fromEntries(Object.keys(e._.selectedFields).map(t=>[t,e[t]])):(0,t.is)(e,S.PgViewBase)?e[o.ViewBaseConfig].selectedFields:(0,t.is)(e,s.SQL)?{}:(0,d.getTableColumns)(e),new A({table:e,fields:r,isPartialSelect:n,session:this.session,dialect:this.dialect,withList:this.withList,distinct:this.distinct}).setToken(this.authToken)}}class O extends w{static [t.entityKind]="PgSelectQueryBuilder";_;config;joinsNotNullableMap;tableName;isPartialSelect;session;dialect;cacheConfig=void 0;usedTables=new Set;constructor({table:e,fields:t,isPartialSelect:r,session:n,dialect:i,withList:s,distinct:a}){for(let o of(super(),this.config={withList:s,table:e,fields:{...t},distinct:a,setOperators:[]},this.isPartialSelect=r,this.session=n,this.dialect=i,this._={selectedFields:t,config:this.config},this.tableName=(0,d.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{},V(e)))this.usedTables.add(o)}getUsedTables(){return[...this.usedTables]}createJoin(e,r){return(n,i)=>{let c=this.tableName,p=(0,d.getTableLikeName)(n);for(let e of V(n))this.usedTables.add(e);if("string"==typeof p&&this.config.joins?.some(e=>e.alias===p))throw Error(`Alias "${p}" is already used in this query`);if(!this.isPartialSelect&&(1===Object.keys(this.joinsNotNullableMap).length&&"string"==typeof c&&(this.config.fields={[c]:this.config.fields}),"string"==typeof p&&!(0,t.is)(n,s.SQL))){let e=(0,t.is)(n,a.Subquery)?n._.selectedFields:(0,t.is)(n,s.View)?n[o.ViewBaseConfig].selectedFields:n[l.Table.Symbol.Columns];this.config.fields[p]=e}if("function"==typeof i&&(i=i(new Proxy(this.config.fields,new u({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.joins||(this.config.joins=[]),this.config.joins.push({on:i,table:n,joinType:e,alias:p,lateral:r}),"string"==typeof p)switch(e){case"left":this.joinsNotNullableMap[p]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[p]=!0;break;case"cross":case"inner":this.joinsNotNullableMap[p]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[p]=!1}return this}}leftJoin=this.createJoin("left",!1);leftJoinLateral=this.createJoin("left",!0);rightJoin=this.createJoin("right",!1);innerJoin=this.createJoin("inner",!1);innerJoinLateral=this.createJoin("inner",!0);fullJoin=this.createJoin("full",!1);crossJoin=this.createJoin("cross",!1);crossJoinLateral=this.createJoin("cross",!0);createSetOperator(e,t){return r=>{let n="function"==typeof r?r(I()):r;if(!(0,d.haveSameKeys)(this.getSelectedFields(),n.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return this.config.setOperators.push({type:e,isAll:t,rightSelect:n}),this}}union=this.createSetOperator("union",!1);unionAll=this.createSetOperator("union",!0);intersect=this.createSetOperator("intersect",!1);intersectAll=this.createSetOperator("intersect",!0);except=this.createSetOperator("except",!1);exceptAll=this.createSetOperator("except",!0);addSetOperators(e){return this.config.setOperators.push(...e),this}where(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new u({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.where=e,this}having(e){return"function"==typeof e&&(e=e(new Proxy(this.config.fields,new u({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))),this.config.having=e,this}groupBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new u({sqlAliasedBehavior:"alias",sqlBehavior:"sql"})));this.config.groupBy=Array.isArray(t)?t:[t]}else this.config.groupBy=e;return this}orderBy(...e){if("function"==typeof e[0]){let t=e[0](new Proxy(this.config.fields,new u({sqlAliasedBehavior:"alias",sqlBehavior:"sql"}))),r=Array.isArray(t)?t:[t];this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=r:this.config.orderBy=r}else this.config.setOperators.length>0?this.config.setOperators.at(-1).orderBy=e:this.config.orderBy=e;return this}limit(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).limit=e:this.config.limit=e,this}offset(e){return this.config.setOperators.length>0?this.config.setOperators.at(-1).offset=e:this.config.offset=e,this}for(e,t={}){return this.config.lockingClause={strength:e,config:t},this}getSQL(){return this.dialect.buildSelectQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}as(e){let t=[];if(t.push(...V(this.config.table)),this.config.joins)for(let e of this.config.joins)t.push(...V(e.table));return new Proxy(new a.Subquery(this.getSQL(),this.config.fields,e,!1,[...new Set(t)]),new u({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}getSelectedFields(){return new Proxy(this.config.fields,new u({alias:this.tableName,sqlAliasedBehavior:"alias",sqlBehavior:"error"}))}$dynamic(){return this}$withCache(e){return this.cacheConfig=void 0===e?{config:{},enable:!0,autoInvalidate:!0}:!1===e?{enable:!1}:{enable:!0,autoInvalidate:!0,...e},this}}class A extends O{static [t.entityKind]="PgSelect";_prepare(e){let{session:t,config:r,dialect:n,joinsNotNullableMap:i,authToken:s,cacheConfig:a,usedTables:o}=this;if(!t)throw Error("Cannot execute a query on a query builder. Please use a database instance instead.");let{fields:u}=r;return c.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let r=(0,d.orderSelectedFields)(u),l=t.prepareQuery(n.sqlToQuery(this.getSQL()),r,e,!0,void 0,{type:"select",tables:[...o]},a);return l.joinsNotNullableMap=i,l.setToken(s)})}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>c.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}function T(e,t){return(r,n,...i)=>{let s=[n,...i].map(r=>({type:e,isAll:t,rightSelect:r}));for(let e of s)if(!(0,d.haveSameKeys)(r.getSelectedFields(),e.rightSelect.getSelectedFields()))throw Error("Set operator error (union / intersect / except): selected fields are not the same or are in a different order");return r.addSetOperators(s)}}(0,d.applyMixins)(A,[r]);let I=()=>({union:C,unionAll:N,intersect:P,intersectAll:x,except:D,exceptAll:k}),C=T("union",!1),N=T("union",!0),P=T("intersect",!1),x=T("intersect",!0),D=T("except",!1),k=T("except",!0);class L{static [t.entityKind]="PgQueryBuilder";dialect;dialectConfig;constructor(e){this.dialect=(0,t.is)(e,E.PgDialect)?e:void 0,this.dialectConfig=(0,t.is)(e,E.PgDialect)?void 0:e}$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(r)),new Proxy(new a.WithSubquery(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new u({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};with(...e){let t=this;return{select:function(r){return new R({fields:r??void 0,session:void 0,dialect:t.getDialect(),withList:e})},selectDistinct:function(e){return new R({fields:e??void 0,session:void 0,dialect:t.getDialect(),distinct:!0})},selectDistinctOn:function(e,r){return new R({fields:r??void 0,session:void 0,dialect:t.getDialect(),distinct:{on:e}})}}}select(e){return new R({fields:e??void 0,session:void 0,dialect:this.getDialect()})}selectDistinct(e){return new R({fields:e??void 0,session:void 0,dialect:this.getDialect(),distinct:!0})}selectDistinctOn(e,t){return new R({fields:t??void 0,session:void 0,dialect:this.getDialect(),distinct:{on:e}})}getDialect(){return this.dialect||(this.dialect=new E.PgDialect(this.dialectConfig)),this.dialect}}var M=S;class ${constructor(e,t){this.name=e,this.schema=t}static [t.entityKind]="PgDefaultViewBuilderCore";config={};with(e){return this.config.with=e,this}}class U extends ${static [t.entityKind]="PgViewBuilder";as(e){"function"==typeof e&&(e=e(new L));let t=new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new K({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class j extends ${static [t.entityKind]="PgManualViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=(0,d.getTableColumns)((0,p.pgTable)(e,t))}existing(){return new Proxy(new K({pgConfig:void 0,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new K({pgConfig:this.config,config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class B{constructor(e,t){this.name=e,this.schema=t}static [t.entityKind]="PgMaterializedViewBuilderCore";config={};using(e){return this.config.using=e,this}with(e){return this.config.with=e,this}tablespace(e){return this.config.tablespace=e,this}withNoData(){return this.config.withNoData=!0,this}}class z extends B{static [t.entityKind]="PgMaterializedViewBuilder";as(e){"function"==typeof e&&(e=e(new L));let t=new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}),r=new Proxy(e.getSelectedFields(),t);return new Proxy(new Y({pgConfig:{with:this.config.with,using:this.config.using,tablespace:this.config.tablespace,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:r,query:e.getSQL().inlineParams()}}),t)}}class q extends B{static [t.entityKind]="PgManualMaterializedViewBuilder";columns;constructor(e,t,r){super(e,r),this.columns=(0,d.getTableColumns)((0,p.pgTable)(e,t))}existing(){return new Proxy(new Y({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:void 0}}),new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}as(e){return new Proxy(new Y({pgConfig:{tablespace:this.config.tablespace,using:this.config.using,with:this.config.with,withNoData:this.config.withNoData},config:{name:this.name,schema:this.schema,selectedFields:this.columns,query:e.inlineParams()}}),new u({alias:this.name,sqlBehavior:"error",sqlAliasedBehavior:"alias",replaceOriginalName:!0}))}}class K extends M.PgViewBase{static [t.entityKind]="PgView";[v];constructor({pgConfig:e,config:t}){super(t),e&&(this[v]={with:e.with})}}let F=Symbol.for("drizzle:PgMaterializedViewConfig");class Y extends M.PgViewBase{static [t.entityKind]="PgMaterializedView";[F];constructor({pgConfig:e,config:t}){super(t),this[F]={with:e?.with,using:e?.using,tablespace:e?.tablespace,withNoData:e?.withNoData}}}function V(e){return(0,t.is)(e,p.PgTable)?[e[l.Schema]?`${e[l.Schema]}.${e[l.Table.Symbol.BaseName]}`:e[l.Table.Symbol.BaseName]]:(0,t.is)(e,a.Subquery)?e._.usedTables??[]:(0,t.is)(e,s.SQL)?e.usedTables??[]:[]}class G extends r{constructor(e,t,r,n){super(),this.session=t,this.dialect=r,this.config={table:e,withList:n}}static [t.entityKind]="PgDelete";config;cacheConfig;where(e){return this.config.where=e,this}returning(e=this.config.table[l.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,d.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildDeleteQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return c.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"delete",tables:V(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>c.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new u({alias:(0,l.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class H{constructor(e,t,r,n,i){this.table=e,this.session=t,this.dialect=r,this.withList=n,this.overridingSystemValue_=i}static [t.entityKind]="PgInsertBuilder";authToken;setToken(e){return this.authToken=e,this}overridingSystemValue(){return this.overridingSystemValue_=!0,this}values(e){if(0===(e=Array.isArray(e)?e:[e]).length)throw Error("values() must be called with at least one value");let r=e.map(e=>{let r={},n=this.table[l.Table.Symbol.Columns];for(let i of Object.keys(e)){let a=e[i];r[i]=(0,t.is)(a,s.SQL)?a:new s.Param(a,n[i])}return r});return new Z(this.table,r,this.session,this.dialect,this.withList,!1,this.overridingSystemValue_).setToken(this.authToken)}select(e){let r="function"==typeof e?e(new L):e;if(!(0,t.is)(r,s.SQL)&&!(0,d.haveSameKeys)(this.table[l.Columns],r._.selectedFields))throw Error("Insert select error: selected fields are not the same or are in a different order compared to the table definition");return new Z(this.table,r,this.session,this.dialect,this.withList,!0)}}class Z extends r{constructor(e,t,r,n,i,s,a){super(),this.session=r,this.dialect=n,this.config={table:e,values:t,withList:i,select:s,overridingSystemValue_:a}}static [t.entityKind]="PgInsert";config;cacheConfig;returning(e=this.config.table[l.Table.Symbol.Columns]){return this.config.returningFields=e,this.config.returning=(0,d.orderSelectedFields)(e),this}onConflictDoNothing(e={}){if(void 0===e.target)this.config.onConflict=s.sql`do nothing`;else{let t="";t=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target));let r=e.where?s.sql` where ${e.where}`:void 0;this.config.onConflict=s.sql`(${s.sql.raw(t)})${r} do nothing`}return this}onConflictDoUpdate(e){if(e.where&&(e.targetWhere||e.setWhere))throw Error('You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.');let t=e.where?s.sql` where ${e.where}`:void 0,r=e.targetWhere?s.sql` where ${e.targetWhere}`:void 0,n=e.setWhere?s.sql` where ${e.setWhere}`:void 0,i=this.dialect.buildUpdateSet(this.config.table,(0,d.mapUpdateSet)(this.config.table,e.set)),a="";return a=Array.isArray(e.target)?e.target.map(e=>this.dialect.escapeName(this.dialect.casing.getColumnCasing(e))).join(","):this.dialect.escapeName(this.dialect.casing.getColumnCasing(e.target)),this.config.onConflict=s.sql`(${s.sql.raw(a)})${r} do update set ${i}${t}${n}`,this}getSQL(){return this.dialect.buildInsertQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return c.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:V(this.config.table)},this.cacheConfig))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>c.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken));getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new u({alias:(0,l.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}class W{constructor(e,t,r,n){this.table=e,this.session=t,this.dialect=r,this.withList=n}static [t.entityKind]="PgUpdateBuilder";authToken;setToken(e){return this.authToken=e,this}set(e){return new Q(this.table,(0,d.mapUpdateSet)(this.table,e),this.session,this.dialect,this.withList).setToken(this.authToken)}}class Q extends r{constructor(e,t,r,n,i){super(),this.session=r,this.dialect=n,this.config={set:t,table:e,withList:i,joins:[]},this.tableName=(0,d.getTableLikeName)(e),this.joinsNotNullableMap="string"==typeof this.tableName?{[this.tableName]:!0}:{}}static [t.entityKind]="PgUpdate";config;tableName;joinsNotNullableMap;cacheConfig;from(e){let t=(0,d.getTableLikeName)(e);return"string"==typeof t&&(this.joinsNotNullableMap[t]=!0),this.config.from=e,this}getTableLikeFields(e){return(0,t.is)(e,p.PgTable)?e[l.Table.Symbol.Columns]:(0,t.is)(e,a.Subquery)?e._.selectedFields:e[o.ViewBaseConfig].selectedFields}createJoin(e){return(r,n)=>{let i=(0,d.getTableLikeName)(r);if("string"==typeof i&&this.config.joins.some(e=>e.alias===i))throw Error(`Alias "${i}" is already used in this query`);if("function"==typeof n){let e=this.config.from&&!(0,t.is)(this.config.from,s.SQL)?this.getTableLikeFields(this.config.from):void 0;n=n(new Proxy(this.config.table[l.Table.Symbol.Columns],new u({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})),e&&new Proxy(e,new u({sqlAliasedBehavior:"sql",sqlBehavior:"sql"})))}if(this.config.joins.push({on:n,table:r,joinType:e,alias:i}),"string"==typeof i)switch(e){case"left":this.joinsNotNullableMap[i]=!1;break;case"right":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!0;break;case"inner":this.joinsNotNullableMap[i]=!0;break;case"full":this.joinsNotNullableMap=Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([e])=>[e,!1])),this.joinsNotNullableMap[i]=!1}return this}}leftJoin=this.createJoin("left");rightJoin=this.createJoin("right");innerJoin=this.createJoin("inner");fullJoin=this.createJoin("full");where(e){return this.config.where=e,this}returning(e){if(!e&&(e=Object.assign({},this.config.table[l.Table.Symbol.Columns]),this.config.from)){let r=(0,d.getTableLikeName)(this.config.from);if("string"==typeof r&&this.config.from&&!(0,t.is)(this.config.from,s.SQL)){let t=this.getTableLikeFields(this.config.from);e[r]=t}for(let r of this.config.joins){let n=(0,d.getTableLikeName)(r.table);if("string"==typeof n&&!(0,t.is)(r.table,s.SQL)){let t=this.getTableLikeFields(r.table);e[n]=t}}}return this.config.returningFields=e,this.config.returning=(0,d.orderSelectedFields)(e),this}getSQL(){return this.dialect.buildUpdateQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){let t=this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),this.config.returning,e,!0,void 0,{type:"insert",tables:V(this.config.table)},this.cacheConfig);return t.joinsNotNullableMap=this.joinsNotNullableMap,t}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>this._prepare().execute(e,this.authToken);getSelectedFields(){return this.config.returningFields?new Proxy(this.config.returningFields,new u({alias:(0,l.getTableName)(this.config.table),sqlAliasedBehavior:"alias",sqlBehavior:"error"})):void 0}$dynamic(){return this}}var X=s;class J extends X.SQL{constructor(e){super(J.buildEmbeddedCount(e.source,e.filters).queryChunks),this.params=e,this.mapWith(Number),this.session=e.session,this.sql=J.buildCount(e.source,e.filters)}sql;token;static [t.entityKind]="PgCountBuilder";[Symbol.toStringTag]="PgCountBuilder";session;static buildEmbeddedCount(e,t){return X.sql`(select count(*) from ${e}${X.sql.raw(" where ").if(t)}${t})`}static buildCount(e,t){return X.sql`select count(*) as count from ${e}${X.sql.raw(" where ").if(t)}${t};`}setToken(e){return this.token=e,this}then(e,t){return Promise.resolve(this.session.count(this.sql,this.token)).then(e,t)}catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}}var ee=e.i(40704);class et{constructor(e,t,r,n,i,s,a){this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=s,this.session=a}static [t.entityKind]="PgRelationalQueryBuilder";findMany(e){return new er(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e||{},"many")}findFirst(e){return new er(this.fullSchema,this.schema,this.tableNamesMap,this.table,this.tableConfig,this.dialect,this.session,e?{...e,limit:1}:{limit:1},"first")}}class er extends r{constructor(e,t,r,n,i,s,a,o,u){super(),this.fullSchema=e,this.schema=t,this.tableNamesMap=r,this.table=n,this.tableConfig=i,this.dialect=s,this.session=a,this.config=o,this.mode=u}static [t.entityKind]="PgRelationalQuery";_prepare(e){return c.tracer.startActiveSpan("drizzle.prepareQuery",()=>{let{query:t,builtQuery:r}=this._toSQL();return this.session.prepareQuery(r,void 0,e,!0,(e,r)=>{let n=e.map(e=>(0,ee.mapRelationalRow)(this.schema,this.tableConfig,e,t.selection,r));return"first"===this.mode?n[0]:n})})}prepare(e){return this._prepare(e)}_getQuery(){return this.dialect.buildRelationalQueryWithoutPK({fullSchema:this.fullSchema,schema:this.schema,tableNamesMap:this.tableNamesMap,table:this.table,tableConfig:this.tableConfig,queryConfig:this.config,tableAlias:this.tableConfig.tsName})}getSQL(){return this._getQuery().sql}_toSQL(){let e=this._getQuery(),t=this.dialect.sqlToQuery(e.sql);return{query:e,builtQuery:t}}toSQL(){return this._toSQL().builtQuery}authToken;setToken(e){return this.authToken=e,this}execute(){return c.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(void 0,this.authToken))}}class en extends r{constructor(e,t,r,n){super(),this.execute=e,this.sql=t,this.query=r,this.mapBatchResult=n}static [t.entityKind]="PgRaw";getSQL(){return this.sql}getQuery(){return this.query}mapResult(e,t){return t?this.mapBatchResult(e):e}_prepare(){return this}isResponseInArrayMode(){return!1}}class ei extends r{constructor(e,t,r){super(),this.session=t,this.dialect=r,this.config={view:e}}static [t.entityKind]="PgRefreshMaterializedView";config;concurrently(){if(void 0!==this.config.withNoData)throw Error("Cannot use concurrently and withNoData together");return this.config.concurrently=!0,this}withNoData(){if(void 0!==this.config.concurrently)throw Error("Cannot use concurrently and withNoData together");return this.config.withNoData=!0,this}getSQL(){return this.dialect.buildRefreshMaterializedViewQuery(this.config)}toSQL(){let{typings:e,...t}=this.dialect.sqlToQuery(this.getSQL());return t}_prepare(e){return c.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()),void 0,e,!0))}prepare(e){return this._prepare(e)}authToken;setToken(e){return this.authToken=e,this}execute=e=>c.tracer.startActiveSpan("drizzle.operation",()=>this._prepare().execute(e,this.authToken))}class es{constructor(e,t,r){if(this.dialect=e,this.session=t,this._=r?{schema:r.schema,fullSchema:r.fullSchema,tableNamesMap:r.tableNamesMap,session:t}:{schema:void 0,fullSchema:{},tableNamesMap:{},session:t},this.query={},this._.schema)for(let[n,i]of Object.entries(this._.schema))this.query[n]=new et(r.fullSchema,this._.schema,this._.tableNamesMap,r.fullSchema[n],i,e,t);this.$cache={invalidate:async e=>{}}}static [t.entityKind]="PgDatabase";query;$with=(e,t)=>{let r=this;return{as:n=>("function"==typeof n&&(n=n(new L(r.dialect))),new Proxy(new a.WithSubquery(n.getSQL(),t??("getSelectedFields"in n?n.getSelectedFields()??{}:{}),e,!0),new u({alias:e,sqlAliasedBehavior:"alias",sqlBehavior:"error"})))}};$count(e,t){return new J({source:e,filters:t,session:this.session})}$cache;with(...e){let t=this;return{select:function(r){return new R({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e})},selectDistinct:function(r){return new R({fields:r??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:!0})},selectDistinctOn:function(r,n){return new R({fields:n??void 0,session:t.session,dialect:t.dialect,withList:e,distinct:{on:r}})},update:function(r){return new W(r,t.session,t.dialect,e)},insert:function(r){return new H(r,t.session,t.dialect,e)},delete:function(r){return new G(r,t.session,t.dialect,e)}}}select(e){return new R({fields:e??void 0,session:this.session,dialect:this.dialect})}selectDistinct(e){return new R({fields:e??void 0,session:this.session,dialect:this.dialect,distinct:!0})}selectDistinctOn(e,t){return new R({fields:t??void 0,session:this.session,dialect:this.dialect,distinct:{on:e}})}update(e){return new W(e,this.session,this.dialect)}insert(e){return new H(e,this.session,this.dialect)}delete(e){return new G(e,this.session,this.dialect)}refreshMaterializedView(e){return new ei(e,this.session,this.dialect)}authToken;execute(e){let t="string"==typeof e?s.sql.raw(e):e.getSQL(),r=this.dialect.sqlToQuery(t),n=this.session.prepareQuery(r,void 0,void 0,!1);return new en(()=>n.execute(void 0,this.authToken),t,r,e=>n.mapResult(e,!0))}transaction(e,t){return this.session.transaction(e,t)}}},6175,e=>{"use strict";e.s(["NoopCache",()=>n,"hashQuery",()=>i]);var t=e.i(19829);class r{static [t.entityKind]="Cache"}class n extends r{strategy(){return"all"}static [t.entityKind]="NoopCache";async get(e){}async put(e,t,r,n){}async onMutate(e){}}async function i(e,t){let r=`${e}-${JSON.stringify(t)}`,n=new TextEncoder().encode(r);return[...new Uint8Array(await crypto.subtle.digest("SHA-256",n))].map(e=>e.toString(16).padStart(2,"0")).join("")}},60794,e=>{"use strict";e.s(["PgPreparedQuery",()=>o,"PgSession",()=>u,"PgTransaction",()=>l]);var t=e.i(6175),r=e.i(19829),n=e.i(46665),i=e.i(82108),s=e.i(40066),a=e.i(79946);class o{constructor(e,t,r,n){this.query=e,this.cache=t,this.queryMetadata=r,this.cacheConfig=n,t&&"all"===t.strategy()&&void 0===n&&(this.cacheConfig={enable:!0,autoInvalidate:!0}),this.cacheConfig?.enable||(this.cacheConfig=void 0)}authToken;getQuery(){return this.query}mapResult(e,t){return e}setToken(e){return this.authToken=e,this}static [r.entityKind]="PgPreparedQuery";joinsNotNullableMap;async queryWithCache(e,i,s){if(void 0===this.cache||(0,r.is)(this.cache,t.NoopCache)||void 0===this.queryMetadata||this.cacheConfig&&!this.cacheConfig.enable)try{return await s()}catch(t){throw new n.DrizzleQueryError(e,i,t)}if(("insert"===this.queryMetadata.type||"update"===this.queryMetadata.type||"delete"===this.queryMetadata.type)&&this.queryMetadata.tables.length>0)try{let[e]=await Promise.all([s(),this.cache.onMutate({tables:this.queryMetadata.tables})]);return e}catch(t){throw new n.DrizzleQueryError(e,i,t)}if(!this.cacheConfig)try{return await s()}catch(t){throw new n.DrizzleQueryError(e,i,t)}if("select"===this.queryMetadata.type){let r=await this.cache.get(this.cacheConfig.tag??await (0,t.hashQuery)(e,i),this.queryMetadata.tables,void 0!==this.cacheConfig.tag,this.cacheConfig.autoInvalidate);if(void 0===r){let r;try{r=await s()}catch(t){throw new n.DrizzleQueryError(e,i,t)}return await this.cache.put(this.cacheConfig.tag??await (0,t.hashQuery)(e,i),r,this.cacheConfig.autoInvalidate?this.queryMetadata.tables:[],void 0!==this.cacheConfig.tag,this.cacheConfig.config),r}return r}try{return await s()}catch(t){throw new n.DrizzleQueryError(e,i,t)}}}class u{constructor(e){this.dialect=e}static [r.entityKind]="PgSession";execute(e,t){return s.tracer.startActiveSpan("drizzle.operation",()=>s.tracer.startActiveSpan("drizzle.prepareQuery",()=>this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1)).setToken(t).execute(void 0,t))}all(e){return this.prepareQuery(this.dialect.sqlToQuery(e),void 0,void 0,!1).all()}async count(e,t){return Number((await this.execute(e,t))[0].count)}}class l extends a.PgDatabase{constructor(e,t,r,n=0){super(e,t,r),this.schema=r,this.nestedIndex=n}static [r.entityKind]="PgTransaction";rollback(){throw new n.TransactionRollbackError}getTransactionConfigSQL(e){let t=[];return e.isolationLevel&&t.push(`isolation level ${e.isolationLevel}`),e.accessMode&&t.push(e.accessMode),"boolean"==typeof e.deferrable&&t.push(e.deferrable?"deferrable":"not deferrable"),i.sql.raw(t.join(" "))}setTransaction(e){return this.session.execute(i.sql`set transaction ${this.getTransactionConfigSQL(e)}`)}}},86080,e=>e.a(async(t,r)=>{try{e.s(["NodePgSession",()=>m]);var n=e.i(30056),i=e.i(6175),s=e.i(19829),a=e.i(87249),o=e.i(60794),u=e.i(82108),l=e.i(40066),c=e.i(89902),d=t([n]);[n]=d.then?(await d)():d;let{Pool:p,types:f}=n.default;class h extends o.PgPreparedQuery{constructor(e,t,r,n,i,s,a,o,u,l,c){super({sql:t,params:r},i,s,a),this.client=e,this.queryString=t,this.params=r,this.logger=n,this.fields=o,this._isResponseInArrayMode=l,this.customResultMapper=c,this.rawQueryConfig={name:u,text:t,types:{getTypeParser:(e,t)=>e===f.builtins.TIMESTAMPTZ||e===f.builtins.TIMESTAMP||e===f.builtins.DATE||e===f.builtins.INTERVAL||1231===e||1115===e||1185===e||1187===e||1182===e?e=>e:f.getTypeParser(e,t)}},this.queryConfig={name:u,text:t,rowMode:"array",types:{getTypeParser:(e,t)=>e===f.builtins.TIMESTAMPTZ||e===f.builtins.TIMESTAMP||e===f.builtins.DATE||e===f.builtins.INTERVAL||1231===e||1115===e||1185===e||1187===e||1182===e?e=>e:f.getTypeParser(e,t)}}}static [s.entityKind]="NodePgPreparedQuery";rawQueryConfig;queryConfig;async execute(e={}){return l.tracer.startActiveSpan("drizzle.execute",async()=>{let t=(0,u.fillPlaceholders)(this.params,e);this.logger.logQuery(this.rawQueryConfig.text,t);let{fields:r,rawQueryConfig:n,client:i,queryConfig:s,joinsNotNullableMap:a,customResultMapper:o}=this;if(!r&&!o)return l.tracer.startActiveSpan("drizzle.driver.execute",async e=>(e?.setAttributes({"drizzle.query.name":n.name,"drizzle.query.text":n.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(n.text,t,async()=>await i.query(n,t))));let d=await l.tracer.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":s.name,"drizzle.query.text":s.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(s.text,t,async()=>await i.query(s,t))));return l.tracer.startActiveSpan("drizzle.mapResponse",()=>o?o(d.rows):d.rows.map(e=>(0,c.mapResultRow)(r,e,a)))})}all(e={}){return l.tracer.startActiveSpan("drizzle.execute",()=>{let t=(0,u.fillPlaceholders)(this.params,e);return this.logger.logQuery(this.rawQueryConfig.text,t),l.tracer.startActiveSpan("drizzle.driver.execute",e=>(e?.setAttributes({"drizzle.query.name":this.rawQueryConfig.name,"drizzle.query.text":this.rawQueryConfig.text,"drizzle.query.params":JSON.stringify(t)}),this.queryWithCache(this.rawQueryConfig.text,t,async()=>this.client.query(this.rawQueryConfig,t)).then(e=>e.rows)))})}isResponseInArrayMode(){return this._isResponseInArrayMode}}class m extends o.PgSession{constructor(e,t,r,n={}){super(t),this.client=e,this.schema=r,this.options=n,this.logger=n.logger??new a.NoopLogger,this.cache=n.cache??new i.NoopCache}static [s.entityKind]="NodePgSession";logger;cache;prepareQuery(e,t,r,n,i,s,a){return new h(this.client,e.sql,e.params,this.logger,this.cache,s,a,t,r,n,i)}async transaction(e,t){let r=this.client instanceof p?new m(await this.client.connect(),this.dialect,this.schema,this.options):this,n=new g(this.dialect,r,this.schema);await n.execute(u.sql`begin${t?u.sql` ${n.getTransactionConfigSQL(t)}`:void 0}`);try{let t=await e(n);return await n.execute(u.sql`commit`),t}catch(e){throw await n.execute(u.sql`rollback`),e}finally{this.client instanceof p&&r.client.release()}}async count(e){let t=await this.execute(e);return Number(t.rows[0].count)}}class g extends o.PgTransaction{static [s.entityKind]="NodePgTransaction";async transaction(e){let t=`sp${this.nestedIndex+1}`,r=new g(this.dialect,this.session,this.schema,this.nestedIndex+1);await r.execute(u.sql.raw(`savepoint ${t}`));try{let n=await e(r);return await r.execute(u.sql.raw(`release savepoint ${t}`)),n}catch(e){throw await r.execute(u.sql.raw(`rollback to savepoint ${t}`)),e}}}r()}catch(e){r(e)}},!1),48873,e=>e.a(async(t,r)=>{try{e.s(["drizzle",()=>f]);var n=e.i(30056),i=e.i(19829),s=e.i(87249),a=e.i(79946),o=e.i(88964),u=e.i(40704),l=e.i(89902),c=e.i(86080),d=t([n,c]);[n,c]=d.then?(await d)():d;class h{constructor(e,t,r={}){this.client=e,this.dialect=t,this.options=r}static [i.entityKind]="NodePgDriver";createSession(e){return new c.NodePgSession(this.client,this.dialect,e,{logger:this.options.logger,cache:this.options.cache})}}class m extends a.PgDatabase{static [i.entityKind]="NodePgDatabase"}function p(e,t={}){let r,n,i=new o.PgDialect({casing:t.casing});if(!0===t.logger?r=new s.DefaultLogger:!1!==t.logger&&(r=t.logger),t.schema){let e=(0,u.extractTablesRelationalConfig)(t.schema,u.createTableRelationsHelpers);n={fullSchema:t.schema,schema:e.tables,tableNamesMap:e.tableNamesMap}}let a=new h(e,i,{logger:r,cache:t.cache}).createSession(n),l=new m(i,a,n);return l.$client=e,l.$cache=t.cache,l.$cache&&(l.$cache.invalidate=t.cache?.onMutate),l}function f(...e){if("string"==typeof e[0]){let t=new n.default.Pool({connectionString:e[0]});return p(t,e[1])}if((0,l.isConfig)(e[0])){let{connection:t,client:r,...i}=e[0];if(r)return p(r,i);let s=new n.default.Pool("string"==typeof t?{connectionString:t}:t);return p(s,i)}return p(e[0],e[1])}(f||(f={})).mock=function(e){return p({},e)},r()}catch(e){r(e)}},!1),4651,e=>e.a(async(t,r)=>{try{e.s(["db",()=>s]);var n=e.i(48873),i=t([n]);[n]=i.then?(await i)():i;let s=(0,n.drizzle)({connection:{host:process.env.DATABASE_HOST,port:Number(process.env.DATABASE_PORT),database:process.env.DATABASE_DB,user:process.env.DATABASE_USER,password:process.env.DATABASE_PASSWORD,ssl:!1}});r()}catch(e){r(e)}},!1),77965,e=>{"use strict";e.s(["account",()=>u,"conversation",()=>c,"message",()=>d,"session",()=>o,"user",()=>a,"verification",()=>l]);var t=e.i(18467),r=e.i(33250),n=e.i(63177),i=e.i(87280),s=e.i(57367);let a=(0,r.pgTable)("user",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),name:(0,n.text)("name").notNull(),email:(0,n.text)("email").notNull().unique(),emailVerified:(0,t.boolean)("email_verified").default(!1).notNull(),image:(0,n.text)("image"),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().$onUpdate(()=>new Date).notNull()}),o=(0,r.pgTable)("session",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),expiresAt:(0,i.timestamp)("expires_at").notNull(),token:(0,n.text)("token").notNull().unique(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").$onUpdate(()=>new Date).notNull(),ipAddress:(0,n.text)("ip_address"),userAgent:(0,n.text)("user_agent"),userId:(0,s.uuid)("user_id").notNull().references(()=>a.id,{onDelete:"cascade"})}),u=(0,r.pgTable)("account",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),accountId:(0,n.text)("account_id").notNull(),providerId:(0,n.text)("provider_id").notNull(),userId:(0,s.uuid)("user_id").notNull().references(()=>a.id,{onDelete:"cascade"}),accessToken:(0,n.text)("access_token"),refreshToken:(0,n.text)("refresh_token"),idToken:(0,n.text)("id_token"),accessTokenExpiresAt:(0,i.timestamp)("access_token_expires_at"),refreshTokenExpiresAt:(0,i.timestamp)("refresh_token_expires_at"),scope:(0,n.text)("scope"),password:(0,n.text)("password"),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").$onUpdate(()=>new Date).notNull()}),l=(0,r.pgTable)("verification",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),identifier:(0,n.text)("identifier").notNull(),value:(0,n.text)("value").notNull(),expiresAt:(0,i.timestamp)("expires_at").notNull(),createdAt:(0,i.timestamp)("created_at").defaultNow().notNull(),updatedAt:(0,i.timestamp)("updated_at").defaultNow().$onUpdate(()=>new Date).notNull()}),c=(0,r.pgTable)("conversation",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),users:(0,s.uuid)("users").array(),name:(0,n.text)("name")}),d=(0,r.pgTable)("message",{id:(0,s.uuid)("id").unique().defaultRandom().notNull(),conversation:(0,s.uuid)("conversation").notNull().references(()=>c.id,{onDelete:"cascade"}),text:(0,n.text)("text").notNull(),sender:(0,s.uuid)("sender").notNull().references(()=>a.id)})},68441,93982,31786,19014,73018,16043,84331,51386,56685,65965,21176,41903,2316,23348,36964,e=>{"use strict";e.s(["ENV",()=>c,"TTY_COLORS",()=>m,"createLogger",()=>b,"env",()=>n,"getBooleanEnvVar",()=>l,"getColorDepth",()=>h,"getEnvVar",()=>u,"isDevelopment",()=>a,"isProduction",()=>s,"isTest",()=>o,"logger",()=>v,"shouldPublishLog",()=>y],68441);let t=Object.create(null),r=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?t:globalThis),n=new Proxy(t,{get:(e,n)=>r()[n]??t[n],has:(e,n)=>n in r()||n in t,set:(e,t,n)=>(r(!0)[t]=n,!0),deleteProperty(e,t){if(!t)return!1;let n=r(!0);return delete n[t],!0},ownKeys:()=>Object.keys(r(!0))}),i="undefined"!=typeof process&&process.env&&"production"||"",s="production"===i,a=()=>"dev"===i||"development"===i,o=()=>"test"===i||function(e){return!!e&&"false"!==e}(n.TEST);function u(e,t){return"undefined"!=typeof process&&process.env?process.env[e]??t:"undefined"!=typeof Deno?Deno.env.get(e)??t:"undefined"!=typeof Bun?Bun.env[e]??t:t}function l(e,t=!0){let r=u(e);return r?"0"!==r&&"false"!==r.toLowerCase()&&""!==r:t}let c=Object.freeze({get BETTER_AUTH_SECRET(){return u("BETTER_AUTH_SECRET")},get AUTH_SECRET(){return u("AUTH_SECRET")},get BETTER_AUTH_TELEMETRY(){return u("BETTER_AUTH_TELEMETRY")},get BETTER_AUTH_TELEMETRY_ID(){return u("BETTER_AUTH_TELEMETRY_ID")},get NODE_ENV(){return u("NODE_ENV","development")},get PACKAGE_VERSION(){return u("PACKAGE_VERSION","0.0.0")},get BETTER_AUTH_TELEMETRY_ENDPOINT(){return u("BETTER_AUTH_TELEMETRY_ENDPOINT","https://telemetry.better-auth.com/v1/track")}}),d={eterm:4,cons25:4,console:4,cygwin:4,dtterm:4,gnome:4,hurd:4,jfbterm:4,konsole:4,kterm:4,mlterm:4,mosh:24,putty:4,st:4,"rxvt-unicode-24bit":24,terminator:24,"xterm-kitty":24},p=new Map(Object.entries({APPVEYOR:8,BUILDKITE:8,CIRCLECI:24,DRONE:8,GITEA_ACTIONS:24,GITHUB_ACTIONS:24,GITLAB_CI:8,TRAVIS:8})),f=[/ansi/,/color/,/linux/,/direct/,/^con[0-9]*x[0-9]/,/^rxvt/,/^screen/,/^xterm/,/^vt100/,/^vt220/];function h(){if(void 0!==u("FORCE_COLOR"))switch(u("FORCE_COLOR")){case"":case"1":case"true":return 4;case"2":return 8;case"3":return 24;default:return 1}if(void 0!==u("NODE_DISABLE_COLORS")&&""!==u("NODE_DISABLE_COLORS")||void 0!==u("NO_COLOR")&&""!==u("NO_COLOR")||"dumb"===u("TERM"))return 1;if(u("TMUX"))return 24;if("TF_BUILD"in n&&"AGENT_NAME"in n)return 4;if("CI"in n){for(let{0:e,1:t}of p)if(e in n)return t;return"codeship"===u("CI_NAME")?8:1}if("TEAMCITY_VERSION"in n)return null!==/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.exec(u("TEAMCITY_VERSION"))?4:1;switch(u("TERM_PROGRAM")){case"iTerm.app":if(!u("TERM_PROGRAM_VERSION")||null!==/^[0-2]\./.exec(u("TERM_PROGRAM_VERSION")))return 8;return 24;case"HyperTerm":case"MacTerm":return 24;case"Apple_Terminal":return 8}if("truecolor"===u("COLORTERM")||"24bit"===u("COLORTERM"))return 24;if(u("TERM")){if(null!==/truecolor/.exec(u("TERM")))return 24;if(null!==/^xterm-256/.exec(u("TERM")))return 8;let e=u("TERM").toLowerCase();if(d[e])return d[e];if(f.some(t=>null!==t.exec(e)))return 4}return u("COLORTERM")?4:1}let m={reset:"\x1b[0m",bright:"\x1b[1m",dim:"\x1b[2m",undim:"\x1b[22m",underscore:"\x1b[4m",blink:"\x1b[5m",reverse:"\x1b[7m",hidden:"\x1b[8m",fg:{black:"\x1b[30m",red:"\x1b[31m",green:"\x1b[32m",yellow:"\x1b[33m",blue:"\x1b[34m",magenta:"\x1b[35m",cyan:"\x1b[36m",white:"\x1b[37m"},bg:{black:"\x1b[40m",red:"\x1b[41m",green:"\x1b[42m",yellow:"\x1b[43m",blue:"\x1b[44m",magenta:"\x1b[45m",cyan:"\x1b[46m",white:"\x1b[47m"}},g=["info","success","warn","error","debug"];function y(e,t){return g.indexOf(t)<=g.indexOf(e)}let _={info:m.fg.blue,success:m.fg.green,warn:m.fg.yellow,error:m.fg.red,debug:m.fg.magenta},b=e=>{let t=e?.disabled!==!0,r=e?.level??"error",n=e?.disableColors!==void 0?!e.disableColors:1!==h();return{...Object.fromEntries(g.map(i=>[i,(...[s,...a])=>((i,s,a=[])=>{if(!t||!y(r,i))return;let o=((e,t,r)=>{let n=new Date().toISOString();return r?`${m.dim}${n}${m.reset} ${_[e]}${e.toUpperCase()}${m.reset} ${m.bright}[Better Auth]:${m.reset} ${t}`:`${n} ${e.toUpperCase()} [Better Auth]: ${t}`})(i,s,n);if(!e||"function"!=typeof e.log)return void("error"===i?console.error(o,...a):"warn"===i?console.warn(o,...a):console.log(o,...a));e.log("success"===i?"info":i,s,...a)})(i,s,a)])),get level(){return r}}},v=b();function E(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}function S(e,t,r){let n="",i=0,s=0;for(let r of e)for(i=i<<8|r,s+=8;s>=6;)s-=6,n+=t[i>>s&63];if(s>0&&(n+=t[i<<6-s&63]),r){let e=(4-n.length%4)%4;n+="=".repeat(e)}return n}function w(e,t){let r=new Map;for(let e=0;e<t.length;e++)r.set(t[e],e);let n=[],i=0,s=0;for(let t of e){if("="===t)break;let e=r.get(t);if(void 0===e)throw Error(`Invalid Base64 character: ${t}`);i=i<<6|e,(s+=6)>=8&&(s-=8,n.push(i>>s&255))}return Uint8Array.from(n)}e.s(["base64",()=>R,"base64Url",()=>O],93982);let R={encode(e,t={}){let r=E(!1);return S("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){"string"!=typeof e&&(e=new TextDecoder().decode(e));let t=E(e.includes("-")||e.includes("_"));return w(e,t)}},O={encode(e,t={}){let r=E(!0);return S("string"==typeof e?new TextEncoder().encode(e):new Uint8Array(e),r,t.padding??!0)},decode(e){let t=E(e.includes("-")||e.includes("_"));return w(e,t)}};function A(e){return e}e.s(["BASE_ERROR_CODES",()=>T,"BetterAuthError",()=>I],19014),e.s(["defineErrorCodes",()=>A],31786);let T={USER_NOT_FOUND:"User not found",FAILED_TO_CREATE_USER:"Failed to create user",FAILED_TO_CREATE_SESSION:"Failed to create session",FAILED_TO_UPDATE_USER:"Failed to update user",FAILED_TO_GET_SESSION:"Failed to get session",INVALID_PASSWORD:"Invalid password",INVALID_EMAIL:"Invalid email",INVALID_EMAIL_OR_PASSWORD:"Invalid email or password",SOCIAL_ACCOUNT_ALREADY_LINKED:"Social account already linked",PROVIDER_NOT_FOUND:"Provider not found",INVALID_TOKEN:"Invalid token",ID_TOKEN_NOT_SUPPORTED:"id_token not supported",FAILED_TO_GET_USER_INFO:"Failed to get user info",USER_EMAIL_NOT_FOUND:"User email not found",EMAIL_NOT_VERIFIED:"Email not verified",PASSWORD_TOO_SHORT:"Password too short",PASSWORD_TOO_LONG:"Password too long",USER_ALREADY_EXISTS:"User already exists.",USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL:"User already exists. Use another email.",EMAIL_CAN_NOT_BE_UPDATED:"Email can not be updated",CREDENTIAL_ACCOUNT_NOT_FOUND:"Credential account not found",SESSION_EXPIRED:"Session expired. Re-authenticate to perform this action.",FAILED_TO_UNLINK_LAST_ACCOUNT:"You can't unlink your last account",ACCOUNT_NOT_FOUND:"Account not found",USER_ALREADY_HAS_PASSWORD:"User already has a password. Provide that to delete the account."};class I extends Error{constructor(e,t){super(e),this.name="BetterAuthError",this.message=e,this.cause=t,this.stack=""}}function C(){let e="undefined"!=typeof globalThis&&globalThis.crypto;if(e&&"object"==typeof e.subtle&&null!=e.subtle)return e.subtle;throw Error("crypto.subtle must be defined")}e.s(["APIError",()=>$,"createEndpoint",()=>J,"createMiddleware",()=>X,"createRouter",()=>rn,"toResponse",()=>B],16043),e.s(["getWebcryptoSubtle",()=>C],73018);let N=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function P(){return{root:{key:""},static:new N}}function x(e){return e.split("/").filter(Boolean)}function D(e,t){let r=new N;for(let[n,i]of t){let t=n<0?e.slice(-1*n).join("/"):e[n];if("string"==typeof i)r[i]=t;else{let e=t.match(i);if(e)for(let t in e.groups)r[t]=e.groups[t]}}return r}function k(e,t="",r,n){let i=x(r),s=e.root,a=0,o=[];for(let e=0;e<i.length;e++){let t=i[e];if(t.startsWith("**")){s.wildcard||(s.wildcard={key:"**"}),s=s.wildcard,o.push([-e,t.split(":")[1]||"_",2===t.length]);break}if("*"===t||t.includes(":")){s.param||(s.param={key:"*"}),s=s.param;let r="*"===t;o.push([e,r?`_${a++}`:function(e){if(!e.includes(":",1))return e.slice(1);let t=e.replace(/:(\w+)/g,(e,t)=>`(?<${t}>\\w+)`);return RegExp(`^${t}$`)}(t),r]);continue}let r=s.static?.[t];if(r)s=r;else{let e={key:t};s.static||(s.static=new N),s.static[t]=e,s=e}}let u=o.length>0;s.methods||(s.methods=new N),s.methods[t]||(s.methods[t]=[]),s.methods[t].push({data:n||null,paramsMap:u?o:void 0}),u||(e.static[r]=s)}var L=Object.defineProperty,M={OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,MULTIPLE_CHOICES:300,MOVED_PERMANENTLY:301,FOUND:302,SEE_OTHER:303,NOT_MODIFIED:304,TEMPORARY_REDIRECT:307,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,"I'M_A_TEAPOT":418,MISDIRECTED_REQUEST:421,UNPROCESSABLE_ENTITY:422,LOCKED:423,FAILED_DEPENDENCY:424,TOO_EARLY:425,UPGRADE_REQUIRED:426,PRECONDITION_REQUIRED:428,TOO_MANY_REQUESTS:429,REQUEST_HEADER_FIELDS_TOO_LARGE:431,UNAVAILABLE_FOR_LEGAL_REASONS:451,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505,VARIANT_ALSO_NEGOTIATES:506,INSUFFICIENT_STORAGE:507,LOOP_DETECTED:508,NOT_EXTENDED:510,NETWORK_AUTHENTICATION_REQUIRED:511},$=function(e,t){class r extends e{#e;constructor(...e){if(function(){let e=Object.getOwnPropertyDescriptor(Error,"stackTraceLimit");return void 0===e?Object.isExtensible(Error):Object.prototype.hasOwnProperty.call(e,"writable")?e.writable:void 0!==e.set}()){let t=Error.stackTraceLimit;Error.stackTraceLimit=0,super(...e),Error.stackTraceLimit=t}else super(...e);let t=Error().stack;t&&(this.#e=function(e){let t=e.split("\n    at ");return t.length<=1?e:(t.splice(1,1),t.join("\n    at "))}(t.replace(/^Error/,this.name)))}get errorStack(){return this.#e}}return Object.defineProperty(r.prototype,"constructor",{get:()=>t,enumerable:!1,configurable:!0}),r}(class extends Error{constructor(e="INTERNAL_SERVER_ERROR",t,r={},n="number"==typeof e?e:M[e]){super(t?.message,t?.cause?{cause:t.cause}:void 0),this.status=e,this.body=t,this.headers=r,this.statusCode=n,this.name="APIError",this.status=e,this.headers=r,this.statusCode=n,this.body=t?{code:t?.message?.toUpperCase().replace(/ /g,"_").replace(/[^A-Z0-9_]/g,""),...t}:void 0}},Error);async function U(e){let t=e.headers.get("content-type")||"";if(e.body){if(t.includes("application/json"))return await e.json();if(t.includes("application/x-www-form-urlencoded")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e.toString()}),r}if(t.includes("multipart/form-data")){let t=await e.formData(),r={};return t.forEach((e,t)=>{r[t]=e}),r}return t.includes("text/plain")?await e.text():t.includes("application/octet-stream")?await e.arrayBuffer():t.includes("application/pdf")||t.includes("image/")||t.includes("video/")?await e.blob():t.includes("application/stream")||e.body instanceof ReadableStream?e.body:await e.text()}}function j(e){return e instanceof $||e?.name==="APIError"}function B(e,t){if(e instanceof Response)return t?.headers instanceof Headers&&t.headers.forEach((t,r)=>{e.headers.set(r,t)}),e;if(e&&"object"==typeof e&&"_flag"in e&&"json"===e._flag){let r=e.body,n=e.routerResponse;if(n instanceof Response)return n;let i=new Headers({...n?.headers,...e.headers,...t?.headers,"Content-Type":"application/json"});return new Response(JSON.stringify(r),{...n,headers:i,status:e.status??t?.status??n?.status,statusText:t?.statusText??n?.statusText})}if(j(e))return B(e.body,{status:t?.status??e.statusCode,statusText:e.status.toString(),headers:t?.headers||e.headers});let r=e,n=new Headers(t?.headers);return e?"string"==typeof e?(r=e,n.set("Content-Type","text/plain")):e instanceof ArrayBuffer||ArrayBuffer.isView(e)?(r=e,n.set("Content-Type","application/octet-stream")):e instanceof Blob?(r=e,n.set("Content-Type",e.type||"application/octet-stream")):e instanceof FormData?r=e:e instanceof URLSearchParams?(r=e,n.set("Content-Type","application/x-www-form-urlencoded")):e instanceof ReadableStream?(r=e,n.set("Content-Type","application/octet-stream")):function(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(e)&&(r=function(e,t,r){let n=0,i=new WeakMap;return JSON.stringify(e,(e,t)=>{if("bigint"==typeof t)return t.toString();if("object"==typeof t&&null!==t){if(i.has(t))return`[Circular ref-${i.get(t)}]`;i.set(t,n++)}return t},void 0)}(e),n.set("Content-Type","application/json")):(null===e&&(r=JSON.stringify(null)),n.set("content-type","application/json")),new Response(r,{...t,headers:n})}async function z(e,t={}){let r={body:t.body,query:t.query};if(e.body){let n=await e.body["~standard"].validate(t.body);if(n.issues)return{data:null,error:q(n.issues,"body")};r.body=n.value}if(e.query){let n=await e.query["~standard"].validate(t.query);if(n.issues)return{data:null,error:q(n.issues,"query")};r.query=n.value}return e.requireHeaders&&!t.headers?{data:null,error:{message:"Headers is required"}}:e.requireRequest&&!t.request?{data:null,error:{message:"Request is required"}}:{data:r,error:null}}function q(e,t){let r=[];for(let t of e){let e=t.message;r.push(e)}return{message:`Invalid ${t} parameters`}}var K={name:"HMAC",hash:"SHA-256"},F=async e=>{let t="string"==typeof e?new TextEncoder().encode(e):e;return await C().importKey("raw",t,K,!1,["sign","verify"])},Y=async(e,t,r)=>{try{let n=atob(e),i=new Uint8Array(n.length);for(let e=0,t=n.length;e<t;e++)i[e]=n.charCodeAt(e);return await C().verify(K,r,i,new TextEncoder().encode(t))}catch(e){return!1}},V=async(e,t)=>{let r=await F(t);return btoa(String.fromCharCode(...new Uint8Array(await C().sign(K.name,r,new TextEncoder().encode(e)))))},G=async(e,t)=>{let r=await V(e,t);return encodeURIComponent(e=`${e}.${r}`)},H=(e,t)=>{let r=e;if(t)if("secure"===t)r="__Secure-"+e;else{if("host"!==t)return;r="__Host-"+e}return r},Z=(e,t,r={})=>{let n;if(n=r?.prefix==="secure"?`__Secure-${e}=${t}`:r?.prefix==="host"?`__Host-${e}=${t}`:`${e}=${t}`,e.startsWith("__Secure-")&&!r.secure&&(r.secure=!0),e.startsWith("__Host-")&&(r.secure||(r.secure=!0),"/"!==r.path&&(r.path="/"),r.domain&&(r.domain=void 0)),r&&"number"==typeof r.maxAge&&r.maxAge>=0){if(r.maxAge>3456e4)throw Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");n+=`; Max-Age=${Math.floor(r.maxAge)}`}if(r.domain&&"host"!==r.prefix&&(n+=`; Domain=${r.domain}`),r.path&&(n+=`; Path=${r.path}`),r.expires){if(r.expires.getTime()-Date.now()>3456e7)throw Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");n+=`; Expires=${r.expires.toUTCString()}`}return r.httpOnly&&(n+="; HttpOnly"),r.secure&&(n+="; Secure"),r.sameSite&&(n+=`; SameSite=${r.sameSite.charAt(0).toUpperCase()+r.sameSite.slice(1)}`),r.partitioned&&(r.secure||(r.secure=!0),n+="; Partitioned"),n},W=async(e,t,r,n)=>Z(e,t=await G(t,r),n),Q=async(e,{options:t,path:r})=>{let n=new Headers,{data:i,error:s}=await z(t,e);if(s)throw new $(400,{message:s.message,code:"VALIDATION_ERROR"});let a="headers"in e?e.headers instanceof Headers?e.headers:new Headers(e.headers):"request"in e&&e.request instanceof Request?e.request.headers:null,o=a?.get("cookie"),u=o?function(e){if("string"!=typeof e)throw TypeError("argument str must be a string");let t=new Map,r=0;for(;r<e.length;){let n=e.indexOf("=",r);if(-1===n)break;let i=e.indexOf(";",r);if(-1===i)i=e.length;else if(i<n){r=e.lastIndexOf(";",n-1)+1;continue}let s=e.slice(r,n).trim();if(!t.has(s)){let r=e.slice(n+1,i).trim();34===r.codePointAt(0)&&(r=r.slice(1,-1)),t.set(s,function(e){try{return e.includes("%")?decodeURIComponent(e):e}catch{return e}}(r))}r=i+1}return t}(o):void 0,l={...e,body:i.body,query:i.query,path:e.path||r,context:"context"in e&&e.context?e.context:{},returned:void 0,headers:e?.headers,request:e?.request,params:"params"in e?e.params:void 0,method:e.method,setHeader:(e,t)=>{n.set(e,t)},getHeader:e=>a?a.get(e):null,getCookie:(e,t)=>{let r=H(e,t);return r&&u?.get(r)||null},getSignedCookie:async(e,t,r)=>{let n=H(e,r);if(!n)return null;let i=u?.get(n);if(!i)return null;let s=i.lastIndexOf(".");if(s<1)return null;let a=i.substring(0,s),o=i.substring(s+1);if(44!==o.length||!o.endsWith("="))return null;let l=await F(t);return!!await Y(o,a,l)&&a},setCookie:(e,t,r)=>{let i=((e,t,r)=>Z(e,t=encodeURIComponent(t),r))(e,t,r);return n.append("set-cookie",i),i},setSignedCookie:async(e,t,r,i)=>{let s=await W(e,t,r,i);return n.append("set-cookie",s),s},redirect:e=>(n.set("location",e),new $("FOUND",void 0,n)),error:(e,t,r)=>new $(e,t,r),json:(t,r)=>e.asResponse?{body:r?.body||t,routerResponse:r,_flag:"json"}:t,responseHeaders:n};for(let e of t.use||[]){let t=await e({...l,returnHeaders:!0,asResponse:!1});t.response&&Object.assign(l.context,t.response),t.headers&&t.headers.forEach((e,t)=>{l.responseHeaders.set(t,e)})}return l};function X(e,t){let r=async r=>{let n="function"==typeof e?e:t,i=await Q(r,{options:"function"==typeof e?{}:e,path:"/"});if(!n)throw Error("handler must be defined");let s=await n(i),a=i.responseHeaders;return r.returnHeaders?{headers:a,response:s}:s};return r.options="function"==typeof e?{}:e,r}X.create=e=>function(t,r){if("function"==typeof t)return X({use:e?.use},t);if(!r)throw Error("Middleware handler is required");return X({...t,method:"*",use:[...e?.use||[],...t.use||[]]},r)};var J=(e,t,r)=>{let n=async(...n)=>{let i=n[0]||{},s=await Q(i,{options:t,path:e}),a=await r(s).catch(async e=>{if(j(e)){let r=t.onAPIError;if(r&&await r(e),i.asResponse)return e}throw e}),o=s.responseHeaders;return i.asResponse?B(a,{headers:o}):i.returnHeaders?{headers:o,response:a}:a};return n.options=t,n.path=e,n};function ee(e,t,r){function n(r,n){var i;for(let s in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),a.prototype)s in r||Object.defineProperty(r,s,{value:a.prototype[s].bind(r)});r._zod.constr=a,r._zod.def=n}let i=r?.Parent??Object;class s extends i{}function a(e){var t;let i=r?.Parent?new s:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}J.create=e=>(t,r,n)=>J(t,{...r,use:[...r?.use||[],...e?.use||[]]},n),Object.freeze({status:"aborted"}),Symbol("zod_brand");var et=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},er={};function en(e){return e&&Object.assign(er,e),er}var ei={};function es(e){return e}function ea(e){return e}function eo(e){}function eu(e){throw Error()}function el(e){}function ec(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function ed(e,t="|"){return e.map(e=>eL(e)).join(t)}function ep(e,t){return"bigint"==typeof t?t.toString():t}function ef(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function eh(e){return null==e}function em(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function eg(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}function ey(e,t,r){Object.defineProperty(e,t,{get(){{let n=r();return e[t]=n,n}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function e_(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function eb(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function ev(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function eE(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function eS(e){return JSON.stringify(e)}((e,t)=>{for(var r in t)L(e,r,{get:t[r],enumerable:!0})})(ei,{BIGINT_FORMAT_RANGES:()=>eU,Class:()=>eJ,NUMBER_FORMAT_RANGES:()=>e$,aborted:()=>eY,allowsEval:()=>eO,assert:()=>el,assertEqual:()=>es,assertIs:()=>eo,assertNever:()=>eu,assertNotEqual:()=>ea,assignProp:()=>e_,cached:()=>ef,captureStackTrace:()=>ew,cleanEnum:()=>eX,cleanRegex:()=>em,clone:()=>ex,createTransparentProxy:()=>ek,defineLazy:()=>ey,esc:()=>eS,escapeRegex:()=>eP,extend:()=>ez,finalizeIssue:()=>eH,floatSafeRemainder:()=>eg,getElementAtPath:()=>eb,getEnumValues:()=>ec,getLengthableOrigin:()=>eW,getParsedType:()=>eI,getSizableOrigin:()=>eZ,isObject:()=>eR,isPlainObject:()=>eA,issue:()=>eQ,joinValues:()=>ed,jsonStringifyReplacer:()=>ep,merge:()=>eq,normalizeParams:()=>eD,nullish:()=>eh,numKeys:()=>eT,omit:()=>eB,optionalKeys:()=>eM,partial:()=>eK,pick:()=>ej,prefixIssues:()=>eV,primitiveTypes:()=>eN,promiseAllObject:()=>ev,propertyKeyTypes:()=>eC,randomString:()=>eE,required:()=>eF,stringifyPrimitive:()=>eL,unwrapMessage:()=>eG});var ew=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function eR(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}var eO=ef(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function eA(e){if(!1===eR(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==eR(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function eT(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}var eI=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},eC=new Set(["string","number","symbol"]),eN=new Set(["string","number","bigint","boolean","symbol","undefined"]);function eP(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ex(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function eD(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function ek(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,s)=>(t??(t=e()),Reflect.set(t,n,i,s)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function eL(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function eM(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}var e$={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},eU={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function ej(e,t){let r={},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&(r[e]=n.shape[e])}return ex(e,{...e._zod.def,shape:r,checks:[]})}function eB(e,t){let r={...e._zod.def.shape},n=e._zod.def;for(let e in t){if(!(e in n.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete r[e]}return ex(e,{...e._zod.def,shape:r,checks:[]})}function ez(e,t){if(!eA(t))throw Error("Invalid input to extend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return e_(this,"shape",r),r},checks:[]};return ex(e,r)}function eq(e,t){return ex(e,{...e._zod.def,get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return e_(this,"shape",r),r},catchall:t._zod.def.catchall,checks:[]})}function eK(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return ex(t,{...t._zod.def,shape:i,checks:[]})}function eF(e,t,r){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return ex(t,{...t._zod.def,shape:i,checks:[]})}function eY(e,t=0){for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function eV(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function eG(e){return"string"==typeof e?e:e?.message}function eH(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=eG(e.inst?._zod.def?.error?.(e))??eG(t?.error?.(e))??eG(r.customError?.(e))??eG(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function eZ(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function eW(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function eQ(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function eX(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}var eJ=class{constructor(...e){}},e0=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,ep,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},e1=ee("$ZodError",e0),e4=ee("$ZodError",e0,{Parent:Error}),e2=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new et;return s.issues.length?{success:!1,error:new(e??e1)(s.issues.map(e=>eH(e,i,en())))}:{success:!0,data:s.value}},e6=e2(e4),e3=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>eH(e,i,en())))}:{success:!0,data:s.value}},e8=e3(e4),e5=ee("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),e9=ee("$ZodCheckMaxLength",(e,t)=>{var r;e5.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eh(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=eW(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),e7=ee("$ZodCheckMinLength",(e,t)=>{var r;e5.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eh(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=eW(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),te=ee("$ZodCheckLengthEquals",(e,t)=>{var r;e5.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eh(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let s=eW(n),a=i>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),tt=ee("$ZodCheckOverwrite",(e,t)=>{e5.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}),tr=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}},tn={major:4,minor:0,patch:0},ti=ee("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=tn;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=eY(e);for(let s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,a=s._zod.check(e);if(a instanceof Promise&&r?.async===!1)throw new et;if(n||a instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(i||(i=eY(e,t)))});else{if(e.issues.length===t)continue;i||(i=eY(e,t))}}return n?n.then(()=>e):e};e._zod.run=(r,i)=>{let s=e._zod.parse(r,i);if(s instanceof Promise){if(!1===i.async)throw new et;return s.then(e=>t(e,n,i))}return t(s,n,i)}}e["~standard"]={validate:t=>{try{let r=e6(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return e8(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),ts=ee("$ZodUnknown",(e,t)=>{ti.init(e,t),e._zod.parse=e=>e}),ta=ee("$ZodNever",(e,t)=>{ti.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function to(e,t,r){e.issues.length&&t.issues.push(...eV(r,e.issues)),t.value[r]=e.value}var tu=ee("$ZodArray",(e,t)=>{ti.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let s=[];for(let e=0;e<i.length;e++){let a=i[e],o=t.element._zod.run({value:a,issues:[]},n);o instanceof Promise?s.push(o.then(t=>to(t,r,e))):to(o,r,e)}return s.length?Promise.all(s).then(()=>r):r}});function tl(e,t,r){e.issues.length&&t.issues.push(...eV(r,e.issues)),t.value[r]=e.value}function tc(e,t,r,n){e.issues.length?void 0===n[r]?r in n?t.value[r]=void 0:t.value[r]=e.value:t.issues.push(...eV(r,e.issues)):void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}var td=ee("$ZodObject",(e,t)=>{let r,n;ti.init(e,t);let i=ef(()=>{let e=Object.keys(t.shape);for(let r of e)if(!(t.shape[r]instanceof ti))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=eM(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});ey(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let s=!er.jitless,a=s&&eO.value,o=t.catchall;e._zod.parse=(u,l)=>{n??(n=i.value);let c=u.value;if(!eR(c))return u.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),u;let d=[];if(s&&a&&l?.async===!1&&!0!==l.jitless)r||(r=(e=>{let t=new tr(["shape","payload","ctx"]),r=i.value,n=e=>{let t=eS(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let s=Object.create(null),a=0;for(let e of r.keys)s[e]=`key_${a++}`;for(let e of(t.write("const newResult = {}"),r.keys))if(r.optionalKeys.has(e)){let r=s[e];t.write(`const ${r} = ${n(e)};`);let i=eS(e);t.write(`
        if (${r}.issues.length) {
          if (input[${i}] === undefined) {
            if (${i} in input) {
              newResult[${i}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${r}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${i}, ...iss.path] : [${i}],
              }))
            );
          }
        } else if (${r}.value === undefined) {
          if (${i} in input) newResult[${i}] = undefined;
        } else {
          newResult[${i}] = ${r}.value;
        }
        `)}else{let r=s[e];t.write(`const ${r} = ${n(e)};`),t.write(`
          if (${r}.issues.length) payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${eS(e)}, ...iss.path] : [${eS(e)}]
          })));`),t.write(`newResult[${eS(e)}] = ${r}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),u=r(u,l);else{u.value={};let e=n.shape;for(let t of n.keys){let r=e[t],n=r._zod.run({value:c[t],issues:[]},l),i="optional"===r._zod.optin&&"optional"===r._zod.optout;n instanceof Promise?d.push(n.then(e=>i?tc(e,u,t,c):tl(e,u,t))):i?tc(n,u,t,c):tl(n,u,t)}}if(!o)return d.length?Promise.all(d).then(()=>u):u;let p=[],f=n.keySet,h=o._zod,m=h.def.type;for(let e of Object.keys(c)){if(f.has(e))continue;if("never"===m){p.push(e);continue}let t=h.run({value:c[e],issues:[]},l);t instanceof Promise?d.push(t.then(t=>tl(t,u,e))):tl(t,u,e)}return(p.length&&u.issues.push({code:"unrecognized_keys",keys:p,input:c,inst:e}),d.length)?Promise.all(d).then(()=>u):u}});function tp(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>eH(e,n,en())))}),t}var tf=ee("$ZodUnion",(e,t)=>{ti.init(e,t),ey(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ey(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ey(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ey(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>em(e.source)).join("|")})$`)}}),e._zod.parse=(r,n)=>{let i=!1,s=[];for(let e of t.options){let t=e._zod.run({value:r.value,issues:[]},n);if(t instanceof Promise)s.push(t),i=!0;else{if(0===t.issues.length)return t;s.push(t)}}return i?Promise.all(s).then(t=>tp(t,r,e,n)):tp(s,r,e,n)}}),th=ee("$ZodIntersection",(e,t)=>{ti.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),s=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([t,r])=>tm(e,t,r)):tm(e,i,s)}});function tm(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),eY(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(eA(t)&&eA(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};s[n]=i.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}var tg=ee("$ZodEnum",(e,t)=>{ti.init(e,t);let r=ec(t.entries);e._zod.values=new Set(r),e._zod.pattern=RegExp(`^(${r.filter(e=>eC.has(typeof e)).map(e=>"string"==typeof e?eP(e):e.toString()).join("|")})$`),e._zod.parse=(t,n)=>{let i=t.value;return e._zod.values.has(i)||t.issues.push({code:"invalid_value",values:r,input:i,inst:e}),t}}),ty=ee("$ZodTransform",(e,t)=>{ti.init(e,t),e._zod.parse=(e,r)=>{let n=t.transform(e.value,e);if(r.async)return(n instanceof Promise?n:Promise.resolve(n)).then(t=>(e.value=t,e));if(n instanceof Promise)throw new et;return e.value=n,e}}),t_=ee("$ZodOptional",(e,t)=>{ti.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ey(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ey(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${em(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,r):void 0===e.value?e:t.innerType._zod.run(e,r)}),tb=ee("$ZodNullable",(e,t)=>{ti.init(e,t),ey(e._zod,"optin",()=>t.innerType._zod.optin),ey(e._zod,"optout",()=>t.innerType._zod.optout),ey(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${em(e.source)}|null)$`):void 0}),ey(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),tv=ee("$ZodDefault",(e,t)=>{ti.init(e,t),e._zod.optin="optional",ey(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>tE(e,t)):tE(n,t)}});function tE(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}var tS=ee("$ZodPrefault",(e,t)=>{ti.init(e,t),e._zod.optin="optional",ey(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),tw=ee("$ZodNonOptional",(e,t)=>{ti.init(e,t),ey(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>tR(t,e)):tR(i,e)}});function tR(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var tO=ee("$ZodCatch",(e,t)=>{ti.init(e,t),e._zod.optin="optional",ey(e._zod,"optout",()=>t.innerType._zod.optout),ey(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>eH(e,r,en()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>eH(e,r,en()))},input:e.value}),e.issues=[]),e)}}),tA=ee("$ZodPipe",(e,t)=>{ti.init(e,t),ey(e._zod,"values",()=>t.in._zod.values),ey(e._zod,"optin",()=>t.in._zod.optin),ey(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(e,r)=>{let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>tT(e,t,r)):tT(n,t,r)}});function tT(e,t,r){return eY(e)?e:t.out._zod.run({value:e.value,issues:e.issues},r)}var tI=ee("$ZodReadonly",(e,t)=>{ti.init(e,t),ey(e._zod,"propValues",()=>t.innerType._zod.propValues),ey(e._zod,"values",()=>t.innerType._zod.values),ey(e._zod,"optin",()=>t.innerType._zod.optin),ey(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(tC):tC(n)}});function tC(e){return e.value=Object.freeze(e.value),e}var tN=ee("$ZodCustom",(e,t)=>{e5.init(e,t),ti.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>tP(t,r,n,e));tP(i,r,n,e)}});function tP(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(eQ(e))}}Symbol("ZodOutput"),Symbol("ZodInput");var tx=new class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};return delete r.id,{...r,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function tD(e,t){return new e7({check:"min_length",...eD(t),minimum:e})}var tk=(e,t)=>{e1.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>(function(e,t){let r=t||function(e){return e.message},n={_errors:[]},i=e=>{for(let t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>i({issues:e}));else if("invalid_key"===t.code)i({issues:t.issues});else if("invalid_element"===t.code)i({issues:t.issues});else if(0===t.path.length)n._errors.push(r(t));else{let e=n,i=0;for(;i<t.path.length;){let n=t.path[i];i===t.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(r(t))):e[n]=e[n]||{_errors:[]},e=e[n],i++}}};return i(e),n})(e,t)},flatten:{value:t=>(function(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}})(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})};ee("ZodError",tk);var tL=ee("ZodError",tk,{Parent:Error}),tM=(e,t,r,n)=>{let i=r?Object.assign(r,{async:!1}):{async:!1},s=e._zod.run({value:t,issues:[]},i);if(s instanceof Promise)throw new et;if(s.issues.length){let e=new(n?.Err??tL)(s.issues.map(e=>eH(e,i,en())));throw ew(e,n?.callee),e}return s.value},t$=async(e,t,r,n)=>{let i=r?Object.assign(r,{async:!0}):{async:!0},s=e._zod.run({value:t,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){let e=new(n?.Err??tL)(s.issues.map(e=>eH(e,i,en())));throw ew(e,n?.callee),e}return s.value},tU=e2(tL),tj=e3(tL),tB=ee("ZodType",(e,t)=>(ti.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>ex(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>tM(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>tU(e,t,r),e.parseAsync=async(t,r)=>t$(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>tj(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return new t5({type:"custom",check:"custom",fn:e,...eD(t)})}(t,r)),e.superRefine=t=>e.check(function(e){let t=function(e){let t=new e5({check:"custom"});return t._zod.check=e,t}(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(ei.issue(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(ei.issue(e)))},e(r.value,r)));return t}(t)),e.overwrite=t=>e.check(new tt({check:"overwrite",tx:t})),e.optional=()=>tQ(e),e.nullable=()=>tJ(e),e.nullish=()=>tQ(tJ(e)),e.nonoptional=t=>{var r,n;return r=e,n=t,new t4({type:"nonoptional",innerType:r,...ei.normalizeParams(n)})},e.array=()=>(function(e,t){return new tF({type:"array",element:e,...eD(void 0)})})(e),e.or=t=>new tV({type:"union",options:[e,t],...ei.normalizeParams(void 0)}),e.and=t=>{var r;return r=e,new tG({type:"intersection",left:r,right:t})},e.transform=t=>t3(e,new tZ({type:"transform",transform:t})),e.default=t=>(function(e,t){return new t0({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.prefault=t=>(function(e,t){return new t1({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():t}})})(e,t),e.catch=t=>(function(e,t){return new t2({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})})(e,t),e.pipe=t=>t3(e,t),e.readonly=()=>new t8({type:"readonly",innerType:e}),e.describe=t=>{let r=e.clone();return tx.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>tx.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return tx.get(e);let r=e.clone();return tx.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),tz=ee("ZodUnknown",(e,t)=>{ts.init(e,t),tB.init(e,t)});function tq(){return new tz({type:"unknown"})}var tK=ee("ZodNever",(e,t)=>{ta.init(e,t),tB.init(e,t)}),tF=ee("ZodArray",(e,t)=>{tu.init(e,t),tB.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(tD(t,r)),e.nonempty=t=>e.check(tD(1,t)),e.max=(t,r)=>e.check(new e9({check:"max_length",...eD(r),maximum:t})),e.length=(t,r)=>e.check(new te({check:"length_equals",...eD(r),length:t})),e.unwrap=()=>e.element}),tY=ee("ZodObject",(e,t)=>{td.init(e,t),tB.init(e,t),ei.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>(function(e,t){return new tH({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...ei.normalizeParams(void 0)})})(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:tq()}),e.loose=()=>e.clone({...e._zod.def,catchall:tq()}),e.strict=()=>e.clone({...e._zod.def,catchall:new tK({type:"never",...eD(void 0)})}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>ei.extend(e,t),e.merge=t=>ei.merge(e,t),e.pick=t=>ei.pick(e,t),e.omit=t=>ei.omit(e,t),e.partial=(...t)=>ei.partial(tW,e,t[0]),e.required=(...t)=>ei.required(t4,e,t[0])}),tV=ee("ZodUnion",(e,t)=>{tf.init(e,t),tB.init(e,t),e.options=t.options}),tG=ee("ZodIntersection",(e,t)=>{th.init(e,t),tB.init(e,t)}),tH=ee("ZodEnum",(e,t)=>{tg.init(e,t),tB.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new tH({...t,checks:[],...ei.normalizeParams(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new tH({...t,checks:[],...ei.normalizeParams(n),entries:i})}}),tZ=ee("ZodTransform",(e,t)=>{ty.init(e,t),tB.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=n=>{"string"==typeof n?r.issues.push(ei.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),n.continue??(n.continue=!0),r.issues.push(ei.issue(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}}),tW=ee("ZodOptional",(e,t)=>{t_.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tQ(e){return new tW({type:"optional",innerType:e})}var tX=ee("ZodNullable",(e,t)=>{tb.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tJ(e){return new tX({type:"nullable",innerType:e})}var t0=ee("ZodDefault",(e,t)=>{tv.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}),t1=ee("ZodPrefault",(e,t)=>{tS.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType}),t4=ee("ZodNonOptional",(e,t)=>{tw.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType}),t2=ee("ZodCatch",(e,t)=>{tO.init(e,t),tB.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}),t6=ee("ZodPipe",(e,t)=>{tA.init(e,t),tB.init(e,t),e.in=t.in,e.out=t.out});function t3(e,t){return new t6({type:"pipe",in:e,out:t})}var t8=ee("ZodReadonly",(e,t)=>{tI.init(e,t),tB.init(e,t)}),t5=ee("ZodCustom",(e,t)=>{tN.init(e,t),tB.init(e,t)}),t9={};function t7(e){switch(e.constructor.name){case"ZodString":default:return"string";case"ZodNumber":return"number";case"ZodBoolean":return"boolean";case"ZodObject":return"object";case"ZodArray":return"array"}}function re(e){let t=[];return e.metadata?.openapi?.parameters?t.push(...e.metadata.openapi.parameters):e.query instanceof tY&&Object.entries(e.query.shape).forEach(([e,r])=>{r instanceof tY&&t.push({name:e,in:"query",schema:{type:t7(r),..."minLength"in r&&r.minLength?{minLength:r.minLength}:{},description:r.description}})}),t}function rt(e){return{400:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Bad Request. Usually due to missing parameters, or invalid parameters."},401:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}},required:["message"]}}},description:"Unauthorized. Due to missing or invalid authentication."},403:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Forbidden. You do not have permission to access this resource or to perform this action."},404:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Not Found. The requested resource was not found."},429:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Too Many Requests. You have exceeded the rate limit. Try again later."},500:{content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}},description:"Internal Server Error. This is a problem with the server that you cannot fix."},...e}}async function rr(e,t){return Object.entries(e).forEach(([e,t])=>{let r=t.options;if(!r.metadata?.SERVER_ONLY&&("GET"===r.method&&(t9[t.path]={get:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:re(r),responses:rt(r.metadata?.openapi?.responses)}}),"POST"===r.method)){let e=function(e){if(e.metadata?.openapi?.requestBody)return e.metadata.openapi.requestBody;if(e.body&&(e.body instanceof tY||e.body instanceof tW)){let t=e.body.shape;if(!t)return;let r={},n=[];return Object.entries(t).forEach(([e,t])=>{t instanceof tY&&(r[e]={type:t7(t),description:t.description},t instanceof tW||n.push(e))}),{required:!(e.body instanceof tW)&&!!e.body,content:{"application/json":{schema:{type:"object",properties:r,required:n}}}}}}(r);t9[t.path]={post:{tags:["Default",...r.metadata?.openapi?.tags||[]],description:r.metadata?.openapi?.description,operationId:r.metadata?.openapi?.operationId,security:[{bearerAuth:[]}],parameters:re(r),...e?{requestBody:e}:{requestBody:{content:{"application/json":{schema:{type:"object",properties:{}}}}}},responses:rt(r.metadata?.openapi?.responses)}}}}),{openapi:"3.1.1",info:{title:"Better Auth",description:"API Reference for your Better Auth Instance",version:"1.1.0"},components:{schemas:{}},security:[{apiKeyCookie:[]}],servers:[{url:t?.url}],tags:[{name:"Default",description:"Default endpoints that are included with Better Auth by default. These endpoints are not part of any plugin."}],paths:t9}}var rn=(e,t)=>{if(!t?.openapi?.disabled){let r={path:"/api/reference",...t?.openapi};e.openapi=J(r.path,{method:"GET"},async t=>new Response(((e,t)=>`<!doctype html>
<html>
  <head>
    <title>Scalar API Reference</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <script
      id="api-reference"
      type="application/json">
    ${JSON.stringify(e)}
    </script>
	 <script>
      var configuration = {
	  	favicon: ${t?.logo?`data:image/svg+xml;utf8,${encodeURIComponent(t.logo)}`:void 0} ,
	   	theme: ${t?.theme||"saturn"},
        metaData: {
			title: ${t?.title||"Open API Reference"},
			description: ${t?.description||"Better Call Open API"},
		}
      }
      document.getElementById('api-reference').dataset.configuration =
        JSON.stringify(configuration)
    </script>
	  <script src="https://cdn.jsdelivr.net/npm/@scalar/api-reference"></script>
  </body>
</html>`)(await rr(e),r.scalar),{headers:{"Content-Type":"text/html"}}))}let r=P(),n=P();for(let t of Object.values(e))if(!(!t.options||t.options?.metadata?.SERVER_ONLY))for(let e of Array.isArray(t.options?.method)?t.options.method:[t.options?.method])k(r,e,t.path,t);if(t?.routerMiddleware?.length)for(let{path:e,middleware:r}of t.routerMiddleware)k(n,"*",e,r);let i=async e=>{let i=new URL(e.url),s=t?.basePath?i.pathname.split(t.basePath).reduce((e,r,n)=>(0!==n&&(n>1?e.push(`${t.basePath}${r}`):e.push(r)),e),[]).join(""):i.pathname;if(!s?.length)return new Response(null,{status:404,statusText:"Not Found"});let a=function(e,t="",r,n){"/"===r[r.length-1]&&(r=r.slice(0,-1));let i=e.static[r];if(i&&i.methods){let e=i.methods[t]||i.methods[""];if(void 0!==e)return e[0]}let s=x(r),a=function e(t,r,n,i,s){if(s===i.length){if(r.methods){let e=r.methods[n]||r.methods[""];if(e)return e}if(r.param&&r.param.methods){let e=r.param.methods[n]||r.param.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[n]||r.wildcard.methods[""];if(e){let t=e[0].paramsMap;if(t?.[t?.length-1]?.[2])return e}}return}let a=i[s];if(r.static){let o=r.static[a];if(o){let r=e(t,o,n,i,s+1);if(r)return r}}if(r.param){let a=e(t,r.param,n,i,s+1);if(a)return a}if(r.wildcard&&r.wildcard.methods)return r.wildcard.methods[n]||r.wildcard.methods[""]}(e,e.root,t,s,0)?.[0];if(void 0!==a)return{data:a.data,params:a.paramsMap?D(s,a.paramsMap):void 0}}(r,e.method,s);if(!a?.data)return new Response(null,{status:404,statusText:"Not Found"});let o={};i.searchParams.forEach((e,t)=>{t in o?Array.isArray(o[t])?o[t].push(e):o[t]=[o[t],e]:o[t]=e});let u=a.data,l={path:s,method:e.method,headers:e.headers,params:a.params?JSON.parse(JSON.stringify(a.params)):{},request:e,body:u.options.disableBody?void 0:await U(u.options.cloneRequest?e.clone():e),query:o,_flag:"router",asResponse:!0,context:t?.routerContext};try{let e=function(e,t="",r,n){"/"===r[r.length-1]&&(r=r.slice(0,-1));let i=x(r);return(function e(t,r,n,i,s,a=[]){let o=i[s];if(r.wildcard&&r.wildcard.methods){let e=r.wildcard.methods[n]||r.wildcard.methods[""];e&&a.push(...e)}if(r.param&&(e(t,r.param,n,i,s+1,a),s===i.length&&r.param.methods)){let e=r.param.methods[n]||r.param.methods[""];e&&a.push(...e)}let u=r.static?.[o];if(u&&e(t,u,n,i,s+1,a),s===i.length&&r.methods){let e=r.methods[n]||r.methods[""];e&&a.push(...e)}return a})(e,e.root,t,i,0).map(e=>({data:e.data,params:e.paramsMap?D(i,e.paramsMap):void 0}))}(n,"*",s);if(e?.length)for(let{data:t,params:r}of e){let e=await t({...l,params:r,asResponse:!1});if(e instanceof Response)return e}return await u(l)}catch(e){if(t?.onError)try{let r=await t.onError(e);if(r instanceof Response)return B(r)}catch(e){if(j(e))return B(e);throw e}if(t?.throwError)throw e;if(j(e))return B(e);return console.error("# SERVER_ERROR: ",e),new Response(null,{status:500,statusText:"Internal Server Error"})}};return{handler:async e=>{let r=await t?.onRequest?.(e);if(r instanceof Response)return r;let n=r instanceof Request?r:e,s=await i(n),a=await t?.onResponse?.(s);return a instanceof Response?a:s},endpoints:e}};e.s(["hex",()=>ri],84331);let ri={encode:e=>{if("string"==typeof e&&(e=new TextEncoder().encode(e)),0===e.byteLength)return"";let t=new Uint8Array(e),r="";for(let e of t)r+=e.toString(16).padStart(2,"0");return r},decode:e=>{if(!e)return"";if("string"==typeof e){if(e.length%2!=0||!RegExp("^[0123456789abcdef]+$").test(e))throw Error("Invalid hexadecimal string");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=parseInt(e.slice(r,r+2),16);return new TextDecoder().decode(t)}return new TextDecoder().decode(e)}};function rs(e){try{if("string"!=typeof e)return e;return JSON.parse(e,function(e,t){if("string"==typeof t&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?Z$/.test(t)){let e=new Date(t);if(!isNaN(e.getTime()))return e}return t})}catch(e){return v.error("Error parsing JSON",{error:e}),null}}function ra(e){switch(e){case"a-z":return"abcdefghijklmnopqrstuvwxyz";case"A-Z":return"ABCDEFGHIJKLMNOPQRSTUVWXYZ";case"0-9":return"0123456789";case"-_":return"-_";default:throw Error(`Unsupported alphabet: ${e}`)}}function ro(...e){let t=e.map(ra).join("");if(0===t.length)throw Error("No valid characters provided for random string generation.");let r=t.length;return(e,...n)=>{let i;if(e<=0)throw Error("Length must be a positive integer.");let s=t,a=r;n.length>0&&(a=(s=n.map(ra).join("")).length);let o=Math.floor(256/a)*a,u=new Uint8Array(2*e),l=u.length,c="",d=l;for(;c.length<e;)d>=l&&(crypto.getRandomValues(u),d=0),(i=u[d++])<o&&(c+=s[i%a]);return c}}e.s(["s",()=>rs],51386),e.s(["createRandomStringGenerator",()=>ro],56685),e.s(["g",()=>ru],65965);let ru=e=>ro("a-z","A-Z","0-9")(e||32);function rl(e,t){return{digest:async r=>{let n=new TextEncoder,i="string"==typeof r?n.encode(r):r,s=await C().digest(e,i);return"hex"===t?Array.from(new Uint8Array(s)).map(e=>e.toString(16).padStart(2,"0")).join(""):"base64"===t||"base64url"===t||"base64urlnopad"===t?t.includes("url")?O.encode(s,{padding:"base64urlnopad"!==t}):R.encode(s):s}}}e.s(["createHash",()=>rl],21176),e.s(["g",()=>rc],41903);let rc=ro("a-z","0-9","A-Z","-_");e.s([],2316),e.s(["g",()=>rd],23348);let rd=e=>{let t=(e.plugins??[]).reduce((e,t)=>{let r=t.schema;if(!r)return e;for(let[t,n]of Object.entries(r))e[t]={fields:{...e[t]?.fields,...n.fields},modelName:n.modelName||t};return e},{}),r=e.rateLimit?.storage==="database",n={rateLimit:{modelName:e.rateLimit?.modelName||"rateLimit",fields:{key:{type:"string",fieldName:e.rateLimit?.fields?.key||"key"},count:{type:"number",fieldName:e.rateLimit?.fields?.count||"count"},lastRequest:{type:"number",bigint:!0,fieldName:e.rateLimit?.fields?.lastRequest||"lastRequest"}}}},{user:i,session:s,account:a,...o}=t,u={session:{modelName:e.session?.modelName||"session",fields:{expiresAt:{type:"date",required:!0,fieldName:e.session?.fields?.expiresAt||"expiresAt"},token:{type:"string",required:!0,fieldName:e.session?.fields?.token||"token",unique:!0},createdAt:{type:"date",required:!0,fieldName:e.session?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.session?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},ipAddress:{type:"string",required:!1,fieldName:e.session?.fields?.ipAddress||"ipAddress"},userAgent:{type:"string",required:!1,fieldName:e.session?.fields?.userAgent||"userAgent"},userId:{type:"string",fieldName:e.session?.fields?.userId||"userId",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0},...s?.fields,...e.session?.additionalFields},order:2}};return{user:{modelName:e.user?.modelName||"user",fields:{name:{type:"string",required:!0,fieldName:e.user?.fields?.name||"name",sortable:!0},email:{type:"string",unique:!0,required:!0,fieldName:e.user?.fields?.email||"email",sortable:!0},emailVerified:{type:"boolean",defaultValue:!1,required:!0,fieldName:e.user?.fields?.emailVerified||"emailVerified",input:!1},image:{type:"string",required:!1,fieldName:e.user?.fields?.image||"image"},createdAt:{type:"date",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",defaultValue:()=>new Date,onUpdate:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||"updatedAt"},...i?.fields,...e.user?.additionalFields},order:1},...!e.secondaryStorage||e.session?.storeSessionInDatabase?u:{},account:{modelName:e.account?.modelName||"account",fields:{accountId:{type:"string",required:!0,fieldName:e.account?.fields?.accountId||"accountId"},providerId:{type:"string",required:!0,fieldName:e.account?.fields?.providerId||"providerId"},userId:{type:"string",references:{model:e.user?.modelName||"user",field:"id",onDelete:"cascade"},required:!0,fieldName:e.account?.fields?.userId||"userId"},accessToken:{type:"string",required:!1,fieldName:e.account?.fields?.accessToken||"accessToken"},refreshToken:{type:"string",required:!1,fieldName:e.account?.fields?.refreshToken||"refreshToken"},idToken:{type:"string",required:!1,fieldName:e.account?.fields?.idToken||"idToken"},accessTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.accessTokenExpiresAt||"accessTokenExpiresAt"},refreshTokenExpiresAt:{type:"date",required:!1,fieldName:e.account?.fields?.refreshTokenExpiresAt||"refreshTokenExpiresAt"},scope:{type:"string",required:!1,fieldName:e.account?.fields?.scope||"scope"},password:{type:"string",required:!1,fieldName:e.account?.fields?.password||"password"},createdAt:{type:"date",required:!0,fieldName:e.account?.fields?.createdAt||"createdAt",defaultValue:()=>new Date},updatedAt:{type:"date",required:!0,fieldName:e.account?.fields?.updatedAt||"updatedAt",onUpdate:()=>new Date},...a?.fields,...e.account?.additionalFields},order:3},verification:{modelName:e.verification?.modelName||"verification",fields:{identifier:{type:"string",required:!0,fieldName:e.verification?.fields?.identifier||"identifier"},value:{type:"string",required:!0,fieldName:e.verification?.fields?.value||"value"},expiresAt:{type:"date",required:!0,fieldName:e.verification?.fields?.expiresAt||"expiresAt"},createdAt:{type:"date",required:!0,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||"createdAt"},updatedAt:{type:"date",required:!0,defaultValue:()=>new Date,onUpdate:()=>new Date,fieldName:e.verification?.fields?.updatedAt||"updatedAt"}},order:4},...o,...r?n:{}}};e.s(["c",()=>rh],36964);let rp=[],rf=-1,rh=({adapter:e,config:t})=>r=>{let n=Math.random().toString(36).substring(2,15),i={...t,supportsBooleans:t.supportsBooleans??!0,supportsDates:t.supportsDates??!0,supportsJSON:t.supportsJSON??!1,adapterName:t.adapterName??t.adapterId,supportsNumericIds:t.supportsNumericIds??!0,transaction:t.transaction??!1,disableTransformInput:t.disableTransformInput??!1,disableTransformOutput:t.disableTransformOutput??!1};if(r.advanced?.database?.useNumberId===!0&&!1===i.supportsNumericIds)throw Error(`[${i.adapterName}] Your database or database adapter does not support numeric ids. Please disable "useNumberId" in your config.`);let s=rd(r),a=({field:e,model:t})=>{if("id"===e||"_id"===e)return"id";let r=o(t),n=s[r]?.fields[e];if(!n){let t=Object.entries(s[r].fields).find(([t,r])=>r.fieldName===e);t&&(n=t[1],e=t[0])}if(!n)throw c(`Field ${e} not found in model ${r}`),c("Schema:",s),Error(`Field ${e} not found in model ${r}`);return e},o=e=>{if(i.usePlural&&"s"===e.charAt(e.length-1)){let t=e.slice(0,-1),r=s[t]?t:void 0;if(r||(r=Object.entries(s).find(([e,r])=>r.modelName===t)?.[0]),r)return r}let t=s[e]?e:void 0;if(t||(t=Object.entries(s).find(([t,r])=>r.modelName===e)?.[0]),!t)throw c(`Model "${e}" not found in schema`),c("Schema:",s),Error(`Model "${e}" not found in schema`);return t},u=e=>{let t=o(e),r=i&&i.usePlural;return s&&s[t]&&s[t].modelName!==e?r?`${s[t].modelName}s`:s[t].modelName:r?`${e}s`:e};function l({model:e,field:t}){let r=o(e),n=a({model:r,field:t});return s[r]?.fields[n]?.fieldName||n}let c=(...e)=>{if(!0===i.debugLogs||"object"==typeof i.debugLogs){if("object"==typeof i.debugLogs&&"isRunningAdapterTests"in i.debugLogs){i.debugLogs.isRunningAdapterTests&&(e.shift(),rp.push({instance:n,args:e}));return}if("object"!=typeof i.debugLogs||!i.debugLogs.logCondition||i.debugLogs.logCondition?.())if("object"==typeof e[0]&&"method"in e[0]){let t=e.shift().method;if("object"==typeof i.debugLogs){if("create"===t&&!i.debugLogs.create)return;else if("update"===t&&!i.debugLogs.update)return;else if("updateMany"===t&&!i.debugLogs.updateMany)return;else if("findOne"===t&&!i.debugLogs.findOne)return;else if("findMany"===t&&!i.debugLogs.findMany)return;else if("delete"===t&&!i.debugLogs.delete)return;else if("deleteMany"===t&&!i.debugLogs.deleteMany)return;else if("count"===t&&!i.debugLogs.count)return}v.info(`[${i.adapterName}]`,...e)}else v.info(`[${i.adapterName}]`,...e)}},d=({customModelName:e,forceAllowId:t})=>{let n=!i.disableIdGeneration&&!r.advanced?.database?.useNumberId&&!t,s=o(e??"id");return{type:r.advanced?.database?.useNumberId?"number":"string",required:!!n,...n?{defaultValue(){if(i.disableIdGeneration)return;let e=r.advanced?.database?.useNumberId,t=r.advanced?.database?.generateId;if(r.advanced?.generateId!==void 0&&(v.warn("Your Better Auth config includes advanced.generateId which is deprecated. Please use advanced.database.generateId instead. This will be removed in future releases."),t=r.advanced?.generateId),!1!==t&&!e)return t?t({model:s}):i.customIdGenerator?i.customIdGenerator({model:s}):ru()}}:{}}},p=({model:e,field:t})=>{let r=o(e),n=a({field:t,model:r}),i=s[r].fields;return i.id=d({customModelName:r}),i[n]},f=async(e,t,n,a)=>{let o={},u=s[t].fields,l=i.mapKeysTransformInput??{};for(let c in i.disableIdGeneration||r.advanced?.database?.useNumberId||(u.id=d({customModelName:t,forceAllowId:a&&"id"in e})),u){let a=e[c],d=u[c],p=l[c]||u[c].fieldName||c;if(void 0===a&&(void 0===d.defaultValue&&!d.transform?.input&&!("update"===n&&d.onUpdate)||"update"===n&&!d.onUpdate))continue;let f=function(e,t,r){if("update"===r)return void 0===e&&void 0!==t.onUpdate?"function"==typeof t.onUpdate?t.onUpdate():t.onUpdate:e;return null==e&&void 0!==t.defaultValue?"function"==typeof t.defaultValue?t.defaultValue():t.defaultValue:e}(a,d,n);d.transform?.input&&(f=await d.transform.input(f)),d.references?.field==="id"&&r.advanced?.database?.useNumberId?f=Array.isArray(f)?f.map(e=>null!==e?Number(e):null):null!==f?Number(f):null:!1===i.supportsJSON&&"object"==typeof f&&"json"===d.type?f=JSON.stringify(f):!1===i.supportsDates&&f instanceof Date&&"date"===d.type?f=f.toISOString():!1===i.supportsBooleans&&"boolean"==typeof f&&(f=+!!f),i.customTransformInput&&(f=i.customTransformInput({data:f,action:n,field:p,fieldAttributes:d,model:t,schema:s,options:r})),void 0!==f&&(o[p]=f)}return o},h=async(e,t,n=[])=>{if(!e)return null;let a=i.mapKeysTransformOutput??{},o={},u=s[t].fields;for(let l in u[Object.entries(a).find(([e,t])=>"id"===t)?.[0]??"id"]={type:r.advanced?.database?.useNumberId?"number":"string"},u){if(n.length&&!n.includes(l))continue;let c=u[l];if(c){let u=c.fieldName||l,d=e[Object.entries(a).find(([e,t])=>t===u)?.[0]||u];c.transform?.output&&(d=await c.transform.output(d));let p=a[l]||l;"id"===u||c.references?.field==="id"?null!=d&&(d=String(d)):!1===i.supportsJSON&&"string"==typeof d&&"json"===c.type?d=rs(d):!1===i.supportsDates&&"string"==typeof d&&"date"===c.type?d=new Date(d):!1===i.supportsBooleans&&"number"==typeof d&&"boolean"===c.type&&(d=1===d),i.customTransformOutput&&(d=i.customTransformOutput({data:d,field:p,fieldAttributes:c,select:n,model:t,schema:s,options:r})),o[p]=d}}return o},m=({model:e,where:t})=>{if(!t)return;let n=i.mapKeysTransformInput??{};return t.map(t=>{let{field:i,value:s,operator:u="eq",connector:c="AND"}=t;if("in"===u&&!Array.isArray(s))throw Error("Value must be an array");let d=o(e),f=a({field:i,model:e}),h=n[f]||l({field:f,model:d}),m=p({field:f,model:d});return("id"===f||m.references?.field==="id")&&r.advanced?.database?.useNumberId?Array.isArray(s)?{operator:u,connector:c,field:h,value:s.map(Number)}:{operator:u,connector:c,field:h,value:Number(s)}:{operator:u,connector:c,field:h,value:s}})},g=e({options:r,schema:s,debugLog:c,getFieldName:l,getModelName:u,getDefaultModelName:o,getDefaultFieldName:a,getFieldAttributes:p,transformInput:f,transformOutput:h,transformWhereClause:m}),y=null,_={transaction:async e=>{if(!y)if(i.transaction)v.debug(`[${i.adapterName}] - Using provided transaction implementation.`),y=i.transaction;else"object"==typeof i.debugLogs&&"isRunningAdapterTests"in i.debugLogs&&i.debugLogs.isRunningAdapterTests||v.warn(`[${i.adapterName}] - Transactions are not supported. Executing operations sequentially.`),y=e=>e(_);return y(e)},create:async({data:e,model:t,select:r,forceAllowId:n=!1})=>{let s=++rf,a=u(t);if(t=o(t),"id"in e&&!n){v.warn(`[${i.adapterName}] - You are trying to create a record with an id. This is not allowed as we handle id generation for you, unless you pass in the \`forceAllowId\` parameter. The id will be ignored.`);let t=Error();console.log(t.stack?.split("\n").filter((e,t)=>1!==t).join("\n").replace("Error:","Create method with `id` being called at:")),e.id=void 0}c({method:"create"},`${rm(s)} ${rg(1,4)}`,`${ry("create")} ${r_("Unsafe Input")}:`,{model:a,data:e});let l=e;i.disableTransformInput||(l=await f(e,t,"create",n)),c({method:"create"},`${rm(s)} ${rg(2,4)}`,`${ry("create")} ${r_("Parsed Input")}:`,{model:a,data:l});let d=await g.create({data:l,model:a});c({method:"create"},`${rm(s)} ${rg(3,4)}`,`${ry("create")} ${r_("DB Result")}:`,{model:a,res:d});let p=d;return i.disableTransformOutput||(p=await h(d,t,r)),c({method:"create"},`${rm(s)} ${rg(4,4)}`,`${ry("create")} ${r_("Parsed Result")}:`,{model:a,data:p}),p},update:async({model:e,where:t,update:r})=>{let n=++rf,s=u(e=o(e)),a=m({model:e,where:t});c({method:"update"},`${rm(n)} ${rg(1,4)}`,`${ry("update")} ${r_("Unsafe Input")}:`,{model:s,data:r});let l=r;i.disableTransformInput||(l=await f(r,e,"update")),c({method:"update"},`${rm(n)} ${rg(2,4)}`,`${ry("update")} ${r_("Parsed Input")}:`,{model:s,data:l});let d=await g.update({model:s,where:a,update:l});c({method:"update"},`${rm(n)} ${rg(3,4)}`,`${ry("update")} ${r_("DB Result")}:`,{model:s,data:d});let p=d;return i.disableTransformOutput||(p=await h(d,e)),c({method:"update"},`${rm(n)} ${rg(4,4)}`,`${ry("update")} ${r_("Parsed Result")}:`,{model:s,data:p}),p},updateMany:async({model:e,where:t,update:r})=>{let n=++rf,s=u(e),a=m({model:e,where:t});e=o(e),c({method:"updateMany"},`${rm(n)} ${rg(1,4)}`,`${ry("updateMany")} ${r_("Unsafe Input")}:`,{model:s,data:r});let l=r;i.disableTransformInput||(l=await f(r,e,"update")),c({method:"updateMany"},`${rm(n)} ${rg(2,4)}`,`${ry("updateMany")} ${r_("Parsed Input")}:`,{model:s,data:l});let d=await g.updateMany({model:s,where:a,update:l});return c({method:"updateMany"},`${rm(n)} ${rg(3,4)}`,`${ry("updateMany")} ${r_("DB Result")}:`,{model:s,data:d}),c({method:"updateMany"},`${rm(n)} ${rg(4,4)}`,`${ry("updateMany")} ${r_("Parsed Result")}:`,{model:s,data:d}),d},findOne:async({model:e,where:t,select:r})=>{let n=++rf,s=u(e),a=m({model:e,where:t});e=o(e),c({method:"findOne"},`${rm(n)} ${rg(1,3)}`,`${ry("findOne")}:`,{model:s,where:a,select:r});let l=await g.findOne({model:s,where:a,select:r});c({method:"findOne"},`${rm(n)} ${rg(2,3)}`,`${ry("findOne")} ${r_("DB Result")}:`,{model:s,data:l});let d=l;return i.disableTransformOutput||(d=await h(l,e,r)),c({method:"findOne"},`${rm(n)} ${rg(3,3)}`,`${ry("findOne")} ${r_("Parsed Result")}:`,{model:s,data:d}),d},findMany:async({model:e,where:t,limit:n,sortBy:s,offset:a})=>{let l=++rf,d=n??r.advanced?.database?.defaultFindManyLimit??100,p=u(e),f=m({model:e,where:t});e=o(e),c({method:"findMany"},`${rm(l)} ${rg(1,3)}`,`${ry("findMany")}:`,{model:p,where:f,limit:d,sortBy:s,offset:a});let y=await g.findMany({model:p,where:f,limit:d,sortBy:s,offset:a});c({method:"findMany"},`${rm(l)} ${rg(2,3)}`,`${ry("findMany")} ${r_("DB Result")}:`,{model:p,data:y});let _=y;return i.disableTransformOutput||(_=await Promise.all(y.map(async t=>await h(t,e)))),c({method:"findMany"},`${rm(l)} ${rg(3,3)}`,`${ry("findMany")} ${r_("Parsed Result")}:`,{model:p,data:_}),_},delete:async({model:e,where:t})=>{let r=++rf,n=u(e),i=m({model:e,where:t});e=o(e),c({method:"delete"},`${rm(r)} ${rg(1,2)}`,`${ry("delete")}:`,{model:n,where:i}),await g.delete({model:n,where:i}),c({method:"delete"},`${rm(r)} ${rg(2,2)}`,`${ry("delete")} ${r_("DB Result")}:`,{model:n})},deleteMany:async({model:e,where:t})=>{let r=++rf,n=u(e),i=m({model:e,where:t});e=o(e),c({method:"deleteMany"},`${rm(r)} ${rg(1,2)}`,`${ry("deleteMany")} ${r_("DeleteMany")}:`,{model:n,where:i});let s=await g.deleteMany({model:n,where:i});return c({method:"deleteMany"},`${rm(r)} ${rg(2,2)}`,`${ry("deleteMany")} ${r_("DB Result")}:`,{model:n,data:s}),s},count:async({model:e,where:t})=>{let r=++rf,n=u(e),i=m({model:e,where:t});e=o(e),c({method:"count"},`${rm(r)} ${rg(1,2)}`,`${ry("count")}:`,{model:n,where:i});let s=await g.count({model:n,where:i});return c({method:"count"},`${rm(r)} ${rg(2,2)}`,`${ry("count")}:`,{model:n,data:s}),s},createSchema:g.createSchema?async(e,t)=>{let n=rd(r);return r.secondaryStorage&&!r.session?.storeSessionInDatabase&&delete n.session,r.rateLimit&&"database"===r.rateLimit.storage&&(void 0===r.rateLimit.enabled||!0===r.rateLimit.enabled)&&(n.ratelimit={modelName:r.rateLimit.modelName??"ratelimit",fields:{key:{type:"string",unique:!0,required:!0,fieldName:r.rateLimit.fields?.key??"key"},count:{type:"number",required:!0,fieldName:r.rateLimit.fields?.count??"count"},lastRequest:{type:"number",required:!0,bigint:!0,defaultValue:()=>Date.now(),fieldName:r.rateLimit.fields?.lastRequest??"lastRequest"}}}),g.createSchema({file:t,tables:n})}:void 0,options:{adapterConfig:i,...g.options??{}},id:i.adapterId,...i.debugLogs?.isRunningAdapterTests?{adapterTestDebugLogs:{resetDebugLogs(){rp=rp.filter(e=>e.instance!==n)},printDebugLogs(){let e=`\u2500`.repeat(80),t=rp.filter(e=>e.instance===n);0!==t.length&&console.log(...t.reverse().map(e=>(e.args[0]=`
${e.args[0]}`,[...e.args,"\n"])).reduce((e,t)=>[...t,...e],[`
${e}`]))}}}:{}};return _};function rm(e){return 8>h()?`#${e}`:`${m.fg.magenta}#${e}${m.reset}`}function rg(e,t){return`${m.bg.black}${m.fg.yellow}[${e}/${t}]${m.reset}`}function ry(e){return`${m.bright}${e}${m.reset}`}function r_(e){return`${m.dim}(${e})${m.reset}`}},91588,18655,26246,39859,66129,91332,53320,57308,57250,12701,26266,76372,32671,83252,14033,22224,95360,39173,23985,68985,2340,81190,4376,e=>{"use strict";let t,r,n,i,s;e.s(["createAuthorizationURL",()=>eA,"generateCodeChallenge",()=>eO,"getOAuth2Tokens",()=>eR,"refreshAccessToken",()=>eI,"validateAuthorizationCode",()=>eT],91588);var a,o=e.i(93982),u=Object.defineProperty,l=Object.defineProperties,c=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,m=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&h(e,r,t[r]);if(d)for(var r of d(t))f.call(t,r)&&h(e,r,t[r]);return e},g=(e,t)=>l(e,c(t)),y=class extends Error{constructor(e,t,r){super(t||e.toString(),{cause:r}),this.status=e,this.statusText=t,this.error=r}},_=async(e,t)=>{var r,n,i,s,a,o;let u=t||{},l={onRequest:[null==t?void 0:t.onRequest],onResponse:[null==t?void 0:t.onResponse],onSuccess:[null==t?void 0:t.onSuccess],onError:[null==t?void 0:t.onError],onRetry:[null==t?void 0:t.onRetry]};if(!t||!(null==t?void 0:t.plugins))return{url:e,options:u,hooks:l};for(let c of(null==t?void 0:t.plugins)||[]){if(c.init){let n=await (null==(r=c.init)?void 0:r.call(c,e.toString(),t));u=n.options||u,e=n.url}l.onRequest.push(null==(n=c.hooks)?void 0:n.onRequest),l.onResponse.push(null==(i=c.hooks)?void 0:i.onResponse),l.onSuccess.push(null==(s=c.hooks)?void 0:s.onSuccess),l.onError.push(null==(a=c.hooks)?void 0:a.onError),l.onRetry.push(null==(o=c.hooks)?void 0:o.onRetry)}return{url:e,options:u,hooks:l}},b=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(){return this.options.delay}},v=class{constructor(e){this.options=e}shouldAttemptRetry(e,t){return this.options.shouldRetry?Promise.resolve(e<this.options.attempts&&this.options.shouldRetry(t)):Promise.resolve(e<this.options.attempts)}getDelay(e){return Math.min(this.options.maxDelay,this.options.baseDelay*2**e)}},E=async e=>{let t={},r=async e=>"function"==typeof e?await e():e;if(null==e?void 0:e.auth){if("Bearer"===e.auth.type){let n=await r(e.auth.token);if(!n)return t;t.authorization=`Bearer ${n}`}else if("Basic"===e.auth.type){let n=r(e.auth.username),i=r(e.auth.password);if(!n||!i)return t;t.authorization=`Basic ${btoa(`${n}:${i}`)}`}else if("Custom"===e.auth.type){let n=r(e.auth.value);if(!n)return t;t.authorization=`${r(e.auth.prefix)} ${n}`}}return t},S=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function w(e){if(void 0===e)return!1;let t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}function R(e){try{return JSON.parse(e)}catch(t){return e}}async function O(e){let t=new Headers(null==e?void 0:e.headers);for(let[r,n]of Object.entries(await E(e)||{}))t.set(r,n);if(!t.has("content-type")){let r=w(null==e?void 0:e.body)?"application/json":null;r&&t.set("content-type",r)}return t}var A=class e extends Error{constructor(t,r){super(r||JSON.stringify(t,null,2)),this.issues=t,Object.setPrototypeOf(this,e.prototype)}};async function T(e,t){let r=await e["~standard"].validate(t);if(r.issues)throw new A(r.issues);return r.value}var I=["get","post","put","patch","delete"],C=async(e,t)=>{var r,n,i,s,a,o,u,l;let{hooks:c,url:d,options:p}=await _(e,t),f=function(e){if(null==e?void 0:e.customFetchImpl)return e.customFetchImpl;if("undefined"!=typeof globalThis&&"function"==typeof globalThis.fetch)return globalThis.fetch;throw Error("No fetch implementation found")}(p),h=new AbortController,E=null!=(r=p.signal)?r:h.signal,A=function(e,t){let{baseURL:r,params:n,query:i}=t||{query:{},params:{},baseURL:""},s=e.startsWith("http")?e.split("/").slice(0,3).join("/"):r||"";if(e.startsWith("@")){let t=e.toString().split("@")[1].split("/")[0];I.includes(t)&&(e=e.replace(`@${t}/`,"/"))}s.endsWith("/")||(s+="/");let[a,o]=e.replace(s,"").split("?"),u=new URLSearchParams(o);for(let[e,t]of Object.entries(i||{}))null!=t&&u.set(e,String(t));if(n)if(Array.isArray(n))for(let[e,t]of a.split("/").filter(e=>e.startsWith(":")).entries()){let r=n[e];a=a.replace(t,r)}else for(let[e,t]of Object.entries(n))a=a.replace(`:${e}`,String(t));(a=a.split("/").map(encodeURIComponent).join("/")).startsWith("/")&&(a=a.slice(1));let l=u.toString();return(l=l.length>0?`?${l}`.replace(/\+/g,"%20"):"",s.startsWith("http"))?new URL(`${a}${l}`,s):`${s}${a}${l}`}(d,p),N=function(e){if(!(null==e?void 0:e.body))return null;let t=new Headers(null==e?void 0:e.headers);if(w(e.body)&&!t.has("content-type")){for(let[t,r]of Object.entries(null==e?void 0:e.body))r instanceof Date&&(e.body[t]=r.toISOString());return JSON.stringify(e.body)}return e.body}(p),P=await O(p),x=function(e,t){var r;if(null==t?void 0:t.method)return t.method.toUpperCase();if(e.startsWith("@")){let n=null==(r=e.split("@")[1])?void 0:r.split("/")[0];return I.includes(n)?n.toUpperCase():(null==t?void 0:t.body)?"POST":"GET"}return(null==t?void 0:t.body)?"POST":"GET"}(d,p),D=g(m({},p),{url:A,headers:P,body:N,method:x,signal:E});for(let e of c.onRequest)if(e){let t=await e(D);t instanceof Object&&(D=t)}("pipeTo"in D&&"function"==typeof D.pipeTo||"function"==typeof(null==(n=null==t?void 0:t.body)?void 0:n.pipe))&&!("duplex"in D)&&(D.duplex="half");let{clearTimeout:k}=function(e,t){let r;return!(null==e?void 0:e.signal)&&(null==e?void 0:e.timeout)&&(r=setTimeout(()=>null==t?void 0:t.abort(),null==e?void 0:e.timeout)),{abortTimeout:r,clearTimeout:()=>{r&&clearTimeout(r)}}}(p,h),L=await f(D.url,D);k();let M={response:L,request:D};for(let e of c.onResponse)if(e){let r=await e(g(m({},M),{response:(null==(i=null==t?void 0:t.hookOptions)?void 0:i.cloneResponse)?L.clone():L}));r instanceof Response?L=r:r instanceof Object&&(L=r.response)}if(L.ok){if("HEAD"===D.method)return{data:"",error:null};let e=function(e){let t=e.headers.get("content-type"),r=new Set(["image/svg","application/xml","application/xhtml","application/html"]);if(!t)return"json";let n=t.split(";").shift()||"";return S.test(n)?"json":r.has(n)||n.startsWith("text/")?"text":"blob"}(L),r={data:"",response:L,request:D};if("json"===e||"text"===e){let e=await L.text(),t=null!=(s=D.jsonParser)?s:R;r.data=await t(e)}else r.data=await L[e]();for(let e of((null==D?void 0:D.output)&&D.output&&!D.disableValidation&&(r.data=await T(D.output,r.data)),c.onSuccess))e&&await e(g(m({},r),{response:(null==(a=null==t?void 0:t.hookOptions)?void 0:a.cloneResponse)?L.clone():L}));return(null==t?void 0:t.throw)?r.data:{data:r.data,error:null}}let $=null!=(o=null==t?void 0:t.jsonParser)?o:R,U=await L.text(),j=function(e){try{return JSON.parse(e),!0}catch(e){return!1}}(U),B=j?await $(U):null,z={response:L,responseText:U,request:D,error:g(m({},B),{status:L.status,statusText:L.statusText})};for(let e of c.onError)e&&await e(g(m({},z),{response:(null==(u=null==t?void 0:t.hookOptions)?void 0:u.cloneResponse)?L.clone():L}));if(null==t?void 0:t.retry){let r=function(e){if("number"==typeof e)return new b({type:"linear",attempts:e,delay:1e3});switch(e.type){case"linear":return new b(e);case"exponential":return new v(e);default:throw Error("Invalid retry strategy")}}(t.retry),n=null!=(l=t.retryAttempt)?l:0;if(await r.shouldAttemptRetry(n,L)){for(let e of c.onRetry)e&&await e(M);let i=r.getDelay(n);return await new Promise(e=>setTimeout(e,i)),await C(e,g(m({},t),{retryAttempt:n+1}))}}if(null==t?void 0:t.throw)throw new y(L.status,L.statusText,j?B:U);return{data:null,error:g(m({},B),{status:L.status,statusText:L.statusText})}};let N=new TextEncoder,P=new TextDecoder;function x(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function D(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:P.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=P.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function k(e){let t=e;return("string"==typeof t&&(t=N.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class L extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class M extends L{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class $ extends L{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class U extends L{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class j extends L{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class B extends L{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class z extends L{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class q extends L{static code="ERR_JWKS_INVALID";code="ERR_JWKS_INVALID"}class K extends L{static code="ERR_JWKS_NO_MATCHING_KEY";code="ERR_JWKS_NO_MATCHING_KEY";constructor(e="no applicable key found in the JSON Web Key Set",t){super(e,t)}}class F extends L{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}class Y extends L{static code="ERR_JWKS_TIMEOUT";code="ERR_JWKS_TIMEOUT";constructor(e="request timed out",t){super(e,t)}}class V extends L{static code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";constructor(e="signature verification failed",t){super(e,t)}}let G=(e,t)=>{let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return{name:e};default:throw new j(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},H=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Z(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function W(e,t){return e.name===t}function Q(e){return parseInt(e.name.slice(4),10)}function X(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}function J(e,t,...r){return X(`Key for the ${e} algorithm must be `,t,...r)}let ee=async(e,t,r)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(((e,...t)=>X("Key must be ",e,...t))(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}return!function(e,t,r){switch(t){case"HS256":case"HS384":case"HS512":{if(!W(e.algorithm,"HMAC"))throw Z("HMAC");let r=parseInt(t.slice(2),10);if(Q(e.algorithm.hash)!==r)throw Z(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!W(e.algorithm,"RSASSA-PKCS1-v1_5"))throw Z("RSASSA-PKCS1-v1_5");let r=parseInt(t.slice(2),10);if(Q(e.algorithm.hash)!==r)throw Z(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!W(e.algorithm,"RSA-PSS"))throw Z("RSA-PSS");let r=parseInt(t.slice(2),10);if(Q(e.algorithm.hash)!==r)throw Z(`SHA-${r}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":if(!W(e.algorithm,"Ed25519"))throw Z("Ed25519");break;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":if(!W(e.algorithm,t))throw Z(t);break;case"ES256":case"ES384":case"ES512":{if(!W(e.algorithm,"ECDSA"))throw Z("ECDSA");let r=function(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(t);if(e.algorithm.namedCurve!==r)throw Z(r,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}if(r&&!e.usages.includes(r))throw TypeError(`CryptoKey does not support this operation, its usages must include ${r}.`)}(t,e,r),t},et=async(e,t,r,n)=>{let i=await ee(e,t,"verify");H(e,i);let s=G(e,i.algorithm);try{return await crypto.subtle.verify(s,i,r,n)}catch{return!1}},er=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},en=e=>{if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function ei(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function es(e){return e?.[Symbol.toStringTag]==="KeyObject"}let ea=e=>ei(e)||es(e);function eo(e){return en(e)&&"string"==typeof e.kty}let eu=e=>e?.[Symbol.toStringTag],el=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},ec=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?((e,t,r)=>{if(!(t instanceof Uint8Array)){if(eo(t)){if(function(e){return"oct"===e.kty&&"string"==typeof e.k}(t)&&el(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!ea(t))throw TypeError(J(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${eu(t)} instances for symmetric algorithms must be of type "secret"`)}})(e,t,r):((e,t,r)=>{if(eo(t))switch(r){case"decrypt":case"sign":if(function(e){return"oct"!==e.kty&&("AKP"===e.kty&&"string"==typeof e.priv||"string"==typeof e.d)}(t)&&el(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d&&void 0===e.priv}(t)&&el(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!ea(t))throw TypeError(J(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${eu(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${eu(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${eu(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${eu(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${eu(t)} instances for asymmetric algorithm encryption must be of type "public"`)}})(e,t,r)},ed=(e,t,r,n,i)=>{let s;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let a of(s=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!s.has(a))throw new j(`Extension Header Parameter "${a}" is not recognized`);if(void 0===i[a])throw new e(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&void 0===n[a])throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)},ep=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"AKP":switch(e.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":t={name:e.alg},r=e.priv?["sign"]:["verify"];break;default:throw new j('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new j('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new j('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new j('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new j('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return"AKP"!==n.kty&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??(!e.d&&!e.priv),e.key_ops??r)},ef=async(e,r,n,i=!1)=>{let s=(t||=new WeakMap).get(e);if(s?.[n])return s[n];let a=await ep({...r,alg:n});return i&&Object.freeze(e),s?s[n]=a:t.set(e,{[n]:a}),a},eh=async(e,r)=>{if(e instanceof Uint8Array||ei(e))return e;if(es(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return((e,r)=>{let n,i=(t||=new WeakMap).get(e);if(i?.[r])return i[r];let s="public"===e.type,a=!!s;if("x25519"===e.asymmetricKeyType){switch(r){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}n=e.toCryptoKey(e.asymmetricKeyType,a,s?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==r&&"Ed25519"!==r)throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,a,[s?"verify":"sign"])}switch(e.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(r!==e.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");n=e.toCryptoKey(e.asymmetricKeyType,a,[s?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let t;switch(r){case"RSA-OAEP":t="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":t="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":t="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":t="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(r.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:t},a,s?["encrypt"]:["decrypt"]);n=e.toCryptoKey({name:r.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:t},a,[s?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let t=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!t)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===r&&"P-256"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[s?"verify":"sign"])),"ES384"===r&&"P-384"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[s?"verify":"sign"])),"ES512"===r&&"P-521"===t&&(n=e.toCryptoKey({name:"ECDSA",namedCurve:t},a,[s?"verify":"sign"])),r.startsWith("ECDH-ES")&&(n=e.toCryptoKey({name:"ECDH",namedCurve:t},a,s?[]:["deriveBits"]))}if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[r]=n:t.set(e,{[r]:n}),n})(e,r)}catch(e){if(e instanceof TypeError)throw e}let n=e.export({format:"jwk"});return ef(e,n,r)}if(eo(e))return e.k?D(e.k):ef(e,e,r,!0);throw Error("unreachable")};async function em(e,t,r){let n,i;if(!en(e))throw new B("Flattened JWS must be an object");if(void 0===e.protected&&void 0===e.header)throw new B('Flattened JWS must have either of the "protected" or "header" members');if(void 0!==e.protected&&"string"!=typeof e.protected)throw new B("JWS Protected Header incorrect type");if(void 0===e.payload)throw new B("JWS Payload missing");if("string"!=typeof e.signature)throw new B("JWS Signature missing or incorrect type");if(void 0!==e.header&&!en(e.header))throw new B("JWS Unprotected Header incorrect type");let s={};if(e.protected)try{let t=D(e.protected);s=JSON.parse(P.decode(t))}catch{throw new B("JWS Protected Header is invalid")}if(!er(s,e.header))throw new B("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let a={...s,...e.header},o=ed(B,new Map([["b64",!0]]),r?.crit,s,a),u=!0;if(o.has("b64")&&"boolean"!=typeof(u=s.b64))throw new B('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:l}=a;if("string"!=typeof l||!l)throw new B('JWS "alg" (Algorithm) Header Parameter missing or invalid');let c=r&&((e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)})("algorithms",r.algorithms);if(c&&!c.has(l))throw new U('"alg" (Algorithm) Header Parameter value not allowed');if(u){if("string"!=typeof e.payload)throw new B("JWS Payload must be a string")}else if("string"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new B("JWS Payload must be a string or an Uint8Array instance");let d=!1;"function"==typeof t&&(t=await t(s,e),d=!0),ec(l,t,"verify");let p=x(N.encode(e.protected??""),N.encode("."),"string"==typeof e.payload?N.encode(e.payload):e.payload);try{n=D(e.signature)}catch{throw new B("Failed to base64url decode the signature")}let f=await eh(t,l);if(!await et(l,f,n,p))throw new V;if(u)try{i=D(e.payload)}catch{throw new B("Failed to base64url decode the payload")}else i="string"==typeof e.payload?N.encode(e.payload):e.payload;let h={payload:i};return(void 0!==e.protected&&(h.protectedHeader=s),void 0!==e.header&&(h.unprotectedHeader=e.header),d)?{...h,key:f}:h}async function eg(e,t,r){if(e instanceof Uint8Array&&(e=P.decode(e)),"string"!=typeof e)throw new B("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:s,length:a}=e.split(".");if(3!==a)throw new B("Invalid Compact JWS");let o=await em({payload:i,protected:n,signature:s},t,r),u={payload:o.payload,protectedHeader:o.protectedHeader};return"function"==typeof t?{...u,key:o.key}:u}let ey=e=>Math.floor(e.getTime()/1e3),e_=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,eb=e=>{let t,r=e_.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function ev(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let eE=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`;class eS{#t;constructor(e){if(!en(e))throw TypeError("JWT Claims Set MUST be an object");this.#t=structuredClone(e)}data(){return N.encode(JSON.stringify(this.#t))}get iss(){return this.#t.iss}set iss(e){this.#t.iss=e}get sub(){return this.#t.sub}set sub(e){this.#t.sub=e}get aud(){return this.#t.aud}set aud(e){this.#t.aud=e}set jti(e){this.#t.jti=e}set nbf(e){"number"==typeof e?this.#t.nbf=ev("setNotBefore",e):e instanceof Date?this.#t.nbf=ev("setNotBefore",ey(e)):this.#t.nbf=ey(new Date)+eb(e)}set exp(e){"number"==typeof e?this.#t.exp=ev("setExpirationTime",e):e instanceof Date?this.#t.exp=ev("setExpirationTime",ey(e)):this.#t.exp=ey(new Date)+eb(e)}set iat(e){void 0===e?this.#t.iat=ey(new Date):e instanceof Date?this.#t.iat=ev("setIssuedAt",ey(e)):"string"==typeof e?this.#t.iat=ev("setIssuedAt",ey(new Date)+eb(e)):this.#t.iat=ev("setIssuedAt",e)}}async function ew(e,t,r){let n=await eg(e,t,r);if(n.protectedHeader.crit?.includes("b64")&&!1===n.protectedHeader.b64)throw new z("JWTs MUST NOT use unencoded payload");let i={payload:function(e,t,r={}){var n,i;let s,a;try{s=JSON.parse(P.decode(t))}catch{}if(!en(s))throw new z("JWT Claims Set must be a top-level JSON object");let{typ:o}=r;if(o&&("string"!=typeof e.typ||eE(e.typ)!==eE(o)))throw new M('unexpected "typ" JWT header value',s,"typ","check_failed");let{requiredClaims:u=[],issuer:l,subject:c,audience:d,maxTokenAge:p}=r,f=[...u];for(let e of(void 0!==p&&f.push("iat"),void 0!==d&&f.push("aud"),void 0!==c&&f.push("sub"),void 0!==l&&f.push("iss"),new Set(f.reverse())))if(!(e in s))throw new M(`missing required "${e}" claim`,s,e,"missing");if(l&&!(Array.isArray(l)?l:[l]).includes(s.iss))throw new M('unexpected "iss" claim value',s,"iss","check_failed");if(c&&s.sub!==c)throw new M('unexpected "sub" claim value',s,"sub","check_failed");if(d&&(n=s.aud,i="string"==typeof d?[d]:d,"string"==typeof n?!i.includes(n):!(Array.isArray(n)&&i.some(Set.prototype.has.bind(new Set(n))))))throw new M('unexpected "aud" claim value',s,"aud","check_failed");switch(typeof r.clockTolerance){case"string":a=eb(r.clockTolerance);break;case"number":a=r.clockTolerance;break;case"undefined":a=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:h}=r,m=ey(h||new Date);if((void 0!==s.iat||p)&&"number"!=typeof s.iat)throw new M('"iat" claim must be a number',s,"iat","invalid");if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw new M('"nbf" claim must be a number',s,"nbf","invalid");if(s.nbf>m+a)throw new M('"nbf" claim timestamp check failed',s,"nbf","check_failed")}if(void 0!==s.exp){if("number"!=typeof s.exp)throw new M('"exp" claim must be a number',s,"exp","invalid");if(s.exp<=m-a)throw new $('"exp" claim timestamp check failed',s,"exp","check_failed")}if(p){let e=m-s.iat;if(e-a>("number"==typeof p?p:eb(p)))throw new $('"iat" claim timestamp check failed (too far in the past)',s,"iat","check_failed");if(e<0-a)throw new M('"iat" claim timestamp check failed (it should be in the past)',s,"iat","check_failed")}return s}(n.protectedHeader,n.payload,r),protectedHeader:n.protectedHeader};return"function"==typeof t?{...i,key:n.key}:i}function eR(e){let t=e=>new Date(new Date().getTime()+1e3*e);return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?t(e.expires_in):void 0,refreshTokenExpiresAt:e.refresh_token_expires_in?t(e.refresh_token_expires_in):void 0,scopes:e?.scope?"string"==typeof e.scope?e.scope.split(" "):e.scope:[],idToken:e.id_token}}async function eO(e){let t=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",t);return o.base64Url.encode(new Uint8Array(r),{padding:!1})}async function eA({id:e,options:t,authorizationEndpoint:r,state:n,codeVerifier:i,scopes:s,claims:a,redirectURI:o,duration:u,prompt:l,accessType:c,responseType:d,display:p,loginHint:f,hd:h,responseMode:m,additionalParams:g,scopeJoiner:y}){let _=new URL(r);_.searchParams.set("response_type",d||"code");let b=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;if(_.searchParams.set("client_id",b),_.searchParams.set("state",n),_.searchParams.set("scope",s.join(y||" ")),_.searchParams.set("redirect_uri",t.redirectURI||o),u&&_.searchParams.set("duration",u),p&&_.searchParams.set("display",p),f&&_.searchParams.set("login_hint",f),l&&_.searchParams.set("prompt",l),h&&_.searchParams.set("hd",h),c&&_.searchParams.set("access_type",c),m&&_.searchParams.set("response_mode",m),i){let e=await eO(i);_.searchParams.set("code_challenge_method","S256"),_.searchParams.set("code_challenge",e)}if(a){let e=a.reduce((e,t)=>(e[t]=null,e),{});_.searchParams.set("claims",JSON.stringify({id_token:{email:null,email_verified:null,...e}}))}return g&&Object.entries(g).forEach(([e,t])=>{_.searchParams.set(e,t)}),_}async function eT({code:e,codeVerifier:t,redirectURI:r,options:n,tokenEndpoint:i,authentication:s,deviceId:a,headers:u,additionalParams:l={},resource:c}){let{body:d,headers:p}=function({code:e,codeVerifier:t,redirectURI:r,options:n,authentication:i,deviceId:s,headers:a,additionalParams:u={},resource:l}){let c=new URLSearchParams,d={"content-type":"application/x-www-form-urlencoded",accept:"application/json","user-agent":"better-auth",...a};if(c.set("grant_type","authorization_code"),c.set("code",e),t&&c.set("code_verifier",t),n.clientKey&&c.set("client_key",n.clientKey),s&&c.set("device_id",s),c.set("redirect_uri",n.redirectURI||r),l)if("string"==typeof l)c.append("resource",l);else for(let e of l)c.append("resource",e);if("basic"===i){let e=Array.isArray(n.clientId)?n.clientId[0]:n.clientId,t=o.base64.encode(`${e}:${n.clientSecret??""}`);d.authorization=`Basic ${t}`}else{let e=Array.isArray(n.clientId)?n.clientId[0]:n.clientId;c.set("client_id",e),n.clientSecret&&c.set("client_secret",n.clientSecret)}for(let[e,t]of Object.entries(u))c.has(e)||c.append(e,t);return{body:c,headers:d}}({code:e,codeVerifier:t,redirectURI:r,options:n,authentication:s,deviceId:a,headers:u,additionalParams:l,resource:c}),{data:f,error:h}=await C(i,{method:"POST",body:d,headers:p});if(h)throw h;return eR(f)}async function eI({refreshToken:e,options:t,tokenEndpoint:r,authentication:n,extraParams:i}){let{body:s,headers:a}=function({refreshToken:e,options:t,authentication:r,extraParams:n,resource:i}){let s=new URLSearchParams,a={"content-type":"application/x-www-form-urlencoded",accept:"application/json"};if(s.set("grant_type","refresh_token"),s.set("refresh_token",e),"basic"===r){let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;e?a.authorization="Basic "+o.base64.encode(`${e}:${t.clientSecret??""}`):a.authorization="Basic "+o.base64.encode(`:${t.clientSecret??""}`)}else{let e=Array.isArray(t.clientId)?t.clientId[0]:t.clientId;s.set("client_id",e),t.clientSecret&&s.set("client_secret",t.clientSecret)}if(i)if("string"==typeof i)s.append("resource",i);else for(let e of i)s.append("resource",e);if(n)for(let[e,t]of Object.entries(n))s.set(e,t);return{body:s,headers:a}}({refreshToken:e,options:t,authentication:n,extraParams:i}),{data:u,error:l}=await C(r,{method:"POST",body:s,headers:a});if(l)throw l;let c={accessToken:u.access_token,refreshToken:u.refresh_token,tokenType:u.token_type,scopes:u.scope?.split(" "),idToken:u.id_token};return u.expires_in&&(c.accessTokenExpiresAt=new Date(new Date().getTime()+1e3*u.expires_in)),c}e.s(["b",()=>gH],4376),e.s(["checkEndpointConflicts",()=>fz,"getEndpoints",()=>fq,"router",()=>fK],95360);var eC=e.i(16043);e.s(["A",()=>fO,"B",()=>fr,"C",()=>fn,"D",()=>fb,"E",()=>fg,"F",()=>fc,"G",()=>ff,"I",()=>fp,"J",()=>fl,"a",()=>p9,"b",()=>fT,"c",()=>fe,"e",()=>fA,"f",()=>fD,"i",()=>fP,"j",()=>fN,"k",()=>fR,"l",()=>fI,"m",()=>fC,"n",()=>fy,"q",()=>fm,"r",()=>fx,"t",()=>fL,"u",()=>fv,"v",()=>f_,"w",()=>p5,"x",()=>fw,"y",()=>fS,"z",()=>fE],14033),e.s(["$brand",()=>ex,"$input",()=>sq,"$output",()=>sz,"NEVER",()=>eN,"TimePrecision",()=>aa,"ZodAny",()=>le,"ZodArray",()=>lc,"ZodBase64",()=>uN,"ZodBase64URL",()=>ux,"ZodBigInt",()=>uJ,"ZodBigIntFormat",()=>u1,"ZodBoolean",()=>uQ,"ZodCIDRv4",()=>uA,"ZodCIDRv6",()=>uI,"ZodCUID",()=>up,"ZodCUID2",()=>uh,"ZodCatch",()=>l0,"ZodCodec",()=>l8,"ZodCustom",()=>cu,"ZodCustomStringFormat",()=>uU,"ZodDate",()=>lu,"ZodDefault",()=>lV,"ZodDiscriminatedUnion",()=>lb,"ZodE164",()=>uk,"ZodEmail",()=>o8,"ZodEmoji",()=>uu,"ZodEnum",()=>lx,"ZodError",()=>oz,"ZodFile",()=>l$,"ZodFirstPartyTypeKind",()=>a,"ZodFunction",()=>ca,"ZodGUID",()=>o9,"ZodIPv4",()=>uS,"ZodIPv6",()=>uR,"ZodISODate",()=>ok,"ZodISODateTime",()=>ox,"ZodISODuration",()=>oU,"ZodISOTime",()=>oM,"ZodIntersection",()=>lE,"ZodIssueCode",()=>cy,"ZodJWT",()=>uM,"ZodKSUID",()=>uv,"ZodLazy",()=>cr,"ZodLiteral",()=>lL,"ZodMap",()=>lI,"ZodNaN",()=>l4,"ZodNanoID",()=>uc,"ZodNever",()=>li,"ZodNonOptional",()=>lW,"ZodNull",()=>u9,"ZodNullable",()=>lK,"ZodNumber",()=>uK,"ZodNumberFormat",()=>uY,"ZodObject",()=>lf,"ZodOptional",()=>lz,"ZodPipe",()=>l6,"ZodPrefault",()=>lH,"ZodPromise",()=>ci,"ZodReadonly",()=>l9,"ZodRealError",()=>oq,"ZodRecord",()=>lO,"ZodSet",()=>lN,"ZodString",()=>o2,"ZodStringFormat",()=>o3,"ZodSuccess",()=>lX,"ZodSymbol",()=>u6,"ZodTemplateLiteral",()=>ce,"ZodTransform",()=>lj,"ZodTuple",()=>lw,"ZodType",()=>o1,"ZodULID",()=>ug,"ZodURL",()=>us,"ZodUUID",()=>ue,"ZodUndefined",()=>u8,"ZodUnion",()=>ly,"ZodUnknown",()=>lr,"ZodVoid",()=>la,"ZodXID",()=>u_,"_ZodString",()=>o4,"_default",()=>lG,"_function",()=>co,"any",()=>lt,"array",()=>ld,"base64",()=>uP,"base64url",()=>uD,"bigint",()=>u0,"boolean",()=>uX,"catch",()=>l1,"check",()=>cl,"cidrv4",()=>uT,"cidrv6",()=>uC,"clone",()=>ts,"codec",()=>l5,"coerce",()=>cx,"config",()=>eM,"core",()=>cC,"cuid",()=>uf,"cuid2",()=>um,"custom",()=>cc,"date",()=>ll,"decode",()=>oH,"decodeAsync",()=>oW,"default",()=>ck,"discriminatedUnion",()=>lv,"e164",()=>uL,"email",()=>o5,"emoji",()=>ul,"encode",()=>oG,"encodeAsync",()=>oZ,"endsWith",()=>a0,"enum",()=>lD,"file",()=>lU,"flattenError",()=>t$,"float32",()=>uG,"float64",()=>uH,"formatError",()=>tU,"function",()=>co,"getErrorMap",()=>cb,"globalRegistry",()=>sY,"gt",()=>aM,"gte",()=>a$,"guid",()=>o7,"hash",()=>uq,"hex",()=>uz,"hostname",()=>uB,"httpUrl",()=>uo,"includes",()=>aX,"instanceof",()=>cf,"int",()=>uV,"int32",()=>uZ,"int64",()=>u4,"intersection",()=>lS,"ipv4",()=>uw,"ipv6",()=>uO,"iso",()=>cP,"json",()=>cm,"jwt",()=>u$,"keyof",()=>lp,"ksuid",()=>uE,"lazy",()=>cn,"length",()=>aH,"literal",()=>lM,"locales",()=>cN,"looseObject",()=>lg,"lowercase",()=>aW,"lt",()=>ak,"lte",()=>aL,"map",()=>lC,"maxLength",()=>aV,"maxSize",()=>aK,"mime",()=>a4,"minLength",()=>aG,"minSize",()=>aF,"multipleOf",()=>aq,"nan",()=>l2,"nanoid",()=>ud,"nativeEnum",()=>lk,"negative",()=>aj,"never",()=>ls,"nonnegative",()=>az,"nonoptional",()=>lQ,"nonpositive",()=>aB,"normalize",()=>a6,"null",()=>u7,"nullable",()=>lF,"nullish",()=>lY,"number",()=>uF,"object",()=>lh,"optional",()=>lq,"overwrite",()=>a2,"parse",()=>oK,"parseAsync",()=>oF,"partialRecord",()=>lT,"pipe",()=>l3,"positive",()=>aU,"prefault",()=>lZ,"preprocess",()=>cg,"prettifyError",()=>tz,"promise",()=>cs,"property",()=>a1,"readonly",()=>l7,"record",()=>lA,"refine",()=>cd,"regex",()=>aZ,"regexes",()=>oN,"registry",()=>sF,"safeDecode",()=>oX,"safeDecodeAsync",()=>o0,"safeEncode",()=>oQ,"safeEncodeAsync",()=>oJ,"safeParse",()=>oY,"safeParseAsync",()=>oV,"set",()=>lP,"setErrorMap",()=>c_,"size",()=>aY,"startsWith",()=>aJ,"strictObject",()=>lm,"string",()=>o6,"stringFormat",()=>uj,"stringbool",()=>ch,"success",()=>lJ,"superRefine",()=>cp,"symbol",()=>u3,"templateLiteral",()=>ct,"toJSONSchema",()=>oC,"toLowerCase",()=>a8,"toUpperCase",()=>a5,"transform",()=>lB,"treeifyError",()=>tj,"trim",()=>a3,"tuple",()=>lR,"uint32",()=>uW,"uint64",()=>u2,"ulid",()=>uy,"undefined",()=>u5,"union",()=>l_,"unknown",()=>ln,"uppercase",()=>aQ,"url",()=>ua,"util",()=>oP,"uuid",()=>ut,"uuidv4",()=>ur,"uuidv6",()=>un,"uuidv7",()=>ui,"void",()=>lo,"xid",()=>ub,"z",()=>cL],1577),e.s(["default",()=>ck],18291),e.s([],62690),e.s([],35397),e.s(["$ZodAsyncError",()=>eD,"$ZodEncodeError",()=>ek,"$brand",()=>ex,"$constructor",()=>eP,"NEVER",()=>eN,"config",()=>eM,"globalConfig",()=>eL],23489);let eN=Object.freeze({status:"aborted"});function eP(e,t,r){function n(r,n){var i;for(let s in Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(i=r._zod).traits??(i.traits=new Set),r._zod.traits.add(e),t(r,n),a.prototype)s in r||Object.defineProperty(r,s,{value:a.prototype[s].bind(r)});r._zod.constr=a,r._zod.def=n}let i=r?.Parent??Object;class s extends i{}function a(e){var t;let i=r?.Parent?new s:this;for(let r of(n(i,e),(t=i._zod).deferred??(t.deferred=[]),i._zod.deferred))r();return i}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:t=>!!r?.Parent&&t instanceof r.Parent||t?._zod?.traits?.has(e)}),Object.defineProperty(a,"name",{value:e}),a}let ex=Symbol("zod_brand");class eD extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ek extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}let eL={};function eM(e){return e&&Object.assign(eL,e),eL}function e$(e){return e}function eU(e){return e}function ej(e){}function eB(e){throw Error()}function ez(e){}function eq(e){let t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function eK(e,t="|"){return e.map(e=>tu(e)).join(t)}function eF(e,t){return"bigint"==typeof t?t.toString():t}function eY(e){return{get value(){{let t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function eV(e){return null==e}function eG(e){let t=+!!e.startsWith("^"),r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function eH(e,t){let r=(e.toString().split(".")[1]||"").length,n=t.toString(),i=(n.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(n)){let e=n.match(/\d?e-(\d?)/);e?.[1]&&(i=Number.parseInt(e[1]))}let s=r>i?r:i;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}e.s(["_decode",()=>tX,"_decodeAsync",()=>t4,"_encode",()=>tW,"_encodeAsync",()=>t0,"_parse",()=>tq,"_parseAsync",()=>tF,"_safeDecode",()=>t8,"_safeDecodeAsync",()=>re,"_safeEncode",()=>t6,"_safeEncodeAsync",()=>t9,"_safeParse",()=>tV,"_safeParseAsync",()=>tH,"decode",()=>tJ,"decodeAsync",()=>t2,"encode",()=>tQ,"encodeAsync",()=>t1,"parse",()=>tK,"parseAsync",()=>tY,"safeDecode",()=>t5,"safeDecodeAsync",()=>rt,"safeEncode",()=>t3,"safeEncodeAsync",()=>t7,"safeParse",()=>tG,"safeParseAsync",()=>tZ],39443),e.s(["$ZodError",()=>tL,"$ZodRealError",()=>tM,"flattenError",()=>t$,"formatError",()=>tU,"prettifyError",()=>tz,"toDotPath",()=>tB,"treeifyError",()=>tj],56898),e.s(["BIGINT_FORMAT_RANGES",()=>td,"Class",()=>tD,"NUMBER_FORMAT_RANGES",()=>tc,"aborted",()=>tb,"allowsEval",()=>e5,"assert",()=>ez,"assertEqual",()=>e$,"assertIs",()=>ej,"assertNever",()=>eB,"assertNotEqual",()=>eU,"assignProp",()=>eX,"base64ToUint8Array",()=>tT,"base64urlToUint8Array",()=>tC,"cached",()=>eY,"captureStackTrace",()=>e3,"cleanEnum",()=>tA,"cleanRegex",()=>eG,"clone",()=>ts,"cloneDef",()=>e0,"createTransparentProxy",()=>to,"defineLazy",()=>eW,"esc",()=>e6,"escapeRegex",()=>ti,"extend",()=>th,"finalizeIssue",()=>tS,"floatSafeRemainder",()=>eH,"getElementAtPath",()=>e1,"getEnumValues",()=>eq,"getLengthableOrigin",()=>tR,"getParsedType",()=>tt,"getSizableOrigin",()=>tw,"hexToUint8Array",()=>tP,"isObject",()=>e8,"isPlainObject",()=>e9,"issue",()=>tO,"joinValues",()=>eK,"jsonStringifyReplacer",()=>eF,"merge",()=>tg,"mergeDefs",()=>eJ,"normalizeParams",()=>ta,"nullish",()=>eV,"numKeys",()=>te,"objectClone",()=>eQ,"omit",()=>tf,"optionalKeys",()=>tl,"partial",()=>ty,"pick",()=>tp,"prefixIssues",()=>tv,"primitiveTypes",()=>tn,"promiseAllObject",()=>e4,"propertyKeyTypes",()=>tr,"randomString",()=>e2,"required",()=>t_,"safeExtend",()=>tm,"shallowClone",()=>e7,"stringifyPrimitive",()=>tu,"uint8ArrayToBase64",()=>tI,"uint8ArrayToBase64url",()=>tN,"uint8ArrayToHex",()=>tx,"unwrapMessage",()=>tE],99764);let eZ=Symbol("evaluating");function eW(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==eZ)return void 0===n&&(n=eZ,n=r()),n},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function eQ(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function eX(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function eJ(...e){let t={};for(let r of e)Object.assign(t,Object.getOwnPropertyDescriptors(r));return Object.defineProperties({},t)}function e0(e){return eJ(e._zod.def)}function e1(e,t){return t?t.reduce((e,t)=>e?.[t],e):e}function e4(e){let t=Object.keys(e);return Promise.all(t.map(t=>e[t])).then(e=>{let r={};for(let n=0;n<t.length;n++)r[t[n]]=e[n];return r})}function e2(e=10){let t="abcdefghijklmnopqrstuvwxyz",r="";for(let n=0;n<e;n++)r+=t[Math.floor(Math.random()*t.length)];return r}function e6(e){return JSON.stringify(e)}let e3="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function e8(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}let e5=eY(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return Function(""),!0}catch(e){return!1}});function e9(e){if(!1===e8(e))return!1;let t=e.constructor;if(void 0===t)return!0;let r=t.prototype;return!1!==e8(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function e7(e){return e9(e)?{...e}:Array.isArray(e)?[...e]:e}function te(e){let t=0;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}let tt=e=>{let t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return"promise";if("undefined"!=typeof Map&&e instanceof Map)return"map";if("undefined"!=typeof Set&&e instanceof Set)return"set";if("undefined"!=typeof Date&&e instanceof Date)return"date";if("undefined"!=typeof File&&e instanceof File)return"file";return"object";default:throw Error(`Unknown data type: ${t}`)}},tr=new Set(["string","number","symbol"]),tn=new Set(["string","number","bigint","boolean","symbol","undefined"]);function ti(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ts(e,t,r){let n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function ta(e){if(!e)return{};if("string"==typeof e)return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw Error("Cannot specify both `message` and `error` params");e.error=e.message}return(delete e.message,"string"==typeof e.error)?{...e,error:()=>e.error}:e}function to(e){let t;return new Proxy({},{get:(r,n,i)=>(t??(t=e()),Reflect.get(t,n,i)),set:(r,n,i,s)=>(t??(t=e()),Reflect.set(t,n,i,s)),has:(r,n)=>(t??(t=e()),Reflect.has(t,n)),deleteProperty:(r,n)=>(t??(t=e()),Reflect.deleteProperty(t,n)),ownKeys:r=>(t??(t=e()),Reflect.ownKeys(t)),getOwnPropertyDescriptor:(r,n)=>(t??(t=e()),Reflect.getOwnPropertyDescriptor(t,n)),defineProperty:(r,n,i)=>(t??(t=e()),Reflect.defineProperty(t,n,i))})}function tu(e){return"bigint"==typeof e?e.toString()+"n":"string"==typeof e?`"${e}"`:`${e}`}function tl(e){return Object.keys(e).filter(t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout)}let tc={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-0x80000000,0x7fffffff],uint32:[0,0xffffffff],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},td={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function tp(e,t){let r=e._zod.def,n=eJ(e._zod.def,{get shape(){let e={};for(let n in t){if(!(n in r.shape))throw Error(`Unrecognized key: "${n}"`);t[n]&&(e[n]=r.shape[n])}return eX(this,"shape",e),e},checks:[]});return ts(e,n)}function tf(e,t){let r=e._zod.def,n=eJ(e._zod.def,{get shape(){let n={...e._zod.def.shape};for(let e in t){if(!(e in r.shape))throw Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return eX(this,"shape",n),n},checks:[]});return ts(e,n)}function th(e,t){if(!e9(t))throw Error("Invalid input to extend: expected a plain object");let r=e._zod.def.checks;if(r&&r.length>0)throw Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");let n=eJ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t};return eX(this,"shape",r),r},checks:[]});return ts(e,n)}function tm(e,t){if(!e9(t))throw Error("Invalid input to safeExtend: expected a plain object");let r={...e._zod.def,get shape(){let r={...e._zod.def.shape,...t};return eX(this,"shape",r),r},checks:e._zod.def.checks};return ts(e,r)}function tg(e,t){let r=eJ(e._zod.def,{get shape(){let r={...e._zod.def.shape,...t._zod.def.shape};return eX(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ts(e,r)}function ty(e,t,r){let n=eJ(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in n))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=e?new e({type:"optional",innerType:n[t]}):n[t])}else for(let t in n)i[t]=e?new e({type:"optional",innerType:n[t]}):n[t];return eX(this,"shape",i),i},checks:[]});return ts(t,n)}function t_(e,t,r){let n=eJ(t._zod.def,{get shape(){let n=t._zod.def.shape,i={...n};if(r)for(let t in r){if(!(t in i))throw Error(`Unrecognized key: "${t}"`);r[t]&&(i[t]=new e({type:"nonoptional",innerType:n[t]}))}else for(let t in n)i[t]=new e({type:"nonoptional",innerType:n[t]});return eX(this,"shape",i),i},checks:[]});return ts(t,n)}function tb(e,t=0){if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function tv(e,t){return t.map(t=>(t.path??(t.path=[]),t.path.unshift(e),t))}function tE(e){return"string"==typeof e?e:e?.message}function tS(e,t,r){let n={...e,path:e.path??[]};return e.message||(n.message=tE(e.inst?._zod.def?.error?.(e))??tE(t?.error?.(e))??tE(r.customError?.(e))??tE(r.localeError?.(e))??"Invalid input"),delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function tw(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function tR(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function tO(...e){let[t,r,n]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:n}:{...t}}function tA(e){return Object.entries(e).filter(([e,t])=>Number.isNaN(Number.parseInt(e,10))).map(e=>e[1])}function tT(e){let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}function tI(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function tC(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r="=".repeat((4-t.length%4)%4);return tT(t+r)}function tN(e){return tI(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function tP(e){let t=e.replace(/^0x/,"");if(t.length%2!=0)throw Error("Invalid hex string length");let r=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)r[e/2]=Number.parseInt(t.slice(e,e+2),16);return r}function tx(e){return Array.from(e).map(e=>e.toString(16).padStart(2,"0")).join("")}class tD{constructor(...e){}}let tk=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,eF,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tL=eP("$ZodError",tk),tM=eP("$ZodError",tk,{Parent:Error});function t$(e,t=e=>e.message){let r={},n=[];for(let i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function tU(e,t=e=>e.message){let r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>n({issues:e}));else if("invalid_key"===i.code)n({issues:i.issues});else if("invalid_element"===i.code)n({issues:i.issues});else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(e),r}function tj(e,t=e=>e.message){let r={errors:[]},n=(e,i=[])=>{var s,a;for(let o of e.issues)if("invalid_union"===o.code&&o.errors.length)o.errors.map(e=>n({issues:e},o.path));else if("invalid_key"===o.code)n({issues:o.issues},o.path);else if("invalid_element"===o.code)n({issues:o.issues},o.path);else{let e=[...i,...o.path];if(0===e.length){r.errors.push(t(o));continue}let n=r,u=0;for(;u<e.length;){let r=e[u],i=u===e.length-1;"string"==typeof r?(n.properties??(n.properties={}),(s=n.properties)[r]??(s[r]={errors:[]}),n=n.properties[r]):(n.items??(n.items=[]),(a=n.items)[r]??(a[r]={errors:[]}),n=n.items[r]),i&&n.errors.push(t(o)),u++}}};return n(e),r}function tB(e){let t=[];for(let r of e.map(e=>"object"==typeof e?e.key:e))"number"==typeof r?t.push(`[${r}]`):"symbol"==typeof r?t.push(`[${JSON.stringify(String(r))}]`):/[^\w$]/.test(r)?t.push(`[${JSON.stringify(r)}]`):(t.length&&t.push("."),t.push(r));return t.join("")}function tz(e){let t=[];for(let r of[...e.issues].sort((e,t)=>(e.path??[]).length-(t.path??[]).length))t.push(` ${r.message}`),r.path?.length&&t.push(`   at ${tB(r.path)}`);return t.join("\n")}let tq=e=>(t,r,n,i)=>{let s=n?Object.assign(n,{async:!1}):{async:!1},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise)throw new eD;if(a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>tS(e,s,eM())));throw e3(t,i?.callee),t}return a.value},tK=tq(tM),tF=e=>async(t,r,n,i)=>{let s=n?Object.assign(n,{async:!0}):{async:!0},a=t._zod.run({value:r,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){let t=new(i?.Err??e)(a.issues.map(e=>tS(e,s,eM())));throw e3(t,i?.callee),t}return a.value},tY=tF(tM),tV=e=>(t,r,n)=>{let i=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},i);if(s instanceof Promise)throw new eD;return s.issues.length?{success:!1,error:new(e??tL)(s.issues.map(e=>tS(e,i,eM())))}:{success:!0,data:s.value}},tG=tV(tM),tH=e=>async(t,r,n)=>{let i=n?Object.assign(n,{async:!0}):{async:!0},s=t._zod.run({value:r,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(e=>tS(e,i,eM())))}:{success:!0,data:s.value}},tZ=tH(tM),tW=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return tq(e)(t,r,i)},tQ=tW(tM),tX=e=>(t,r,n)=>tq(e)(t,r,n),tJ=tX(tM),t0=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return tF(e)(t,r,i)},t1=t0(tM),t4=e=>async(t,r,n)=>tF(e)(t,r,n),t2=t4(tM),t6=e=>(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return tV(e)(t,r,i)},t3=t6(tM),t8=e=>(t,r,n)=>tV(e)(t,r,n),t5=t8(tM),t9=e=>async(t,r,n)=>{let i=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return tH(e)(t,r,i)},t7=t9(tM),re=e=>async(t,r,n)=>tH(e)(t,r,n),rt=re(tM);e.s(["$ZodAny",()=>n7,"$ZodArray",()=>ia,"$ZodBase64",()=>nH,"$ZodBase64URL",()=>nW,"$ZodBigInt",()=>n6,"$ZodBigIntFormat",()=>n3,"$ZodBoolean",()=>n2,"$ZodCIDRv4",()=>nY,"$ZodCIDRv6",()=>nV,"$ZodCUID",()=>nk,"$ZodCUID2",()=>nL,"$ZodCatch",()=>iU,"$ZodCodec",()=>iq,"$ZodCustom",()=>iQ,"$ZodCustomStringFormat",()=>n0,"$ZodDate",()=>ii,"$ZodDefault",()=>ix,"$ZodDiscriminatedUnion",()=>im,"$ZodE164",()=>nQ,"$ZodEmail",()=>nN,"$ZodEmoji",()=>nx,"$ZodEnum",()=>iO,"$ZodFile",()=>iT,"$ZodFunction",()=>iH,"$ZodGUID",()=>nI,"$ZodIPv4",()=>nK,"$ZodIPv6",()=>nF,"$ZodISODate",()=>nB,"$ZodISODateTime",()=>nj,"$ZodISODuration",()=>nq,"$ZodISOTime",()=>nz,"$ZodIntersection",()=>ig,"$ZodJWT",()=>nJ,"$ZodKSUID",()=>nU,"$ZodLazy",()=>iW,"$ZodLiteral",()=>iA,"$ZodMap",()=>iE,"$ZodNaN",()=>ij,"$ZodNanoID",()=>nD,"$ZodNever",()=>it,"$ZodNonOptional",()=>iL,"$ZodNull",()=>n9,"$ZodNullable",()=>iP,"$ZodNumber",()=>n1,"$ZodNumberFormat",()=>n4,"$ZodObject",()=>ic,"$ZodObjectJIT",()=>id,"$ZodOptional",()=>iN,"$ZodPipe",()=>iB,"$ZodPrefault",()=>ik,"$ZodPromise",()=>iZ,"$ZodReadonly",()=>iY,"$ZodRecord",()=>iv,"$ZodSet",()=>iw,"$ZodString",()=>nA,"$ZodStringFormat",()=>nT,"$ZodSuccess",()=>i$,"$ZodSymbol",()=>n8,"$ZodTemplateLiteral",()=>iG,"$ZodTransform",()=>iI,"$ZodTuple",()=>i_,"$ZodType",()=>nO,"$ZodULID",()=>nM,"$ZodURL",()=>nP,"$ZodUUID",()=>nC,"$ZodUndefined",()=>n5,"$ZodUnion",()=>ih,"$ZodUnknown",()=>ie,"$ZodVoid",()=>ir,"$ZodXID",()=>n$,"isValidBase64",()=>nG,"isValidBase64URL",()=>nZ,"isValidJWT",()=>nX],59367),e.s(["$ZodCheck",()=>r7,"$ZodCheckBigIntFormat",()=>ns,"$ZodCheckEndsWith",()=>n_,"$ZodCheckGreaterThan",()=>nr,"$ZodCheckIncludes",()=>ng,"$ZodCheckLengthEquals",()=>nd,"$ZodCheckLessThan",()=>nt,"$ZodCheckLowerCase",()=>nh,"$ZodCheckMaxLength",()=>nl,"$ZodCheckMaxSize",()=>na,"$ZodCheckMimeType",()=>nE,"$ZodCheckMinLength",()=>nc,"$ZodCheckMinSize",()=>no,"$ZodCheckMultipleOf",()=>nn,"$ZodCheckNumberFormat",()=>ni,"$ZodCheckOverwrite",()=>nS,"$ZodCheckProperty",()=>nv,"$ZodCheckRegex",()=>nf,"$ZodCheckSizeEquals",()=>nu,"$ZodCheckStartsWith",()=>ny,"$ZodCheckStringFormat",()=>np,"$ZodCheckUpperCase",()=>nm],52973),e.s(["base64",()=>rA,"base64url",()=>rT,"bigint",()=>r$,"boolean",()=>rB,"browserEmail",()=>rv,"cidrv4",()=>rR,"cidrv6",()=>rO,"cuid",()=>rr,"cuid2",()=>rn,"date",()=>rx,"datetime",()=>rL,"domain",()=>rC,"duration",()=>ru,"e164",()=>rN,"email",()=>rm,"emoji",()=>rE,"extendedDuration",()=>rl,"guid",()=>rc,"hex",()=>rY,"hostname",()=>rI,"html5Email",()=>rg,"idnEmail",()=>rb,"integer",()=>rU,"ipv4",()=>rS,"ipv6",()=>rw,"ksuid",()=>ra,"lowercase",()=>rK,"md5_base64",()=>rZ,"md5_base64url",()=>rW,"md5_hex",()=>rH,"nanoid",()=>ro,"null",()=>rz,"number",()=>rj,"rfc5322Email",()=>ry,"sha1_base64",()=>rX,"sha1_base64url",()=>rJ,"sha1_hex",()=>rQ,"sha256_base64",()=>r1,"sha256_base64url",()=>r4,"sha256_hex",()=>r0,"sha384_base64",()=>r6,"sha384_base64url",()=>r3,"sha384_hex",()=>r2,"sha512_base64",()=>r5,"sha512_base64url",()=>r9,"sha512_hex",()=>r8,"string",()=>rM,"time",()=>rk,"ulid",()=>ri,"undefined",()=>rq,"unicodeEmail",()=>r_,"uppercase",()=>rF,"uuid",()=>rd,"uuid4",()=>rp,"uuid6",()=>rf,"uuid7",()=>rh,"xid",()=>rs],63393);let rr=/^[cC][^\s-]{8,}$/,rn=/^[0-9a-z]+$/,ri=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,rs=/^[0-9a-vA-V]{20}$/,ra=/^[A-Za-z0-9]{27}$/,ro=/^[a-zA-Z0-9_-]{21}$/,ru=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,rl=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,rc=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,rd=e=>e?RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,rp=rd(4),rf=rd(6),rh=rd(7),rm=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,rg=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ry=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r_=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,rb=r_,rv=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;function rE(){return RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}let rS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,rw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rR=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,rO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rA=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,rT=/^[A-Za-z0-9_-]*$/,rI=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,rC=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,rN=/^\+(?:[0-9]){6,14}[0-9]$/,rP="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",rx=RegExp(`^${rP}$`);function rD(e){let t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rk(e){return RegExp(`^${rD(e)}$`)}function rL(e){let t=rD({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");let n=`${t}(?:${r.join("|")})`;return RegExp(`^${rP}T(?:${n})$`)}let rM=e=>{let t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return RegExp(`^${t}$`)},r$=/^-?\d+n?$/,rU=/^-?\d+$/,rj=/^-?\d+(?:\.\d+)?/,rB=/^(?:true|false)$/i,rz=/^null$/i,rq=/^undefined$/i,rK=/^[^A-Z]*$/,rF=/^[^a-z]*$/,rY=/^[0-9a-fA-F]*$/;function rV(e,t){return RegExp(`^[A-Za-z0-9+/]{${e}}${t}$`)}function rG(e){return RegExp(`^[A-Za-z0-9_-]{${e}}$`)}let rH=/^[0-9a-fA-F]{32}$/,rZ=rV(22,"=="),rW=rG(22),rQ=/^[0-9a-fA-F]{40}$/,rX=rV(27,"="),rJ=rG(27),r0=/^[0-9a-fA-F]{64}$/,r1=rV(43,"="),r4=rG(43),r2=/^[0-9a-fA-F]{96}$/,r6=rV(64,""),r3=rG(64),r8=/^[0-9a-fA-F]{128}$/,r5=rV(86,"=="),r9=rG(86),r7=eP("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),ne={number:"number",bigint:"bigint",object:"date"},nt=eP("$ZodCheckLessThan",(e,t)=>{r7.init(e,t);let r=ne[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.maximum:r.exclusiveMaximum)??1/0;t.value<n&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nr=eP("$ZodCheckGreaterThan",(e,t)=>{r7.init(e,t);let r=ne[typeof t.value];e._zod.onattach.push(e=>{let r=e._zod.bag,n=(t.inclusive?r.minimum:r.exclusiveMinimum)??-1/0;t.value>n&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),nn=eP("$ZodCheckMultipleOf",(e,t)=>{r7.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===eH(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),ni=eP("$ZodCheckNumberFormat",(e,t)=>{r7.init(e,t),t.format=t.format||"float64";let r=t.format?.includes("int"),n=r?"int":"number",[i,s]=tc[t.format];e._zod.onattach.push(e=>{let n=e._zod.bag;n.format=t.format,n.minimum=i,n.maximum=s,r&&(n.pattern=rU)}),e._zod.check=a=>{let o=a.value;if(r){if(!Number.isInteger(o))return void a.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?a.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):a.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}))}o<i&&a.issues.push({origin:"number",input:o,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),o>s&&a.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inst:e})}}),ns=eP("$ZodCheckBigIntFormat",(e,t)=>{r7.init(e,t);let[r,n]=td[t.format];e._zod.onattach.push(e=>{let i=e._zod.bag;i.format=t.format,i.minimum=r,i.maximum=n}),e._zod.check=i=>{let s=i.value;s<r&&i.issues.push({origin:"bigint",input:s,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),s>n&&i.issues.push({origin:"bigint",input:s,code:"too_big",maximum:n,inst:e})}}),na=eP("$ZodCheckMaxSize",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;n.size<=t.maximum||r.issues.push({origin:tw(n),code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),no=eP("$ZodCheckMinSize",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;n.size>=t.minimum||r.issues.push({origin:tw(n),code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),nu=eP("$ZodCheckSizeEquals",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.size}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.size,r.maximum=t.size,r.size=t.size}),e._zod.check=r=>{let n=r.value,i=n.size;if(i===t.size)return;let s=i>t.size;r.issues.push({origin:tw(n),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),nl=eP("$ZodCheckMaxLength",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.maximum??1/0;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{let n=r.value;if(n.length<=t.maximum)return;let i=tR(n);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),nc=eP("$ZodCheckMinLength",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag.minimum??-1/0;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{let n=r.value;if(n.length>=t.minimum)return;let i=tR(n);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:n,inst:e,continue:!t.abort})}}),nd=eP("$ZodCheckLengthEquals",(e,t)=>{var r;r7.init(e,t),(r=e._zod.def).when??(r.when=e=>{let t=e.value;return!eV(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{let r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{let n=r.value,i=n.length;if(i===t.length)return;let s=tR(n),a=i>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),np=eP("$ZodCheckStringFormat",(e,t)=>{var r,n;r7.init(e,t),e._zod.onattach.push(e=>{let r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),nf=eP("$ZodCheckRegex",(e,t)=>{np.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),nh=eP("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=rK),np.init(e,t)}),nm=eP("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=rF),np.init(e,t)}),ng=eP("$ZodCheckIncludes",(e,t)=>{r7.init(e,t);let r=ti(t.includes),n=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),ny=eP("$ZodCheckStartsWith",(e,t)=>{r7.init(e,t);let r=RegExp(`^${ti(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),n_=eP("$ZodCheckEndsWith",(e,t)=>{r7.init(e,t);let r=RegExp(`.*${ti(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{let t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function nb(e,t,r){e.issues.length&&t.issues.push(...tv(r,e.issues))}let nv=eP("$ZodCheckProperty",(e,t)=>{r7.init(e,t),e._zod.check=e=>{let r=t.schema._zod.run({value:e.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(r=>nb(r,e,t.property));nb(r,e,t.property)}}),nE=eP("$ZodCheckMimeType",(e,t)=>{r7.init(e,t);let r=new Set(t.mime);e._zod.onattach.push(e=>{e._zod.bag.mime=t.mime}),e._zod.check=n=>{r.has(n.value.type)||n.issues.push({code:"invalid_value",values:t.mime,input:n.value.type,inst:e,continue:!t.abort})}}),nS=eP("$ZodCheckOverwrite",(e,t)=>{r7.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});e.s(["Doc",()=>nw],58078);class nw{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e){e(this,{execution:"sync"}),e(this,{execution:"async"});return}let t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length));for(let e of t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e))this.content.push(e)}compile(){return Function(...this?.args,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}e.s(["version",()=>nR],20101);let nR={major:4,minor:1,patch:12},nO=eP("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=nR;let n=[...e._zod.def.checks??[]];for(let t of(e._zod.traits.has("$ZodCheck")&&n.unshift(e),n))for(let r of t._zod.onattach)r(e);if(0===n.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{let t=(e,t,r)=>{let n,i=tb(e);for(let s of t){if(s._zod.def.when){if(!s._zod.def.when(e))continue}else if(i)continue;let t=e.issues.length,a=s._zod.check(e);if(a instanceof Promise&&r?.async===!1)throw new eD;if(n||a instanceof Promise)n=(n??Promise.resolve()).then(async()=>{await a,e.issues.length!==t&&(i||(i=tb(e,t)))});else{if(e.issues.length===t)continue;i||(i=tb(e,t))}}return n?n.then(()=>e):e},r=(r,i,s)=>{if(tb(r))return r.aborted=!0,r;let a=t(i,n,s);if(a instanceof Promise){if(!1===s.async)throw new eD;return a.then(t=>e._zod.parse(t,s))}return e._zod.parse(a,s)};e._zod.run=(i,s)=>{if(s.skipChecks)return e._zod.parse(i,s);if("backward"===s.direction){let t=e._zod.parse({value:i.value,issues:[]},{...s,skipChecks:!0});return t instanceof Promise?t.then(e=>r(e,i,s)):r(t,i,s)}let a=e._zod.parse(i,s);if(a instanceof Promise){if(!1===s.async)throw new eD;return a.then(e=>t(e,n,s))}return t(a,n,s)}}e["~standard"]={validate:t=>{try{let r=tG(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return tZ(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),nA=eP("$ZodString",(e,t)=>{nO.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??rM(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch(e){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),nT=eP("$ZodStringFormat",(e,t)=>{np.init(e,t),nA.init(e,t)}),nI=eP("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=rc),nT.init(e,t)}),nC=eP("$ZodUUID",(e,t)=>{if(t.version){let e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=rd(e))}else t.pattern??(t.pattern=rd());nT.init(e,t)}),nN=eP("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=rm),nT.init(e,t)}),nP=eP("$ZodURL",(e,t)=>{nT.init(e,t),e._zod.check=r=>{try{let n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:rI.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch(n){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),nx=eP("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=rE()),nT.init(e,t)}),nD=eP("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=ro),nT.init(e,t)}),nk=eP("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=rr),nT.init(e,t)}),nL=eP("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=rn),nT.init(e,t)}),nM=eP("$ZodULID",(e,t)=>{t.pattern??(t.pattern=ri),nT.init(e,t)}),n$=eP("$ZodXID",(e,t)=>{t.pattern??(t.pattern=rs),nT.init(e,t)}),nU=eP("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=ra),nT.init(e,t)}),nj=eP("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=rL(t)),nT.init(e,t)}),nB=eP("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=rx),nT.init(e,t)}),nz=eP("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=rk(t)),nT.init(e,t)}),nq=eP("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=ru),nT.init(e,t)}),nK=eP("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=rS),nT.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),nF=eP("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=rw),nT.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),nY=eP("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=rR),nT.init(e,t)}),nV=eP("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=rO),nT.init(e,t),e._zod.check=r=>{let n=r.value.split("/");try{if(2!==n.length)throw Error();let[e,t]=n;if(!t)throw Error();let r=Number(t);if(`${r}`!==t||r<0||r>128)throw Error();new URL(`http://[${e}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function nG(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}let nH=eP("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=rA),nT.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{nG(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function nZ(e){if(!rT.test(e))return!1;let t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return nG(t.padEnd(4*Math.ceil(t.length/4),"="))}let nW=eP("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=rT),nT.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{nZ(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),nQ=eP("$ZodE164",(e,t)=>{t.pattern??(t.pattern=rN),nT.init(e,t)});function nX(e,t=null){try{let r=e.split(".");if(3!==r.length)return!1;let[n]=r;if(!n)return!1;let i=JSON.parse(atob(n));if("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))return!1;return!0}catch{return!1}}let nJ=eP("$ZodJWT",(e,t)=>{nT.init(e,t),e._zod.check=r=>{nX(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),n0=eP("$ZodCustomStringFormat",(e,t)=>{nT.init(e,t),e._zod.check=r=>{t.fn(r.value)||r.issues.push({code:"invalid_format",format:t.format,input:r.value,inst:e,continue:!t.abort})}}),n1=eP("$ZodNumber",(e,t)=>{nO.init(e,t),e._zod.pattern=e._zod.bag.pattern??rj,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch(e){}let i=r.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return r;let s="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),r}}),n4=eP("$ZodNumber",(e,t)=>{ni.init(e,t),n1.init(e,t)}),n2=eP("$ZodBoolean",(e,t)=>{nO.init(e,t),e._zod.pattern=rB,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch(e){}let i=r.value;return"boolean"==typeof i||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),r}}),n6=eP("$ZodBigInt",(e,t)=>{nO.init(e,t),e._zod.pattern=r$,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=BigInt(r.value)}catch(e){}return"bigint"==typeof r.value||r.issues.push({expected:"bigint",code:"invalid_type",input:r.value,inst:e}),r}}),n3=eP("$ZodBigInt",(e,t)=>{ns.init(e,t),n6.init(e,t)}),n8=eP("$ZodSymbol",(e,t)=>{nO.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return"symbol"==typeof n||t.issues.push({expected:"symbol",code:"invalid_type",input:n,inst:e}),t}}),n5=eP("$ZodUndefined",(e,t)=>{nO.init(e,t),e._zod.pattern=rq,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"undefined",code:"invalid_type",input:n,inst:e}),t}}),n9=eP("$ZodNull",(e,t)=>{nO.init(e,t),e._zod.pattern=rz,e._zod.values=new Set([null]),e._zod.parse=(t,r)=>{let n=t.value;return null===n||t.issues.push({expected:"null",code:"invalid_type",input:n,inst:e}),t}}),n7=eP("$ZodAny",(e,t)=>{nO.init(e,t),e._zod.parse=e=>e}),ie=eP("$ZodUnknown",(e,t)=>{nO.init(e,t),e._zod.parse=e=>e}),it=eP("$ZodNever",(e,t)=>{nO.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}),ir=eP("$ZodVoid",(e,t)=>{nO.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return void 0===n||t.issues.push({expected:"void",code:"invalid_type",input:n,inst:e}),t}}),ii=eP("$ZodDate",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=new Date(r.value)}catch(e){}let i=r.value,s=i instanceof Date;return s&&!Number.isNaN(i.getTime())||r.issues.push({expected:"date",code:"invalid_type",input:i,...s?{received:"Invalid Date"}:{},inst:e}),r}});function is(e,t,r){e.issues.length&&t.issues.push(...tv(r,e.issues)),t.value[r]=e.value}let ia=eP("$ZodArray",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);let s=[];for(let e=0;e<i.length;e++){let a=i[e],o=t.element._zod.run({value:a,issues:[]},n);o instanceof Promise?s.push(o.then(t=>is(t,r,e))):is(o,r,e)}return s.length?Promise.all(s).then(()=>r):r}});function io(e,t,r,n){e.issues.length&&t.issues.push(...tv(r,e.issues)),void 0===e.value?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function iu(e){let t=Object.keys(e.shape);for(let r of t)if(!e.shape?.[r]?._zod?.traits?.has("$ZodType"))throw Error(`Invalid element at key "${r}": expected a Zod schema`);let r=tl(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function il(e,t,r,n,i,s){let a=[],o=i.keySet,u=i.catchall._zod,l=u.def.type;for(let i of Object.keys(t)){if(o.has(i))continue;if("never"===l){a.push(i);continue}let s=u.run({value:t[i],issues:[]},n);s instanceof Promise?e.push(s.then(e=>io(e,r,i,t))):io(s,r,i,t)}return(a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:s}),e.length)?Promise.all(e).then(()=>r):r}let ic=eP("$ZodObject",(e,t)=>{let r;nO.init(e,t);let n=Object.getOwnPropertyDescriptor(t,"shape");if(!n?.get){let e=t.shape;Object.defineProperty(t,"shape",{get:()=>{let r={...e};return Object.defineProperty(t,"shape",{value:r}),r}})}let i=eY(()=>iu(t));eW(e._zod,"propValues",()=>{let e=t.shape,r={};for(let t in e){let n=e[t]._zod;if(n.values)for(let e of(r[t]??(r[t]=new Set),n.values))r[t].add(e)}return r});let s=t.catchall;e._zod.parse=(t,n)=>{r??(r=i.value);let a=t.value;if(!e8(a))return t.issues.push({expected:"object",code:"invalid_type",input:a,inst:e}),t;t.value={};let o=[],u=r.shape;for(let e of r.keys){let r=u[e]._zod.run({value:a[e],issues:[]},n);r instanceof Promise?o.push(r.then(r=>io(r,t,e,a))):io(r,t,e,a)}return s?il(o,a,t,n,i.value,e):o.length?Promise.all(o).then(()=>t):t}}),id=eP("$ZodObjectJIT",(e,t)=>{let r,n;ic.init(e,t);let i=e._zod.parse,s=eY(()=>iu(t)),a=!eL.jitless,o=a&&e5.value,u=t.catchall;e._zod.parse=(l,c)=>{n??(n=s.value);let d=l.value;return e8(d)?a&&o&&c?.async===!1&&!0!==c.jitless?(r||(r=(e=>{let t=new nw(["shape","payload","ctx"]),r=s.value,n=e=>{let t=e6(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");let i=Object.create(null),a=0;for(let e of r.keys)i[e]=`key_${a++}`;for(let e of(t.write("const newResult = {};"),r.keys)){let r=i[e],s=e6(e);t.write(`const ${r} = ${n(e)};`),t.write(`
        if (${r}.issues.length) {
          payload.issues = payload.issues.concat(${r}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${s}, ...iss.path] : [${s}]
          })));
        }
        
        
        if (${r}.value === undefined) {
          if (${s} in input) {
            newResult[${s}] = undefined;
          }
        } else {
          newResult[${s}] = ${r}.value;
        }
        
      `)}t.write("payload.value = newResult;"),t.write("return payload;");let o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),l=r(l,c),u)?il([],d,l,c,n,e):l:i(l,c):(l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l)}});function ip(e,t,r,n){for(let r of e)if(0===r.issues.length)return t.value=r.value,t;let i=e.filter(e=>!tb(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>tS(e,n,eM())))}),t)}let ih=eP("$ZodUnion",(e,t)=>{nO.init(e,t),eW(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),eW(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),eW(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),eW(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){let e=t.options.map(e=>e._zod.pattern);return RegExp(`^(${e.map(e=>eG(e.source)).join("|")})$`)}});let r=1===t.options.length,n=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(r)return n(i,s);let a=!1,o=[];for(let e of t.options){let t=e._zod.run({value:i.value,issues:[]},s);if(t instanceof Promise)o.push(t),a=!0;else{if(0===t.issues.length)return t;o.push(t)}}return a?Promise.all(o).then(t=>ip(t,i,e,s)):ip(o,i,e,s)}}),im=eP("$ZodDiscriminatedUnion",(e,t)=>{ih.init(e,t);let r=e._zod.parse;eW(e._zod,"propValues",()=>{let e={};for(let r of t.options){let n=r._zod.propValues;if(!n||0===Object.keys(n).length)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(let[t,r]of Object.entries(n))for(let n of(e[t]||(e[t]=new Set),r))e[t].add(n)}return e});let n=eY(()=>{let e=t.options,r=new Map;for(let n of e){let e=n._zod.propValues?.[t.discriminator];if(!e||0===e.size)throw Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(let t of e){if(r.has(t))throw Error(`Duplicate discriminator value "${String(t)}"`);r.set(t,n)}}return r});e._zod.parse=(i,s)=>{let a=i.value;if(!e8(a))return i.issues.push({code:"invalid_type",expected:"object",input:a,inst:e}),i;let o=n.value.get(a?.[t.discriminator]);return o?o._zod.run(i,s):t.unionFallback?r(i,s):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:a,path:[t.discriminator],inst:e}),i)}}),ig=eP("$ZodIntersection",(e,t)=>{nO.init(e,t),e._zod.parse=(e,r)=>{let n=e.value,i=t.left._zod.run({value:n,issues:[]},r),s=t.right._zod.run({value:n,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([t,r])=>iy(e,t,r)):iy(e,i,s)}});function iy(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),tb(e))return e;let n=function e(t,r){if(t===r||t instanceof Date&&r instanceof Date&&+t==+r)return{valid:!0,data:t};if(e9(t)&&e9(r)){let n=Object.keys(r),i=Object.keys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};s[n]=i.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(r)){if(t.length!==r.length)return{valid:!1,mergeErrorPath:[]};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}(t.value,r.value);if(!n.valid)throw Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}let i_=eP("$ZodTuple",(e,t)=>{nO.init(e,t);let r=t.items,n=r.length-[...r].reverse().findIndex(e=>"optional"!==e._zod.optin);e._zod.parse=(i,s)=>{let a=i.value;if(!Array.isArray(a))return i.issues.push({input:a,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];let o=[];if(!t.rest){let t=a.length>r.length,s=a.length<n-1;if(t||s)return i.issues.push({...t?{code:"too_big",maximum:r.length}:{code:"too_small",minimum:r.length},input:a,inst:e,origin:"array"}),i}let u=-1;for(let e of r){if(++u>=a.length&&u>=n)continue;let t=e._zod.run({value:a[u],issues:[]},s);t instanceof Promise?o.push(t.then(e=>ib(e,i,u))):ib(t,i,u)}if(t.rest)for(let e of a.slice(r.length)){u++;let r=t.rest._zod.run({value:e,issues:[]},s);r instanceof Promise?o.push(r.then(e=>ib(e,i,u))):ib(r,i,u)}return o.length?Promise.all(o).then(()=>i):i}});function ib(e,t,r){e.issues.length&&t.issues.push(...tv(r,e.issues)),t.value[r]=e.value}let iv=eP("$ZodRecord",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!e9(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),r;let s=[];if(t.keyType._zod.values){let a,o=t.keyType._zod.values;for(let e of(r.value={},o))if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){let a=t.valueType._zod.run({value:i[e],issues:[]},n);a instanceof Promise?s.push(a.then(t=>{t.issues.length&&r.issues.push(...tv(e,t.issues)),r.value[e]=t.value})):(a.issues.length&&r.issues.push(...tv(e,a.issues)),r.value[e]=a.value)}for(let e in i)o.has(e)||(a=a??[]).push(e);a&&a.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else for(let a of(r.value={},Reflect.ownKeys(i))){if("__proto__"===a)continue;let o=t.keyType._zod.run({value:a,issues:[]},n);if(o instanceof Promise)throw Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>tS(e,n,eM())),input:a,path:[a],inst:e}),r.value[o.value]=o.value;continue}let u=t.valueType._zod.run({value:i[a],issues:[]},n);u instanceof Promise?s.push(u.then(e=>{e.issues.length&&r.issues.push(...tv(a,e.issues)),r.value[o.value]=e.value})):(u.issues.length&&r.issues.push(...tv(a,u.issues)),r.value[o.value]=u.value)}return s.length?Promise.all(s).then(()=>r):r}}),iE=eP("$ZodMap",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Map))return r.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),r;let s=[];for(let[a,o]of(r.value=new Map,i)){let u=t.keyType._zod.run({value:a,issues:[]},n),l=t.valueType._zod.run({value:o,issues:[]},n);u instanceof Promise||l instanceof Promise?s.push(Promise.all([u,l]).then(([t,s])=>{iS(t,s,r,a,i,e,n)})):iS(u,l,r,a,i,e,n)}return s.length?Promise.all(s).then(()=>r):r}});function iS(e,t,r,n,i,s,a){e.issues.length&&(tr.has(typeof n)?r.issues.push(...tv(n,e.issues)):r.issues.push({code:"invalid_key",origin:"map",input:i,inst:s,issues:e.issues.map(e=>tS(e,a,eM()))})),t.issues.length&&(tr.has(typeof n)?r.issues.push(...tv(n,t.issues)):r.issues.push({origin:"map",code:"invalid_element",input:i,inst:s,key:n,issues:t.issues.map(e=>tS(e,a,eM()))})),r.value.set(e.value,t.value)}let iw=eP("$ZodSet",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{let i=r.value;if(!(i instanceof Set))return r.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),r;let s=[];for(let e of(r.value=new Set,i)){let i=t.valueType._zod.run({value:e,issues:[]},n);i instanceof Promise?s.push(i.then(e=>iR(e,r))):iR(i,r)}return s.length?Promise.all(s).then(()=>r):r}});function iR(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}let iO=eP("$ZodEnum",(e,t)=>{nO.init(e,t);let r=eq(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=RegExp(`^(${r.filter(e=>tr.has(typeof e)).map(e=>"string"==typeof e?ti(e):e.toString()).join("|")})$`),e._zod.parse=(t,i)=>{let s=t.value;return n.has(s)||t.issues.push({code:"invalid_value",values:r,input:s,inst:e}),t}}),iA=eP("$ZodLiteral",(e,t)=>{if(nO.init(e,t),0===t.values.length)throw Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=RegExp(`^(${t.values.map(e=>"string"==typeof e?ti(e):e?ti(e.toString()):String(e)).join("|")})$`),e._zod.parse=(r,n)=>{let i=r.value;return e._zod.values.has(i)||r.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),r}}),iT=eP("$ZodFile",(e,t)=>{nO.init(e,t),e._zod.parse=(t,r)=>{let n=t.value;return n instanceof File||t.issues.push({expected:"file",code:"invalid_type",input:n,inst:e}),t}}),iI=eP("$ZodTransform",(e,t)=>{nO.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new ek(e.constructor.name);let i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(r.value=e,r));if(i instanceof Promise)throw new eD;return r.value=i,r}});function iC(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}let iN=eP("$ZodOptional",(e,t)=>{nO.init(e,t),e._zod.optin="optional",e._zod.optout="optional",eW(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),eW(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eG(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>iC(t,e.value)):iC(n,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),iP=eP("$ZodNullable",(e,t)=>{nO.init(e,t),eW(e._zod,"optin",()=>t.innerType._zod.optin),eW(e._zod,"optout",()=>t.innerType._zod.optout),eW(e._zod,"pattern",()=>{let e=t.innerType._zod.pattern;return e?RegExp(`^(${eG(e.source)}|null)$`):void 0}),eW(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),ix=eP("$ZodDefault",(e,t)=>{nO.init(e,t),e._zod.optin="optional",eW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);if(void 0===e.value)return e.value=t.defaultValue,e;let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(e=>iD(e,t)):iD(n,t)}});function iD(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}let ik=eP("$ZodPrefault",(e,t)=>{nO.init(e,t),e._zod.optin="optional",eW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>("backward"===r.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),iL=eP("$ZodNonOptional",(e,t)=>{nO.init(e,t),eW(e._zod,"values",()=>{let e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,n)=>{let i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(t=>iM(t,e)):iM(i,e)}});function iM(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}let i$=eP("$ZodSuccess",(e,t)=>{nO.init(e,t),e._zod.parse=(e,r)=>{if("backward"===r.direction)throw new ek("ZodSuccess");let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(t=>(e.value=0===t.issues.length,e)):(e.value=0===n.issues.length,e)}}),iU=eP("$ZodCatch",(e,t)=>{nO.init(e,t),eW(e._zod,"optin",()=>t.innerType._zod.optin),eW(e._zod,"optout",()=>t.innerType._zod.optout),eW(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(n=>(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>tS(e,r,eM()))},input:e.value}),e.issues=[]),e)):(e.value=n.value,n.issues.length&&(e.value=t.catchValue({...e,error:{issues:n.issues.map(e=>tS(e,r,eM()))},input:e.value}),e.issues=[]),e)}}),ij=eP("$ZodNaN",(e,t)=>{nO.init(e,t),e._zod.parse=(t,r)=>("number"==typeof t.value&&Number.isNaN(t.value)||t.issues.push({input:t.value,inst:e,expected:"nan",code:"invalid_type"}),t)}),iB=eP("$ZodPipe",(e,t)=>{nO.init(e,t),eW(e._zod,"values",()=>t.in._zod.values),eW(e._zod,"optin",()=>t.in._zod.optin),eW(e._zod,"optout",()=>t.out._zod.optout),eW(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("backward"===r.direction){let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>iz(e,t.in,r)):iz(n,t.in,r)}let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>iz(e,t.out,r)):iz(n,t.out,r)}});function iz(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}let iq=eP("$ZodCodec",(e,t)=>{nO.init(e,t),eW(e._zod,"values",()=>t.in._zod.values),eW(e._zod,"optin",()=>t.in._zod.optin),eW(e._zod,"optout",()=>t.out._zod.optout),eW(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{if("forward"===(r.direction||"forward")){let n=t.in._zod.run(e,r);return n instanceof Promise?n.then(e=>iK(e,t,r)):iK(n,t,r)}{let n=t.out._zod.run(e,r);return n instanceof Promise?n.then(e=>iK(e,t,r)):iK(n,t,r)}}});function iK(e,t,r){if(e.issues.length)return e.aborted=!0,e;if("forward"===(r.direction||"forward")){let n=t.transform(e.value,e);return n instanceof Promise?n.then(n=>iF(e,n,t.out,r)):iF(e,n,t.out,r)}{let n=t.reverseTransform(e.value,e);return n instanceof Promise?n.then(n=>iF(e,n,t.in,r)):iF(e,n,t.in,r)}}function iF(e,t,r,n){return e.issues.length?(e.aborted=!0,e):r._zod.run({value:t,issues:e.issues},n)}let iY=eP("$ZodReadonly",(e,t)=>{nO.init(e,t),eW(e._zod,"propValues",()=>t.innerType._zod.propValues),eW(e._zod,"values",()=>t.innerType._zod.values),eW(e._zod,"optin",()=>t.innerType._zod.optin),eW(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{if("backward"===r.direction)return t.innerType._zod.run(e,r);let n=t.innerType._zod.run(e,r);return n instanceof Promise?n.then(iV):iV(n)}});function iV(e){return e.value=Object.freeze(e.value),e}let iG=eP("$ZodTemplateLiteral",(e,t)=>{nO.init(e,t);let r=[];for(let e of t.parts)if("object"==typeof e&&null!==e){if(!e._zod.pattern)throw Error(`Invalid template literal part, no pattern found: ${[...e._zod.traits].shift()}`);let t=e._zod.pattern instanceof RegExp?e._zod.pattern.source:e._zod.pattern;if(!t)throw Error(`Invalid template literal part: ${e._zod.traits}`);let n=+!!t.startsWith("^"),i=t.endsWith("$")?t.length-1:t.length;r.push(t.slice(n,i))}else if(null===e||tn.has(typeof e))r.push(ti(`${e}`));else throw Error(`Invalid template literal part: ${e}`);e._zod.pattern=RegExp(`^${r.join("")}$`),e._zod.parse=(r,n)=>("string"!=typeof r.value?r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:t.format??"template_literal",pattern:e._zod.pattern.source})),r)}),iH=eP("$ZodFunction",(e,t)=>(nO.init(e,t),e._def=t,e._zod.def=t,e.implement=t=>{if("function"!=typeof t)throw Error("implement() must be called with a function");return function(...r){let n=Reflect.apply(t,this,e._def.input?tK(e._def.input,r):r);return e._def.output?tK(e._def.output,n):n}},e.implementAsync=t=>{if("function"!=typeof t)throw Error("implementAsync() must be called with a function");return async function(...r){let n=e._def.input?await tY(e._def.input,r):r,i=await Reflect.apply(t,this,n);return e._def.output?await tY(e._def.output,i):i}},e._zod.parse=(t,r)=>("function"!=typeof t.value?t.issues.push({code:"invalid_type",expected:"function",input:t.value,inst:e}):e._def.output&&"promise"===e._def.output._zod.def.type?t.value=e.implementAsync(t.value):t.value=e.implement(t.value),t),e.input=(...t)=>{let r=e.constructor;return new r(Array.isArray(t[0])?{type:"function",input:new i_({type:"tuple",items:t[0],rest:t[1]}),output:e._def.output}:{type:"function",input:t[0],output:e._def.output})},e.output=t=>new e.constructor({type:"function",input:e._def.input,output:t}),e)),iZ=eP("$ZodPromise",(e,t)=>{nO.init(e,t),e._zod.parse=(e,r)=>Promise.resolve(e.value).then(e=>t.innerType._zod.run({value:e,issues:[]},r))}),iW=eP("$ZodLazy",(e,t)=>{nO.init(e,t),eW(e._zod,"innerType",()=>t.getter()),eW(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),eW(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),eW(e._zod,"optin",()=>e._zod.innerType._zod.optin??void 0),eW(e._zod,"optout",()=>e._zod.innerType._zod.optout??void 0),e._zod.parse=(t,r)=>e._zod.innerType._zod.run(t,r)}),iQ=eP("$ZodCustom",(e,t)=>{r7.init(e,t),nO.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{let n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(t=>iX(t,r,n,e));iX(i,r,n,e)}});function iX(e,t,r,n){if(!e){let e={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(e.params=n._zod.def.params),t.issues.push(tO(e))}}function iJ(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:"  ISO",time:"  ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:"   IPv4",cidrv6:"   IPv6",base64:"  base64-encoded",base64url:"  base64url-encoded",json_string:"   JSON",e164:"   E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :   ${r.expected}    ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :   ${tu(r.values[0])}`;return`  :     : ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`   :    ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  :    ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  :   ${r.origin}   ${t} ${r.minimum.toString()} ${n.unit}`;return`  :   ${r.origin}   ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :     "${r.prefix}"`;if("ends_with"===r.format)return`  :     "${r.suffix}"`;if("includes"===r.format)return`  :    "${r.includes}"`;if("regex"===r.format)return`  :     ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${eK(r.keys," ")}`;case"invalid_key":return`    ${r.origin}`;case"invalid_union":default:return"  ";case"invalid_element":return`    ${r.origin}`}}})()}}function i0(){return{localeError:(()=>{let e={string:{unit:"simvol",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"element",verb:"olmaldr"},set:{unit:"element",verb:"olmaldr"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Yanl dyr: g\xf6zlniln ${r.expected}, daxil olan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Yanl dyr: g\xf6zlniln ${tu(r.values[0])}`;return`Yanl se\xe7im: aadaklardan biri olmaldr: ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`\xc7ox b\xf6y\xfck: g\xf6zlniln ${r.origin??"dyr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ox ki\xe7ik: g\xf6zlniln ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Yanl mtn: "${r.prefix}" il balamaldr`;if("ends_with"===r.format)return`Yanl mtn: "${r.suffix}" il bitmlidir`;if("includes"===r.format)return`Yanl mtn: "${r.includes}" daxil olmaldr`;if("regex"===r.format)return`Yanl mtn: ${r.pattern} ablonuna uyun olmaldr`;return`Yanl ${t[r.format]??r.format}`;case"not_multiple_of":return`Yanl dd: ${r.divisor} il b\xf6l\xfcn biln olmaldr`;case"unrecognized_keys":return`Tannmayan a\xe7ar${r.keys.length>1?"lar":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`${r.origin} daxilind yanl a\xe7ar`;case"invalid_union":return"Yanl dyr";case"invalid_element":return`${r.origin} daxilind yanl dyr`;default:return`Yanl dyr`}}})()}}function i1(e,t,r,n){let i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?n:1===s?t:s>=2&&s<=4?r:n}function i4(){return{localeError:(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}`;return` :    ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=i1(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin??""}  ${n.verb} ${t}${r.maximum.toString()} ${e}`}return` : ,  ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=i1(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return` : ,  ${r.origin}  ${n.verb} ${t}${r.minimum.toString()} ${e}`}return` : ,  ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function i2(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}`;return` :    ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":{if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :     ${r.pattern}`;let e="";return"emoji"===r.format&&(e=""),"datetime"===r.format&&(e=""),"date"===r.format&&(e=""),"time"===r.format&&(e=""),"duration"===r.format&&(e=""),`${e} ${t[r.format]??r.format}`}case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function i6(){return{localeError:(()=>{let e={string:{unit:"carcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}},t={regex:"entrada",email:"adrea electrnica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adrea IPv4",ipv6:"adrea IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipus inv\xe0lid: s'esperava ${r.expected}, s'ha rebut ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Valor inv\xe0lid: s'esperava ${tu(r.values[0])}`;return`Opci\xf3 inv\xe0lida: s'esperava una de ${eK(r.values," o ")}`;case"too_big":{let t=r.inclusive?"com a mxim":"menys de",n=e[r.origin]??null;if(n)return`Massa gran: s'esperava que ${r.origin??"el valor"} contingu\xe9s ${t} ${r.maximum.toString()} ${n.unit??"elements"}`;return`Massa gran: s'esperava que ${r.origin??"el valor"} fos ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"com a mnim":"ms de",n=e[r.origin]??null;if(n)return`Massa petit: s'esperava que ${r.origin} contingu\xe9s ${t} ${r.minimum.toString()} ${n.unit}`;return`Massa petit: s'esperava que ${r.origin} fos ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Format inv\xe0lid: ha de comen\xe7ar amb "${r.prefix}"`;if("ends_with"===r.format)return`Format inv\xe0lid: ha d'acabar amb "${r.suffix}"`;if("includes"===r.format)return`Format inv\xe0lid: ha d'incloure "${r.includes}"`;if("regex"===r.format)return`Format inv\xe0lid: ha de coincidir amb el patr\xf3 ${r.pattern}`;return`Format inv\xe0lid per a ${t[r.format]??r.format}`;case"not_multiple_of":return`N\xfamero inv\xe0lid: ha de ser m\xfaltiple de ${r.divisor}`;case"unrecognized_keys":return`Clau${r.keys.length>1?"s":""} no reconeguda${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Clau inv\xe0lida a ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Element inv\xe0lid a ${r.origin}`;default:return`Entrada inv\xe0lida`}}})()}}function i3(){return{localeError:(()=>{let e={string:{unit:"znak",verb:"mt"},file:{unit:"bajt",verb:"mt"},array:{unit:"prvk",verb:"mt"},set:{unit:"prvk",verb:"mt"}},t={regex:"regulrn vraz",email:"e-mailov adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a as ve formtu ISO",date:"datum ve formtu ISO",time:"as ve formtu ISO",duration:"doba trvn ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"etzec zakdovan ve formtu base64",base64url:"etzec zakdovan ve formtu base64url",json_string:"etzec ve formtu JSON",e164:"slo E.164",jwt:"JWT",template_literal:"vstup"};return r=>{switch(r.code){case"invalid_type":return`Neplatn\xfd vstup: oek\xe1v\xe1no ${r.expected}, obdreno ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"slo";case"string":return"etzec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":if(Array.isArray(e))return"pole";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neplatn\xfd vstup: oek\xe1v\xe1no ${tu(r.values[0])}`;return`Neplatn\xe1 monost: oek\xe1v\xe1na jedna z hodnot ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.maximum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli velk\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed m\xedt ${t}${r.minimum.toString()} ${n.unit??"prvk"}`;return`Hodnota je p\xedli mal\xe1: ${r.origin??"hodnota"} mus\xed b\xfdt ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neplatn\xfd etzec: mus\xed za\xednat na "${r.prefix}"`;if("ends_with"===r.format)return`Neplatn\xfd etzec: mus\xed konit na "${r.suffix}"`;if("includes"===r.format)return`Neplatn\xfd etzec: mus\xed obsahovat "${r.includes}"`;if("regex"===r.format)return`Neplatn\xfd etzec: mus\xed odpov\xeddat vzoru ${r.pattern}`;return`Neplatn\xfd form\xe1t ${t[r.format]??r.format}`;case"not_multiple_of":return`Neplatn\xe9 \xedslo: mus\xed b\xfdt n\xe1sobkem ${r.divisor}`;case"unrecognized_keys":return`Nezn\xe1m\xe9 kl\xede: ${eK(r.keys,", ")}`;case"invalid_key":return`Neplatn\xfd kl\xed v ${r.origin}`;case"invalid_union":return"Neplatn vstup";case"invalid_element":return`Neplatn\xe1 hodnota v ${r.origin}`;default:return`Neplatn\xfd vstup`}}})()}}function i8(){return{localeError:(()=>{let e={string:{unit:"tegn",verb:"havde"},file:{unit:"bytes",verb:"havde"},array:{unit:"elementer",verb:"indeholdt"},set:{unit:"elementer",verb:"indeholdt"}},t={string:"streng",number:"tal",boolean:"boolean",array:"liste",object:"objekt",set:"st",file:"fil"},r={regex:"input",email:"e-mailadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslt",date:"ISO-dato",time:"ISO-klokkeslt",duration:"ISO-varighed",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodet streng",base64url:"base64url-kodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return n=>{var i,s,a,o;switch(n.code){case"invalid_type":return`Ugyldigt input: forventede ${t[i=n.expected]??i}, fik ${t[s=(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tal";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name;return"objekt"}return t})(n.input)]??s}`;case"invalid_value":if(1===n.values.length)return`Ugyldig v\xe6rdi: forventede ${tu(n.values[0])}`;return`Ugyldigt valg: forventede en af f\xf8lgende ${eK(n.values,"|")}`;case"too_big":{let r=n.inclusive?"<=":"<",i=e[n.origin]??null,s=t[a=n.origin]??a;if(i)return`For stor: forventede ${s??"value"} ${i.verb} ${r} ${n.maximum.toString()} ${i.unit??"elementer"}`;return`For stor: forventede ${s??"value"} havde ${r} ${n.maximum.toString()}`}case"too_small":{let r=n.inclusive?">=":">",i=e[n.origin]??null,s=t[o=n.origin]??o;if(i)return`For lille: forventede ${s} ${i.verb} ${r} ${n.minimum.toString()} ${i.unit}`;return`For lille: forventede ${s} havde ${r} ${n.minimum.toString()}`}case"invalid_format":if("starts_with"===n.format)return`Ugyldig streng: skal starte med "${n.prefix}"`;if("ends_with"===n.format)return`Ugyldig streng: skal ende med "${n.suffix}"`;if("includes"===n.format)return`Ugyldig streng: skal indeholde "${n.includes}"`;if("regex"===n.format)return`Ugyldig streng: skal matche m\xf8nsteret ${n.pattern}`;return`Ugyldig ${r[n.format]??n.format}`;case"not_multiple_of":return`Ugyldigt tal: skal v\xe6re deleligt med ${n.divisor}`;case"unrecognized_keys":return`${n.keys.length>1?"Ukendte ngler":"Ukendt ngle"}: ${eK(n.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8gle i ${n.origin}`;case"invalid_union":return"Ugyldigt input: matcher ingen af de tilladte typer";case"invalid_element":return`Ugyldig v\xe6rdi i ${n.origin}`;default:return"Ugyldigt input"}}})()}}function i5(){return{localeError:(()=>{let e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}},t={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return r=>{switch(r.code){case"invalid_type":return`Ung\xfcltige Eingabe: erwartet ${r.expected}, erhalten ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"Zahl";case"object":if(Array.isArray(e))return"Array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ung\xfcltige Eingabe: erwartet ${tu(r.values[0])}`;return`Ung\xfcltige Option: erwartet eine von ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ${n.unit??"Elemente"} hat`;return`Zu gro\xdf: erwartet, dass ${r.origin??"Wert"} ${t}${r.maximum.toString()} ist`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ${n.unit} hat`;return`Zu klein: erwartet, dass ${r.origin} ${t}${r.minimum.toString()} ist`}case"invalid_format":if("starts_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ung\xfcltiger String: muss mit "${r.suffix}" enden`;if("includes"===r.format)return`Ung\xfcltiger String: muss "${r.includes}" enthalten`;if("regex"===r.format)return`Ung\xfcltiger String: muss dem Muster ${r.pattern} entsprechen`;return`Ung\xfcltig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ung\xfcltige Zahl: muss ein Vielfaches von ${r.divisor} sein`;case"unrecognized_keys":return`${r.keys.length>1?"Unbekannte Schlssel":"Unbekannter Schlssel"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Ung\xfcltiger Schl\xfcssel in ${r.origin}`;case"invalid_union":return"Ungltige Eingabe";case"invalid_element":return`Ung\xfcltiger Wert in ${r.origin}`;default:return`Ung\xfcltige Eingabe`}}})()}}function i9(){return{localeError:(()=>{let e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}},t={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${tu(r.values[0])}`;return`Invalid option: expected one of ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Too big: expected ${r.origin??"value"} to have ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return`Too big: expected ${r.origin??"value"} to be ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Too small: expected ${r.origin} to have ${t}${r.minimum.toString()} ${n.unit}`;return`Too small: expected ${r.origin} to be ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Invalid string: must start with "${r.prefix}"`;if("ends_with"===r.format)return`Invalid string: must end with "${r.suffix}"`;if("includes"===r.format)return`Invalid string: must include "${r.includes}"`;if("regex"===r.format)return`Invalid string: must match pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":default:return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`}}})()}}function i7(){return{localeError:(()=>{let e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}},t={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiis ${r.expected}, riceviis ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":if(Array.isArray(e))return"tabelo";if(null===e)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nevalida enigo: atendiis ${tu(r.values[0])}`;return`Nevalida opcio: atendiis unu el ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()} ${n.unit??"elementojn"}`;return`Tro granda: atendiis ke ${r.origin??"valoro"} havu ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Tro malgranda: atendiis ke ${r.origin} havu ${t}${r.minimum.toString()} ${n.unit}`;return`Tro malgranda: atendiis ke ${r.origin} estu ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nevalida karaktraro: devas komencii per "${r.prefix}"`;if("ends_with"===r.format)return`Nevalida karaktraro: devas finii per "${r.suffix}"`;if("includes"===r.format)return`Nevalida karaktraro: devas inkluzivi "${r.includes}"`;if("regex"===r.format)return`Nevalida karaktraro: devas kongrui kun la modelo ${r.pattern}`;return`Nevalida ${t[r.format]??r.format}`;case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} losilo${r.keys.length>1?"j":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Nevalida losilo en ${r.origin}`;case"invalid_union":default:return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`}}})()}}function se(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}},t={string:"texto",number:"nmero",boolean:"booleano",array:"arreglo",object:"objeto",set:"conjunto",file:"archivo",date:"fecha",bigint:"nmero grande",symbol:"smbolo",undefined:"indefinido",null:"nulo",function:"funcin",map:"mapa",record:"registro",tuple:"tupla",enum:"enumeracin",union:"unin",literal:"literal",promise:"promesa",void:"vaco",never:"nunca",unknown:"desconocido",any:"cualquiera"};function r(e){return t[e]??e}let n={regex:"entrada",email:"direccin de correo electrnico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duracin ISO",ipv4:"direccin IPv4",ipv6:"direccin IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return t=>{switch(t.code){case"invalid_type":return`Entrada inv\xe1lida: se esperaba ${r(t.expected)}, recibido ${r((e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype)return e.constructor.name;return"object"}return t})(t.input))}`;case"invalid_value":if(1===t.values.length)return`Entrada inv\xe1lida: se esperaba ${tu(t.values[0])}`;return`Opci\xf3n inv\xe1lida: se esperaba una de ${eK(t.values,"|")}`;case"too_big":{let n=t.inclusive?"<=":"<",i=e[t.origin]??null,s=r(t.origin);if(i)return`Demasiado grande: se esperaba que ${s??"valor"} tuviera ${n}${t.maximum.toString()} ${i.unit??"elementos"}`;return`Demasiado grande: se esperaba que ${s??"valor"} fuera ${n}${t.maximum.toString()}`}case"too_small":{let n=t.inclusive?">=":">",i=e[t.origin]??null,s=r(t.origin);if(i)return`Demasiado peque\xf1o: se esperaba que ${s} tuviera ${n}${t.minimum.toString()} ${i.unit}`;return`Demasiado peque\xf1o: se esperaba que ${s} fuera ${n}${t.minimum.toString()}`}case"invalid_format":if("starts_with"===t.format)return`Cadena inv\xe1lida: debe comenzar con "${t.prefix}"`;if("ends_with"===t.format)return`Cadena inv\xe1lida: debe terminar en "${t.suffix}"`;if("includes"===t.format)return`Cadena inv\xe1lida: debe incluir "${t.includes}"`;if("regex"===t.format)return`Cadena inv\xe1lida: debe coincidir con el patr\xf3n ${t.pattern}`;return`Inv\xe1lido ${n[t.format]??t.format}`;case"not_multiple_of":return`N\xfamero inv\xe1lido: debe ser m\xfaltiplo de ${t.divisor}`;case"unrecognized_keys":return`Llave${t.keys.length>1?"s":""} desconocida${t.keys.length>1?"s":""}: ${eK(t.keys,", ")}`;case"invalid_key":return`Llave inv\xe1lida en ${r(t.origin)}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido en ${r(t.origin)}`;default:return`Entrada inv\xe1lida`}}})()}}function st(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ",date:" ",time:" ",duration:"  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])} `;return` :    ${eK(r.values,"|")} `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"  `;if("ends_with"===r.format)return` :   "${r.suffix}"  `;if("includes"===r.format)return` :   "${r.includes}" `;if("regex"===r.format)return` :    ${r.pattern}   `;return`${t[r.format]??r.format} `;case"not_multiple_of":return` :   ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""} : ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin}`}}})()}}function sr(){return{localeError:(()=>{let e={string:{unit:"merkki",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"pivmrn"}},t={regex:"snnllinen lauseke",email:"shkpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-pivmr",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return r=>{switch(r.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${r.expected}, oli ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Virheellinen sy\xf6te: t\xe4ytyy olla ${tu(r.values[0])}`;return`Virheellinen valinta: t\xe4ytyy olla yksi seuraavista: ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Liian suuri: ${n.subject} t\xe4ytyy olla ${t}${r.maximum.toString()} ${n.unit}`.trim();return`Liian suuri: arvon t\xe4ytyy olla ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Liian pieni: ${n.subject} t\xe4ytyy olla ${t}${r.minimum.toString()} ${n.unit}`.trim();return`Liian pieni: arvon t\xe4ytyy olla ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy alkaa "${r.prefix}"`;if("ends_with"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy loppua "${r.suffix}"`;if("includes"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy sis\xe4lt\xe4\xe4 "${r.includes}"`;if("regex"===r.format)return`Virheellinen sy\xf6te: t\xe4ytyy vastata s\xe4\xe4nn\xf6llist\xe4 lauseketta ${r.pattern}`;return`Virheellinen ${t[r.format]??r.format}`;case"not_multiple_of":return`Virheellinen luku: t\xe4ytyy olla luvun ${r.divisor} monikerta`;case"unrecognized_keys":return`${r.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${eK(r.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return`Virheellinen sy\xf6te`}}})()}}function sn(){return{localeError:(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : ${r.expected} attendu, ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombre";case"object":if(Array.isArray(e))return"tableau";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} re\xe7u`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : ${tu(r.values[0])} attendu`;return`Option invalide : une valeur parmi ${eK(r.values,"|")} attendue`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Trop grand : ${r.origin??"valeur"} doit ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"lment(s)"}`;return`Trop grand : ${r.origin??"valeur"} doit \xeatre ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Trop petit : ${r.origin} doit ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : ${r.origin} doit \xeatre ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au mod\xe8le ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${eK(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}}})()}}function si(){return{localeError:(()=>{let e={string:{unit:"caractres",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"lments",verb:"avoir"},set:{unit:"lments",verb:"avoir"}},t={regex:"entre",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"dure ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chane encode en base64",base64url:"chane encode en base64url",json_string:"chane JSON",e164:"numro E.164",jwt:"JWT",template_literal:"entre"};return r=>{switch(r.code){case"invalid_type":return`Entr\xe9e invalide : attendu ${r.expected}, re\xe7u ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entr\xe9e invalide : attendu ${tu(r.values[0])}`;return`Option invalide : attendu l'une des valeurs suivantes ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"<",n=e[r.origin]??null;if(n)return`Trop grand : attendu que ${r.origin??"la valeur"} ait ${t}${r.maximum.toString()} ${n.unit}`;return`Trop grand : attendu que ${r.origin??"la valeur"} soit ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":">",n=e[r.origin]??null;if(n)return`Trop petit : attendu que ${r.origin} ait ${t}${r.minimum.toString()} ${n.unit}`;return`Trop petit : attendu que ${r.origin} soit ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Cha\xeene invalide : doit commencer par "${r.prefix}"`;if("ends_with"===r.format)return`Cha\xeene invalide : doit se terminer par "${r.suffix}"`;if("includes"===r.format)return`Cha\xeene invalide : doit inclure "${r.includes}"`;if("regex"===r.format)return`Cha\xeene invalide : doit correspondre au motif ${r.pattern}`;return`${t[r.format]??r.format} invalide`;case"not_multiple_of":return`Nombre invalide : doit \xeatre un multiple de ${r.divisor}`;case"unrecognized_keys":return`Cl\xe9${r.keys.length>1?"s":""} non reconnue${r.keys.length>1?"s":""} : ${eK(r.keys,", ")}`;case"invalid_key":return`Cl\xe9 invalide dans ${r.origin}`;case"invalid_union":return"Entre invalide";case"invalid_element":return`Valeur invalide dans ${r.origin}`;default:return`Entr\xe9e invalide`}}})()}}function ss(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:" ",url:" ",emoji:"'",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:"  ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"  64",base64url:"  64  ",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${tu(r.values[0])}`;return`  :     ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??"value"}   ${t}${r.maximum.toString()} ${n.unit??"elements"}`;return` : ${r.origin??"value"}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` : ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  :   "${r.prefix}"`;if("ends_with"===r.format)return`  :    "${r.suffix}"`;if("includes"===r.format)return`  :   "${r.includes}"`;if("regex"===r.format)return`  :    ${r.pattern}`;return`${t[r.format]??r.format}  `;case"not_multiple_of":return`  :     ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}  ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function sa(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}},t={regex:"bemenet",email:"email cm",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO idblyeg",date:"ISO dtum",time:"ISO id",duration:"ISO idintervallum",ipv4:"IPv4 cm",ipv6:"IPv6 cm",cidrv4:"IPv4 tartomny",cidrv6:"IPv6 tartomny",base64:"base64-kdolt string",base64url:"base64url-kdolt string",json_string:"JSON string",e164:"E.164 szm",jwt:"JWT",template_literal:"bemenet"};return r=>{switch(r.code){case"invalid_type":return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${r.expected}, a kapott \xe9rt\xe9k ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"szm";case"object":if(Array.isArray(e))return"tmb";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xc9rv\xe9nytelen bemenet: a v\xe1rt \xe9rt\xe9k ${tu(r.values[0])}`;return`\xc9rv\xe9nytelen opci\xf3: valamelyik \xe9rt\xe9k v\xe1rt ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xfal nagy: ${r.origin??"rtk"} m\xe9rete t\xfal nagy ${t}${r.maximum.toString()} ${n.unit??"elem"}`;return`T\xfal nagy: a bemeneti \xe9rt\xe9k ${r.origin??"rtk"} t\xfal nagy: ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} m\xe9rete t\xfal kicsi ${t}${r.minimum.toString()} ${n.unit}`;return`T\xfal kicsi: a bemeneti \xe9rt\xe9k ${r.origin} t\xfal kicsi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.prefix}" \xe9rt\xe9kkel kell kezddnie`;if("ends_with"===r.format)return`\xc9rv\xe9nytelen string: "${r.suffix}" \xe9rt\xe9kkel kell v\xe9gzdnie`;if("includes"===r.format)return`\xc9rv\xe9nytelen string: "${r.includes}" \xe9rt\xe9ket kell tartalmaznia`;if("regex"===r.format)return`\xc9rv\xe9nytelen string: ${r.pattern} mint\xe1nak kell megfelelnie`;return`\xc9rv\xe9nytelen ${t[r.format]??r.format}`;case"not_multiple_of":return`\xc9rv\xe9nytelen sz\xe1m: ${r.divisor} t\xf6bbsz\xf6r\xf6s\xe9nek kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`\xc9rv\xe9nytelen kulcs ${r.origin}`;case"invalid_union":return"rvnytelen bemenet";case"invalid_element":return`\xc9rv\xe9nytelen \xe9rt\xe9k: ${r.origin}`;default:return`\xc9rv\xe9nytelen bemenet`}}})()}}function so(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}},t={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak valid: diharapkan ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak valid: diharapkan ${tu(r.values[0])}`;return`Pilihan tidak valid: diharapkan salah satu dari ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: diharapkan ${r.origin??"value"} memiliki ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: diharapkan ${r.origin??"value"} menjadi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: diharapkan ${r.origin} memiliki ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: diharapkan ${r.origin} menjadi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak valid: harus dimulai dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak valid: harus berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak valid: harus menyertakan "${r.includes}"`;if("regex"===r.format)return`String tidak valid: harus sesuai pola ${r.pattern}`;return`${t[r.format]??r.format} tidak valid`;case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${r.origin}`;case"invalid_union":default:return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${r.origin}`}}})()}}function su(){return{localeError:(()=>{let e={string:{unit:"stafi",verb:"a hafa"},file:{unit:"bti",verb:"a hafa"},array:{unit:"hluti",verb:"a hafa"},set:{unit:"hluti",verb:"a hafa"}},t={regex:"gildi",email:"netfang",url:"vefsl",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dagsetning og tmi",date:"ISO dagsetning",time:"ISO tmi",duration:"ISO tmalengd",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded strengur",base64url:"base64url-encoded strengur",json_string:"JSON strengur",e164:"E.164 tlugildi",jwt:"JWT",template_literal:"gildi"};return r=>{switch(r.code){case"invalid_type":return`Rangt gildi: \xde\xfa sl\xf3st inn ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmer";case"object":if(Array.isArray(e))return"fylki";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)} \xfear sem \xe1 a\xf0 vera ${r.expected}`;case"invalid_value":if(1===r.values.length)return`Rangt gildi: gert r\xe1\xf0 fyrir ${tu(r.values[0])}`;return`\xd3gilt val: m\xe1 vera eitt af eftirfarandi ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} hafi ${t}${r.maximum.toString()} ${n.unit??"hluti"}`;return`Of st\xf3rt: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin??"gildi"} s\xe9 ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} hafi ${t}${r.minimum.toString()} ${n.unit}`;return`Of l\xedti\xf0: gert er r\xe1\xf0 fyrir a\xf0 ${r.origin} s\xe9 ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 byrja \xe1 "${r.prefix}"`;if("ends_with"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 enda \xe1 "${r.suffix}"`;if("includes"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 innihalda "${r.includes}"`;if("regex"===r.format)return`\xd3gildur strengur: ver\xf0ur a\xf0 fylgja mynstri ${r.pattern}`;return`Rangt ${t[r.format]??r.format}`;case"not_multiple_of":return`R\xf6ng tala: ver\xf0ur a\xf0 vera margfeldi af ${r.divisor}`;case"unrecognized_keys":return`\xd3\xfeekkt ${r.keys.length>1?"ir lyklar":"ur lykill"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Rangur lykill \xed ${r.origin}`;case"invalid_union":default:return"Rangt gildi";case"invalid_element":return`Rangt gildi \xed ${r.origin}`}}})()}}function sl(){return{localeError:(()=>{let e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}},t={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input non valido: atteso ${r.expected}, ricevuto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numero";case"object":if(Array.isArray(e))return"vettore";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input non valido: atteso ${tu(r.values[0])}`;return`Opzione non valida: atteso uno tra ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Troppo grande: ${r.origin??"valore"} deve avere ${t}${r.maximum.toString()} ${n.unit??"elementi"}`;return`Troppo grande: ${r.origin??"valore"} deve essere ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Troppo piccolo: ${r.origin} deve avere ${t}${r.minimum.toString()} ${n.unit}`;return`Troppo piccolo: ${r.origin} deve essere ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Stringa non valida: deve iniziare con "${r.prefix}"`;if("ends_with"===r.format)return`Stringa non valida: deve terminare con "${r.suffix}"`;if("includes"===r.format)return`Stringa non valida: deve includere "${r.includes}"`;if("regex"===r.format)return`Stringa non valida: deve corrispondere al pattern ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${r.divisor}`;case"unrecognized_keys":return`Chiav${r.keys.length>1?"i":"e"} non riconosciut${r.keys.length>1?"e":"a"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${r.origin}`;case"invalid_union":default:return"Input non valido";case"invalid_element":return`Valore non valido in ${r.origin}`}}})()}}function sc(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`: ${r.expected}${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`: ${tu(r.values[0])}`;return`: ${eK(r.values,"")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""}${r.maximum.toString()}${n.unit??""}${t}`;return`: ${r.origin??""}${r.maximum.toString()}${t}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin}${r.minimum.toString()}${n.unit}${t}`;return`: ${r.origin}${r.minimum.toString()}${t}`}case"invalid_format":if("starts_with"===r.format)return`: "${r.prefix}"`;if("ends_with"===r.format)return`: "${r.suffix}"`;if("includes"===r.format)return`: "${r.includes}"`;if("regex"===r.format)return`: ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return`: ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""}: ${eK(r.keys,"")}`;case"invalid_key":return`${r.origin}`;case"invalid_union":return"";case"invalid_element":return`${r.origin}`;default:return``}}})()}}function sd(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"- ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"-",date:"",time:"",duration:"",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return({string:"",boolean:"",undefined:"undefined",bigint:"bigint",symbol:"symbol",function:""})[t]??t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}`;return` :  - ${eK(r.values,"|")}-`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit}`;return` :  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` :  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"-`;if("ends_with"===r.format)return` :   "${r.suffix}"-`;if("includes"===r.format)return` :   "${r.includes}"-`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :   ${r.divisor}- `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`  ${r.origin}-`;case"invalid_union":return" ";case"invalid_element":return`  ${r.origin}-`;default:return` `}}})()}}function sp(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:" base64",base64url:" base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  ${tu(r.values[0])}`;return`  ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`  ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`  ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`  ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`  ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`  "${r.prefix}"`;if("ends_with"===r.format)return`  "${r.suffix}"`;if("includes"===r.format)return`  "${r.includes}"`;if("regex"===r.format)return`  ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return`  ${r.divisor}`;case"unrecognized_keys":return` ${eK(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":default:return``;case"invalid_element":return` ${r.origin}`}}})()}}function sf(){return sp()}function sh(){return{localeError:(()=>{let e={string:{unit:"",verb:"to have"},file:{unit:"",verb:"to have"},array:{unit:"",verb:"to have"},set:{unit:"",verb:"to have"}},t={regex:"",email:" ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64  ",base64url:"base64url  ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}  `;return` : ${eK(r.values," ")}   `;case"too_big":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,s=i?.unit??"";if(i)return`${r.origin??""}  : ${r.maximum.toString()}${s} ${t}${n}`;return`${r.origin??""}  : ${r.maximum.toString()} ${t}${n}`}case"too_small":{let t=r.inclusive?"":"",n=""===t?" ":" ",i=e[r.origin]??null,s=i?.unit??"";if(i)return`${r.origin??""}  : ${r.minimum.toString()}${s} ${t}${n}`;return`${r.origin??""}  : ${r.minimum.toString()} ${t}${n}`}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"()  `;if("ends_with"===r.format)return` : "${r.suffix}"()  `;if("includes"===r.format)return` : "${r.includes}"()  `;if("regex"===r.format)return` :  ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}  `;case"unrecognized_keys":return`   : ${eK(r.keys,", ")}`;case"invalid_key":return` : ${r.origin}`;case"invalid_union":default:return` `;case"invalid_element":return` : ${r.origin}`}}})()}}e.s([],10412);let sm=(e,t)=>{switch(e){case"number":return Number.isNaN(t)?"NaN":"skaiius";case"bigint":return"sveikasis skaiius";case"string":return"eilut";case"boolean":return"login reikm";case"undefined":case"void":return"neapibrta reikm";case"function":return"funkcija";case"symbol":return"simbolis";case"object":if(void 0===t)return"neinomas objektas";if(null===t)return"nulin reikm";if(Array.isArray(t))return"masyvas";if(Object.getPrototypeOf(t)!==Object.prototype&&t.constructor)return t.constructor.name;return"objektas";case"null":return"nulin reikm"}return e},sg=e=>e.charAt(0).toUpperCase()+e.slice(1);function sy(e){let t=Math.abs(e),r=t%10,n=t%100;return n>=11&&n<=19||0===r?"many":1===r?"one":"few"}function s_(){return{localeError:(()=>{let e={string:{unit:{one:"simbolis",few:"simboliai",many:"simboli"},verb:{smaller:{inclusive:"turi bti ne ilgesn kaip",notInclusive:"turi bti trumpesn kaip"},bigger:{inclusive:"turi bti ne trumpesn kaip",notInclusive:"turi bti ilgesn kaip"}}},file:{unit:{one:"baitas",few:"baitai",many:"bait"},verb:{smaller:{inclusive:"turi bti ne didesnis kaip",notInclusive:"turi bti maesnis kaip"},bigger:{inclusive:"turi bti ne maesnis kaip",notInclusive:"turi bti didesnis kaip"}}},array:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}},set:{unit:{one:"element",few:"elementus",many:"element"},verb:{smaller:{inclusive:"turi turti ne daugiau kaip",notInclusive:"turi turti maiau kaip"},bigger:{inclusive:"turi turti ne maiau kaip",notInclusive:"turi turti daugiau kaip"}}}};function t(t,r,n,i){let s=e[t]??null;return null===s?s:{unit:s.unit[r],verb:s.verb[i][n?"inclusive":"notInclusive"]}}let r={regex:"vestis",email:"el. pato adresas",url:"URL",emoji:"jaustukas",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO data ir laikas",date:"ISO data",time:"ISO laikas",duration:"ISO trukm",ipv4:"IPv4 adresas",ipv6:"IPv6 adresas",cidrv4:"IPv4 tinklo prefiksas (CIDR)",cidrv6:"IPv6 tinklo prefiksas (CIDR)",base64:"base64 ukoduota eilut",base64url:"base64url ukoduota eilut",json_string:"JSON eilut",e164:"E.164 numeris",jwt:"JWT",template_literal:"vestis"};return e=>{switch(e.code){case"invalid_type":let n;return`Gautas tipas ${sm(typeof(n=e.input),n)}, o tiktasi - ${sm(e.expected)}`;case"invalid_value":if(1===e.values.length)return`Privalo bti ${tu(e.values[0])}`;return`Privalo bti vienas i ${eK(e.values,"|")} pasirinkim`;case"too_big":{let r=sm(e.origin),n=t(e.origin,sy(Number(e.maximum)),e.inclusive??!1,"smaller");if(n?.verb)return`${sg(r??e.origin??"reikm")} ${n.verb} ${e.maximum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne didesnis kaip":"maesnis kaip";return`${sg(r??e.origin??"reikm")} turi bti ${i} ${e.maximum.toString()} ${n?.unit}`}case"too_small":{let r=sm(e.origin),n=t(e.origin,sy(Number(e.minimum)),e.inclusive??!1,"bigger");if(n?.verb)return`${sg(r??e.origin??"reikm")} ${n.verb} ${e.minimum.toString()} ${n.unit??"element"}`;let i=e.inclusive?"ne maesnis kaip":"didesnis kaip";return`${sg(r??e.origin??"reikm")} turi bti ${i} ${e.minimum.toString()} ${n?.unit}`}case"invalid_format":if("starts_with"===e.format)return`Eilut privalo prasidti "${e.prefix}"`;if("ends_with"===e.format)return`Eilut privalo pasibaigti "${e.suffix}"`;if("includes"===e.format)return`Eilut privalo traukti "${e.includes}"`;if("regex"===e.format)return`Eilut privalo atitikti ${e.pattern}`;return`Neteisingas ${r[e.format]??e.format}`;case"not_multiple_of":return`Skaiius privalo bti ${e.divisor} kartotinis.`;case"unrecognized_keys":return`Neatpaint${e.keys.length>1?"i":"as"} rakt${e.keys.length>1?"ai":"as"}: ${eK(e.keys,", ")}`;case"invalid_key":return"Rastas klaidingas raktas";case"invalid_union":default:return"Klaidinga vestis";case"invalid_element":{let t=sm(e.origin);return`${sg(t??e.origin??"reikm")} turi klaiding vest`}}}})()}}function sb(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:"  -",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64- ",base64url:"base64url- ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :   ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Invalid input: expected ${tu(r.values[0])}`;return` :    ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :   ${r.origin??""}   ${t}${r.maximum.toString()} ${n.unit??""}`;return` :   ${r.origin??""}   ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :   ${r.origin}   ${t}${r.minimum.toString()} ${n.unit}`;return` :   ${r.origin}   ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :     "${r.prefix}"`;if("ends_with"===r.format)return` :     "${r.suffix}"`;if("includes"===r.format)return` :    "${r.includes}"`;if("regex"===r.format)return` :      ${r.pattern}`;return`Invalid ${t[r.format]??r.format}`;case"not_multiple_of":return` :      ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?" ":" "}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return" ";case"invalid_element":return`   ${r.origin}`;default:return` `}}})()}}function sv(){return{localeError:(()=>{let e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}},t={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Input tidak sah: dijangka ${r.expected}, diterima ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombor";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Input tidak sah: dijangka ${tu(r.values[0])}`;return`Pilihan tidak sah: dijangka salah satu daripada ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Terlalu besar: dijangka ${r.origin??"nilai"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"elemen"}`;return`Terlalu besar: dijangka ${r.origin??"nilai"} adalah ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Terlalu kecil: dijangka ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Terlalu kecil: dijangka ${r.origin} adalah ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`String tidak sah: mesti bermula dengan "${r.prefix}"`;if("ends_with"===r.format)return`String tidak sah: mesti berakhir dengan "${r.suffix}"`;if("includes"===r.format)return`String tidak sah: mesti mengandungi "${r.includes}"`;if("regex"===r.format)return`String tidak sah: mesti sepadan dengan corak ${r.pattern}`;return`${t[r.format]??r.format} tidak sah`;case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${r.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${eK(r.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${r.origin}`;case"invalid_union":default:return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${r.origin}`}}})()}}function sE(){return{localeError:(()=>{let e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}},t={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return r=>{switch(r.code){case"invalid_type":return`Ongeldige invoer: verwacht ${r.expected}, ontving ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"getal";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ongeldige invoer: verwacht ${tu(r.values[0])}`;return`Ongeldige optie: verwacht \xe9\xe9n van ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} ${n.unit??"elementen"} bevat`;return`Te lang: verwacht dat ${r.origin??"waarde"} ${t}${r.maximum.toString()} is`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} ${n.unit} bevat`;return`Te kort: verwacht dat ${r.origin} ${t}${r.minimum.toString()} is`}case"invalid_format":if("starts_with"===r.format)return`Ongeldige tekst: moet met "${r.prefix}" beginnen`;if("ends_with"===r.format)return`Ongeldige tekst: moet op "${r.suffix}" eindigen`;if("includes"===r.format)return`Ongeldige tekst: moet "${r.includes}" bevatten`;if("regex"===r.format)return`Ongeldige tekst: moet overeenkomen met patroon ${r.pattern}`;return`Ongeldig: ${t[r.format]??r.format}`;case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${r.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${r.origin}`;case"invalid_union":default:return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${r.origin}`}}})()}}function sS(){return{localeError:(()=>{let e={string:{unit:"tegn",verb:" ha"},file:{unit:"bytes",verb:" ha"},array:{unit:"elementer",verb:" inneholde"},set:{unit:"elementer",verb:" inneholde"}},t={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-omrde",ipv6:"IPv6-omrde",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Ugyldig input: forventet ${r.expected}, fikk ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tall";case"object":if(Array.isArray(e))return"liste";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ugyldig verdi: forventet ${tu(r.values[0])}`;return`Ugyldig valg: forventet en av ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()} ${n.unit??"elementer"}`;return`For stor(t): forventet ${r.origin??"value"} til \xe5 ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()} ${n.unit}`;return`For lite(n): forventet ${r.origin} til \xe5 ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ugyldig streng: m\xe5 starte med "${r.prefix}"`;if("ends_with"===r.format)return`Ugyldig streng: m\xe5 ende med "${r.suffix}"`;if("includes"===r.format)return`Ugyldig streng: m\xe5 inneholde "${r.includes}"`;if("regex"===r.format)return`Ugyldig streng: m\xe5 matche m\xf8nsteret ${r.pattern}`;return`Ugyldig ${t[r.format]??r.format}`;case"not_multiple_of":return`Ugyldig tall: m\xe5 v\xe6re et multiplum av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Ukjente nkler":"Ukjent nkkel"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Ugyldig n\xf8kkel i ${r.origin}`;case"invalid_union":default:return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${r.origin}`}}})()}}function sw(){return{localeError:(()=>{let e={string:{unit:"harf",verb:"olmaldr"},file:{unit:"bayt",verb:"olmaldr"},array:{unit:"unsur",verb:"olmaldr"},set:{unit:"unsur",verb:"olmaldr"}},t={regex:"giren",email:"epostagh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengm",date:"ISO tarihi",time:"ISO zaman",duration:"ISO mddeti",ipv4:"IPv4 nin",ipv6:"IPv6 nin",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-ifreli metin",base64url:"base64url-ifreli metin",json_string:"JSON metin",e164:"E.164 says",jwt:"JWT",template_literal:"giren"};return r=>{switch(r.code){case"invalid_type":return`F\xe2sit giren: umulan ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"numara";case"object":if(Array.isArray(e))return"saf";if(null===e)return"gayb";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`F\xe2sit giren: umulan ${tu(r.values[0])}`;return`F\xe2sit tercih: m\xfbteberler ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} ${n.unit??"elements"} sahip olmalyd.`;return`Fazla b\xfcy\xfck: ${r.origin??"value"}, ${t}${r.maximum.toString()} olmalyd.`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} ${n.unit} sahip olmalyd.`;return`Fazla k\xfc\xe7\xfck: ${r.origin}, ${t}${r.minimum.toString()} olmalyd.`}case"invalid_format":if("starts_with"===r.format)return`F\xe2sit metin: "${r.prefix}" ile balamal.`;if("ends_with"===r.format)return`F\xe2sit metin: "${r.suffix}" ile bitmeli.`;if("includes"===r.format)return`F\xe2sit metin: "${r.includes}" ihtiv\xe2 etmeli.`;if("regex"===r.format)return`F\xe2sit metin: ${r.pattern} nakna uymal.`;return`F\xe2sit ${t[r.format]??r.format}`;case"not_multiple_of":return`F\xe2sit say: ${r.divisor} kat olmalyd.`;case"unrecognized_keys":return`Tannmayan anahtar ${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7in tannmayan anahtar var.`;case"invalid_union":return"Giren tannamad.";case"invalid_element":return`${r.origin} i\xe7in tannmayan kymet var.`;default:return`Kymet tannamad.`}}})()}}function sR(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"  ",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"  ",date:"",time:"",duration:"",ipv4:" IPv4 ",ipv6:" IPv6 ",cidrv4:" IPv4 ",cidrv6:" IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:" E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected} ,  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])} `;return` :    ${eK(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""} `;return` : ${r.origin??""}  ${t}${r.maximum.toString()} `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit} `;return` : ${r.origin}  ${t}${r.minimum.toString()} `}case"invalid_format":if("starts_with"===r.format)return` :   "${r.prefix}"   `;if("ends_with"===r.format)return` :   "${r.suffix}"    `;if("includes"===r.format)return` :  "${r.includes}" `;if("regex"===r.format)return` :   ${r.pattern}   `;return`${t[r.format]??r.format}  `;case"not_multiple_of":return` :   ${r.divisor}  `;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin} `;case"invalid_union":default:return` `;case"invalid_element":return`   ${r.origin} `}}})()}}function sO(){return{localeError:(()=>{let e={string:{unit:"znakw",verb:"mie"},file:{unit:"bajtw",verb:"mie"},array:{unit:"elementw",verb:"mie"},set:{unit:"elementw",verb:"mie"}},t={regex:"wyraenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"cig znakw zakodowany w formacie base64",base64url:"cig znakw zakodowany w formacie base64url",json_string:"cig znakw w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejcie"};return r=>{switch(r.code){case"invalid_type":return`Nieprawidowe dane wejciowe: oczekiwano ${r.expected}, otrzymano ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"liczba";case"object":if(Array.isArray(e))return"tablica";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Nieprawidowe dane wejciowe: oczekiwano ${tu(r.values[0])}`;return`Nieprawidowa opcja: oczekiwano jednej z wartoci ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Za dua warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.maximum.toString()} ${n.unit??"elementw"}`;return`Zbyt du(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Za maa warto: oczekiwano, e ${r.origin??"warto"} bdzie mie ${t}${r.minimum.toString()} ${n.unit??"elementw"}`;return`Zbyt ma(y/a/e): oczekiwano, e ${r.origin??"warto"} bdzie wynosi ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi zaczyna si od "${r.prefix}"`;if("ends_with"===r.format)return`Nieprawidowy cig znak\xf3w: musi koczy si na "${r.suffix}"`;if("includes"===r.format)return`Nieprawidowy cig znak\xf3w: musi zawiera "${r.includes}"`;if("regex"===r.format)return`Nieprawidowy cig znak\xf3w: musi odpowiada wzorcowi ${r.pattern}`;return`Nieprawidow(y/a/e) ${t[r.format]??r.format}`;case"not_multiple_of":return`Nieprawidowa liczba: musi by wielokrotnoci ${r.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Nieprawidowy klucz w ${r.origin}`;case"invalid_union":return"Nieprawidowe dane wejciowe";case"invalid_element":return`Nieprawidowa warto w ${r.origin}`;default:return`Nieprawidowe dane wejciowe`}}})()}}function sA(){return{localeError:(()=>{let e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}},t={regex:"padro",email:"endereo de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"durao ISO",ipv4:"endereo IPv4",ipv6:"endereo IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"nmero E.164",jwt:"JWT",template_literal:"entrada"};return r=>{switch(r.code){case"invalid_type":return`Tipo inv\xe1lido: esperado ${r.expected}, recebido ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmero";case"object":if(Array.isArray(e))return"array";if(null===e)return"nulo";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Entrada inv\xe1lida: esperado ${tu(r.values[0])}`;return`Op\xe7\xe3o inv\xe1lida: esperada uma das ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Muito grande: esperado que ${r.origin??"valor"} tivesse ${t}${r.maximum.toString()} ${n.unit??"elementos"}`;return`Muito grande: esperado que ${r.origin??"valor"} fosse ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Muito pequeno: esperado que ${r.origin} tivesse ${t}${r.minimum.toString()} ${n.unit}`;return`Muito pequeno: esperado que ${r.origin} fosse ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Texto inv\xe1lido: deve come\xe7ar com "${r.prefix}"`;if("ends_with"===r.format)return`Texto inv\xe1lido: deve terminar com "${r.suffix}"`;if("includes"===r.format)return`Texto inv\xe1lido: deve incluir "${r.includes}"`;if("regex"===r.format)return`Texto inv\xe1lido: deve corresponder ao padr\xe3o ${r.pattern}`;return`${t[r.format]??r.format} inv\xe1lido`;case"not_multiple_of":return`N\xfamero inv\xe1lido: deve ser m\xfaltiplo de ${r.divisor}`;case"unrecognized_keys":return`Chave${r.keys.length>1?"s":""} desconhecida${r.keys.length>1?"s":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`Chave inv\xe1lida em ${r.origin}`;case"invalid_union":return"Entrada invlida";case"invalid_element":return`Valor inv\xe1lido em ${r.origin}`;default:return`Campo inv\xe1lido`}}})()}}function sT(e,t,r,n){let i=Math.abs(e),s=i%10,a=i%100;return a>=11&&a<=19?n:1===s?t:s>=2&&s<=4?r:n}function sI(){return{localeError:(()=>{let e={string:{unit:{one:"",few:"",many:""},verb:""},file:{unit:{one:"",few:"",many:""},verb:""},array:{unit:{one:"",few:"",many:""},verb:""},set:{unit:{one:"",few:"",many:""},verb:""}},t={regex:"",email:"email ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO   ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"   base64",base64url:"   base64url",json_string:"JSON ",e164:" E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}`;return` :    ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n){let e=sT(Number(r.maximum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin??""}   ${t}${r.maximum.toString()} ${e}`}return`  : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n){let e=sT(Number(r.minimum),n.unit.one,n.unit.few,n.unit.many);return`  : ,  ${r.origin}   ${t}${r.minimum.toString()} ${e}`}return`  : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"":""} ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function sC(){return{localeError:(()=>{let e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}},t={regex:"vnos",email:"e-potni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in as",date:"ISO datum",time:"ISO as",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 tevilka",jwt:"JWT",template_literal:"vnos"};return r=>{switch(r.code){case"invalid_type":return`Neveljaven vnos: priakovano ${r.expected}, prejeto ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"tevilo";case"object":if(Array.isArray(e))return"tabela";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Neveljaven vnos: priakovano ${tu(r.values[0])}`;return`Neveljavna monost: priakovano eno izmed ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} imelo ${t}${r.maximum.toString()} ${n.unit??"elementov"}`;return`Preveliko: priakovano, da bo ${r.origin??"vrednost"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Premajhno: priakovano, da bo ${r.origin} imelo ${t}${r.minimum.toString()} ${n.unit}`;return`Premajhno: priakovano, da bo ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Neveljaven niz: mora se zaeti z "${r.prefix}"`;if("ends_with"===r.format)return`Neveljaven niz: mora se konati z "${r.suffix}"`;if("includes"===r.format)return`Neveljaven niz: mora vsebovati "${r.includes}"`;if("regex"===r.format)return`Neveljaven niz: mora ustrezati vzorcu ${r.pattern}`;return`Neveljaven ${t[r.format]??r.format}`;case"not_multiple_of":return`Neveljavno tevilo: mora biti vekratnik ${r.divisor}`;case"unrecognized_keys":return`Neprepoznan${r.keys.length>1?"i kljui":" klju"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Neveljaven klju v ${r.origin}`;case"invalid_union":default:return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${r.origin}`}}})()}}function sN(){return{localeError:(()=>{let e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehlla"},set:{unit:"objekt",verb:"att innehlla"}},t={regex:"reguljrt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad strng",base64url:"base64url-kodad strng",json_string:"JSON-strng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return r=>{switch(r.code){case"invalid_type":return`Ogiltig inmatning: f\xf6rv\xe4ntat ${r.expected}, fick ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"antal";case"object":if(Array.isArray(e))return"lista";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ogiltig inmatning: f\xf6rv\xe4ntat ${tu(r.values[0])}`;return`Ogiltigt val: f\xf6rv\xe4ntade en av ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`F\xf6r stor(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()} ${n.unit??"element"}`;return`F\xf6r stor(t): f\xf6rv\xe4ntat ${r.origin??"vrdet"} att ha ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()} ${n.unit}`;return`F\xf6r lite(t): f\xf6rv\xe4ntade ${r.origin??"vrdet"} att ha ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste b\xf6rja med "${r.prefix}"`;if("ends_with"===r.format)return`Ogiltig str\xe4ng: m\xe5ste sluta med "${r.suffix}"`;if("includes"===r.format)return`Ogiltig str\xe4ng: m\xe5ste inneh\xe5lla "${r.includes}"`;if("regex"===r.format)return`Ogiltig str\xe4ng: m\xe5ste matcha m\xf6nstret "${r.pattern}"`;return`Ogiltig(t) ${t[r.format]??r.format}`;case"not_multiple_of":return`Ogiltigt tal: m\xe5ste vara en multipel av ${r.divisor}`;case"unrecognized_keys":return`${r.keys.length>1?"Oknda nycklar":"Oknd nyckel"}: ${eK(r.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${r.origin??"vrdet"}`;case"invalid_union":default:return"Ogiltig input";case"invalid_element":return`Ogiltigt v\xe4rde i ${r.origin??"vrdet"}`}}})()}}function sP(){return{localeError:(()=>{let e={string:{unit:"",verb:" "},file:{unit:"",verb:" "},array:{unit:"",verb:" "},set:{unit:"",verb:" "}},t={regex:"",email:" ",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO  ",date:"ISO ",time:"ISO ",duration:"ISO  ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64-encoded ",base64url:"base64url-encoded ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return` :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" ":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` :  ${tu(r.values[0])}`;return` :  ${eK(r.values,"|")}  `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` :  ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}   `;return` :  ${r.origin??""} ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` :  ${r.origin} ${t}${r.minimum.toString()} ${n.unit}   `;return` :  ${r.origin} ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"   `;if("ends_with"===r.format)return` : "${r.suffix}"   `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` : ${r.pattern}   `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`  ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return" ";case"invalid_element":return`${r.origin}   `;default:return` `}}})()}}function sx(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:" ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IP  IPv4",cidrv6:" IP  IPv6",base64:" Base64",base64url:" Base64  URL",json_string:" JSON",e164:" (E.164)",jwt:" JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return`:  ${r.expected}  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?" (NaN)":"";case"object":if(Array.isArray(e))return" (Array)";if(null===e)return" (null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`:  ${tu(r.values[0])}`;return`:  ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin??""} ${t} ${r.maximum.toString()} ${n.unit??""}`;return`: ${r.origin??""} ${t} ${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?"":"",n=e[r.origin]??null;if(n)return`: ${r.origin} ${t} ${r.minimum.toString()} ${n.unit}`;return`: ${r.origin} ${t} ${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`:  "${r.prefix}"`;if("ends_with"===r.format)return`:  "${r.suffix}"`;if("includes"===r.format)return`:  "${r.includes}" `;if("regex"===r.format)return`:  ${r.pattern}`;return`: ${t[r.format]??r.format}`;case"not_multiple_of":return`:  ${r.divisor} `;case"unrecognized_keys":return`: ${eK(r.keys,", ")}`;case"invalid_key":return` ${r.origin}`;case"invalid_union":return": ";case"invalid_element":return` ${r.origin}`;default:return``}}})()}}function sD(){return{localeError:(()=>{let e={string:{unit:"karakter",verb:"olmal"},file:{unit:"bayt",verb:"olmal"},array:{unit:"e",verb:"olmal"},set:{unit:"e",verb:"olmal"}},t={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO sre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aral",cidrv6:"IPv6 aral",base64:"base64 ile ifrelenmi metin",base64url:"base64url ile ifrelenmi metin",json_string:"JSON dizesi",e164:"E.164 says",jwt:"JWT",template_literal:"ablon dizesi"};return r=>{switch(r.code){case"invalid_type":return`Ge\xe7ersiz deer: beklenen ${r.expected}, alnan ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`Ge\xe7ersiz deer: beklenen ${tu(r.values[0])}`;return`Ge\xe7ersiz se\xe7enek: aadakilerden biri olmal: ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()} ${n.unit??"e"}`;return`\xc7ok b\xfcy\xfck: beklenen ${r.origin??"deer"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return`\xc7ok k\xfc\xe7\xfck: beklenen ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Ge\xe7ersiz metin: "${r.prefix}" ile balamal`;if("ends_with"===r.format)return`Ge\xe7ersiz metin: "${r.suffix}" ile bitmeli`;if("includes"===r.format)return`Ge\xe7ersiz metin: "${r.includes}" i\xe7ermeli`;if("regex"===r.format)return`Ge\xe7ersiz metin: ${r.pattern} desenine uymal`;return`Ge\xe7ersiz ${t[r.format]??r.format}`;case"not_multiple_of":return`Ge\xe7ersiz say: ${r.divisor} ile tam b\xf6l\xfcnebilmeli`;case"unrecognized_keys":return`Tannmayan anahtar${r.keys.length>1?"lar":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`${r.origin} i\xe7inde ge\xe7ersiz anahtar`;case"invalid_union":return"Geersiz deer";case"invalid_element":return`${r.origin} i\xe7inde ge\xe7ersiz deer`;default:return`Ge\xe7ersiz deer`}}})()}}function sk(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"   ISO",date:" ISO",time:" ISO",duration:" ISO",ipv4:" IPv4",ipv6:" IPv6",cidrv4:" IPv4",cidrv6:" IPv6",base64:"   base64",base64url:"   base64url",json_string:" JSON",e164:" E.164",jwt:"JWT",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  :  ${r.expected},  ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`  :  ${tu(r.values[0])}`;return` :    ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ,  ${r.origin??""} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??""}`;return` : ,  ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ,  ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return` : ,  ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` :    "${r.prefix}"`;if("ends_with"===r.format)return` :    "${r.suffix}"`;if("includes"===r.format)return` :   "${r.includes}"`;if("regex"===r.format)return` :    ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` :    ${r.divisor}`;case"unrecognized_keys":return` ${r.keys.length>1?"":""}: ${eK(r.keys,", ")}`;case"invalid_key":return`   ${r.origin}`;case"invalid_union":return"  ";case"invalid_element":return`   ${r.origin}`;default:return`  `}}})()}}function sL(){return sk()}function sM(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:" ",email:"  ",url:"  ",emoji:"",uuid:"   ",uuidv4:"     4",uuidv6:"     6",nanoid:"  ",guid:"   ",cuid:"   ",cuid2:"    2",ulid:"   ",xid:"  ",ksuid:"    ",datetime:"    ",date:"   ",time:"   ",duration:"   ",ipv4:"   4 ",ipv6:"   6 ",cidrv4:"   4 ",cidrv6:"   6 ",base64:" 64   ",base64url:" 64      ",json_string:"    ",e164:" 164 ",jwt:"  ",template_literal:" "};return r=>{switch(r.code){case"invalid_type":return`  : ${r.expected}   ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"";case"object":if(Array.isArray(e))return"";if(null===e)return"";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}  `;case"invalid_value":if(1===r.values.length)return`  : ${tu(r.values[0])}  `;return` : ${eK(r.values,"|")}     `;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` : ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}   `;return` : ${r.origin??""}  ${t}${r.maximum.toString()}   `}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` : ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}   `;return` : ${r.origin}  ${t}${r.minimum.toString()}   `}case"invalid_format":if("starts_with"===r.format)return` : "${r.prefix}"    `;if("ends_with"===r.format)return` : "${r.suffix}"    `;if("includes"===r.format)return` : "${r.includes}"   `;if("regex"===r.format)return` :  ${r.pattern}    `;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` : ${r.divisor}    `;case"unrecognized_keys":return`   ${r.keys.length>1?"":""}: ${eK(r.keys," ")}`;case"invalid_key":return`${r.origin}   `;case"invalid_union":return"  ";case"invalid_element":return`${r.origin}   `;default:return`  `}}})()}}function s$(){return{localeError:(()=>{let e={string:{unit:"k t",verb:"c"},file:{unit:"byte",verb:"c"},array:{unit:"phn t",verb:"c"},set:{unit:"phn t",verb:"c"}},t={regex:"u vo",email:"a ch email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngy gi ISO",date:"ngy ISO",time:"gi ISO",duration:"khong thi gian ISO",ipv4:"a ch IPv4",ipv6:"a ch IPv6",cidrv4:"di IPv4",cidrv6:"di IPv6",base64:"chui m ha base64",base64url:"chui m ha base64url",json_string:"chui JSON",e164:"s E.164",jwt:"JWT",template_literal:"u vo"};return r=>{switch(r.code){case"invalid_type":return`u v\xe0o kh\xf4ng hp l: mong i ${r.expected}, nhn c ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"s";case"object":if(Array.isArray(e))return"mng";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`u v\xe0o kh\xf4ng hp l: mong i ${tu(r.values[0])}`;return`T\xf9y chn kh\xf4ng hp l: mong i mt trong c\xe1c gi\xe1 tr ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${n.verb} ${t}${r.maximum.toString()} ${n.unit??"phn t"}`;return`Qu\xe1 ln: mong i ${r.origin??"gi tr"} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`Qu\xe1 nh: mong i ${r.origin} ${n.verb} ${t}${r.minimum.toString()} ${n.unit}`;return`Qu\xe1 nh: mong i ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return`Chui kh\xf4ng hp l: phi bt u bng "${r.prefix}"`;if("ends_with"===r.format)return`Chui kh\xf4ng hp l: phi kt th\xfac bng "${r.suffix}"`;if("includes"===r.format)return`Chui kh\xf4ng hp l: phi bao gm "${r.includes}"`;if("regex"===r.format)return`Chui kh\xf4ng hp l: phi khp vi mu ${r.pattern}`;return`${t[r.format]??r.format} kh\xf4ng hp l`;case"not_multiple_of":return`S kh\xf4ng hp l: phi l\xe0 bi s ca ${r.divisor}`;case"unrecognized_keys":return`Kh\xf3a kh\xf4ng c nhn dng: ${eK(r.keys,", ")}`;case"invalid_key":return`Kh\xf3a kh\xf4ng hp l trong ${r.origin}`;case"invalid_union":return"u vo khng hp l";case"invalid_element":return`Gi\xe1 tr kh\xf4ng hp l trong ${r.origin}`;default:return`u v\xe0o kh\xf4ng hp l`}}})()}}function sU(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO",date:"ISO",time:"ISO",duration:"ISO",ipv4:"IPv4",ipv6:"IPv6",cidrv4:"IPv4",cidrv6:"IPv6",base64:"base64",base64url:"base64url",json_string:"JSON",e164:"E.164",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"(NaN)":"";case"object":if(Array.isArray(e))return"";if(null===e)return"(null)";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${tu(r.values[0])}`;return` ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""} ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""} ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin} ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin} ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return`${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`(key): ${eK(r.keys,", ")}`;case"invalid_key":return`${r.origin} (key)`;case"invalid_union":return"";case"invalid_element":return`${r.origin} (value)`;default:return``}}})()}}function sj(){return{localeError:(()=>{let e={string:{unit:"",verb:""},file:{unit:"",verb:""},array:{unit:"",verb:""},set:{unit:"",verb:""}},t={regex:"",email:"",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO ",date:"ISO ",time:"ISO ",duration:"ISO ",ipv4:"IPv4 ",ipv6:"IPv6 ",cidrv4:"IPv4 ",cidrv6:"IPv6 ",base64:"base64 ",base64url:"base64url ",json_string:"JSON ",e164:"E.164 ",jwt:"JWT",template_literal:""};return r=>{switch(r.code){case"invalid_type":return` ${r.expected} ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":if(Array.isArray(e))return"array";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return` ${tu(r.values[0])}`;return` ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return` ${r.origin??""}  ${t}${r.maximum.toString()} ${n.unit??""}`;return` ${r.origin??""}  ${t}${r.maximum.toString()}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return` ${r.origin}  ${t}${r.minimum.toString()} ${n.unit}`;return` ${r.origin}  ${t}${r.minimum.toString()}`}case"invalid_format":if("starts_with"===r.format)return` "${r.prefix}" `;if("ends_with"===r.format)return` "${r.suffix}" `;if("includes"===r.format)return` "${r.includes}"`;if("regex"===r.format)return` ${r.pattern}`;return` ${t[r.format]??r.format}`;case"not_multiple_of":return` ${r.divisor} `;case"unrecognized_keys":return`${r.keys.length>1?"":""}${eK(r.keys,"")}`;case"invalid_key":return`${r.origin} `;case"invalid_union":return"";case"invalid_element":return`${r.origin} `;default:return``}}})()}}function sB(){return{localeError:(()=>{let e={string:{unit:"mi",verb:"n"},file:{unit:"bytes",verb:"n"},array:{unit:"nkan",verb:"n"},set:{unit:"nkan",verb:"n"}},t={regex:"r bwl",email:"drs ml",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"kk ISO",date:"j ISO",time:"kk ISO",duration:"kk t p ISO",ipv4:"drs IPv4",ipv6:"drs IPv6",cidrv4:"gbgb IPv4",cidrv6:"gbgb IPv6",base64:"r t a k n base64",base64url:"r base64url",json_string:"r JSON",e164:"nmb E.164",jwt:"JWT",template_literal:"r bwl"};return r=>{switch(r.code){case"invalid_type":return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${r.expected}, \xe0m a r\xed ${(e=>{let t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nmb";case"object":if(Array.isArray(e))return"akop";if(null===e)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}return t})(r.input)}`;case"invalid_value":if(1===r.values.length)return`\xccb\xe1wl\xe9 a\xece: a n\xed l\xe1ti fi ${tu(r.values[0])}`;return`\xc0\xe0y\xe0n a\xece: yan kan l\xe1ra ${eK(r.values,"|")}`;case"too_big":{let t=r.inclusive?"<=":"<",n=e[r.origin]??null;if(n)return`T\xf3 p j\xf9: a n\xed l\xe1ti j p\xe9 ${r.origin??"iye"} ${n.verb} ${t}${r.maximum} ${n.unit}`;return`T\xf3 p j\xf9: a n\xed l\xe1ti j ${t}${r.maximum}`}case"too_small":{let t=r.inclusive?">=":">",n=e[r.origin]??null;if(n)return`K\xe9r\xe9 ju: a n\xed l\xe1ti j p\xe9 ${r.origin} ${n.verb} ${t}${r.minimum} ${n.unit}`;return`K\xe9r\xe9 ju: a n\xed l\xe1ti j ${t}${r.minimum}`}case"invalid_format":if("starts_with"===r.format)return`r a\xece: gbd br pl\xfa "${r.prefix}"`;if("ends_with"===r.format)return`r a\xece: gbd par\xed pl\xfa "${r.suffix}"`;if("includes"===r.format)return`r a\xece: gbd n\xed "${r.includes}"`;if("regex"===r.format)return`r a\xece: gbd b\xe1 \xe0pr mu ${r.pattern}`;return`A\xece: ${t[r.format]??r.format}`;case"not_multiple_of":return`Nmb\xe0 a\xece: gbd j \xe8y\xe0 p\xedp\xedn ti ${r.divisor}`;case"unrecognized_keys":return`Bt\xecn\xec \xe0\xecm: ${eK(r.keys,", ")}`;case"invalid_key":return`Bt\xecn\xec a\xece n\xedn\xfa ${r.origin}`;case"invalid_union":default:return"bwl ae";case"invalid_element":return`Iye a\xece n\xedn\xfa ${r.origin}`}}})()}}e.s(["$ZodRegistry",()=>sK,"$input",()=>sq,"$output",()=>sz,"globalRegistry",()=>sY,"registry",()=>sF],86576);let sz=Symbol("ZodOutput"),sq=Symbol("ZodInput");class sK{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){let r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){let t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){let t=e._zod.parent;if(t){let r={...this.get(t)??{}};delete r.id;let n={...r,...this._map.get(e)};return Object.keys(n).length?n:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function sF(){return new sK}let sY=sF();function sV(e,t){return new e({type:"string",...ta(t)})}function sG(e,t){return new e({type:"string",coerce:!0,...ta(t)})}function sH(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ta(t)})}function sZ(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ta(t)})}function sW(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ta(t)})}function sQ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ta(t)})}function sX(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ta(t)})}function sJ(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ta(t)})}function s0(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ta(t)})}function s1(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ta(t)})}function s4(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ta(t)})}function s2(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ta(t)})}function s6(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ta(t)})}function s3(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ta(t)})}function s8(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ta(t)})}function s5(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ta(t)})}function s9(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ta(t)})}function s7(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ta(t)})}function ae(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ta(t)})}function at(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ta(t)})}function ar(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ta(t)})}function an(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ta(t)})}function ai(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ta(t)})}function as(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ta(t)})}e.s(["TimePrecision",()=>aa,"_any",()=>aT,"_array",()=>a9,"_base64",()=>ar,"_base64url",()=>an,"_bigint",()=>av,"_boolean",()=>a_,"_catch",()=>og,"_check",()=>oO,"_cidrv4",()=>ae,"_cidrv6",()=>at,"_coercedBigint",()=>aE,"_coercedBoolean",()=>ab,"_coercedDate",()=>ax,"_coercedNumber",()=>ap,"_coercedString",()=>sG,"_cuid",()=>s2,"_cuid2",()=>s6,"_custom",()=>oS,"_date",()=>aP,"_default",()=>of,"_discriminatedUnion",()=>oe,"_e164",()=>ai,"_email",()=>sH,"_emoji",()=>s1,"_endsWith",()=>a0,"_enum",()=>oa,"_file",()=>ol,"_float32",()=>ah,"_float64",()=>am,"_gt",()=>aM,"_gte",()=>a$,"_guid",()=>sZ,"_includes",()=>aX,"_int",()=>af,"_int32",()=>ag,"_int64",()=>aS,"_intersection",()=>ot,"_ipv4",()=>s9,"_ipv6",()=>s7,"_isoDate",()=>au,"_isoDateTime",()=>ao,"_isoDuration",()=>ac,"_isoTime",()=>al,"_jwt",()=>as,"_ksuid",()=>s5,"_lazy",()=>ov,"_length",()=>aH,"_literal",()=>ou,"_lowercase",()=>aW,"_lt",()=>ak,"_lte",()=>aL,"_map",()=>oi,"_max",()=>aL,"_maxLength",()=>aV,"_maxSize",()=>aK,"_mime",()=>a4,"_min",()=>a$,"_minLength",()=>aG,"_minSize",()=>aF,"_multipleOf",()=>aq,"_nan",()=>aD,"_nanoid",()=>s4,"_nativeEnum",()=>oo,"_negative",()=>aj,"_never",()=>aC,"_nonnegative",()=>az,"_nonoptional",()=>oh,"_nonpositive",()=>aB,"_normalize",()=>a6,"_null",()=>aA,"_nullable",()=>op,"_number",()=>ad,"_optional",()=>od,"_overwrite",()=>a2,"_pipe",()=>oy,"_positive",()=>aU,"_promise",()=>oE,"_property",()=>a1,"_readonly",()=>o_,"_record",()=>on,"_refine",()=>ow,"_regex",()=>aZ,"_set",()=>os,"_size",()=>aY,"_startsWith",()=>aJ,"_string",()=>sV,"_stringFormat",()=>oT,"_stringbool",()=>oA,"_success",()=>om,"_superRefine",()=>oR,"_symbol",()=>aR,"_templateLiteral",()=>ob,"_toLowerCase",()=>a8,"_toUpperCase",()=>a5,"_transform",()=>oc,"_trim",()=>a3,"_tuple",()=>or,"_uint32",()=>ay,"_uint64",()=>aw,"_ulid",()=>s3,"_undefined",()=>aO,"_union",()=>a7,"_unknown",()=>aI,"_uppercase",()=>aQ,"_url",()=>s0,"_uuid",()=>sW,"_uuidv4",()=>sQ,"_uuidv6",()=>sX,"_uuidv7",()=>sJ,"_void",()=>aN,"_xid",()=>s8],90567);let aa={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function ao(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ta(t)})}function au(e,t){return new e({type:"string",format:"date",check:"string_format",...ta(t)})}function al(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ta(t)})}function ac(e,t){return new e({type:"string",format:"duration",check:"string_format",...ta(t)})}function ad(e,t){return new e({type:"number",checks:[],...ta(t)})}function ap(e,t){return new e({type:"number",coerce:!0,checks:[],...ta(t)})}function af(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ta(t)})}function ah(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...ta(t)})}function am(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...ta(t)})}function ag(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...ta(t)})}function ay(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...ta(t)})}function a_(e,t){return new e({type:"boolean",...ta(t)})}function ab(e,t){return new e({type:"boolean",coerce:!0,...ta(t)})}function av(e,t){return new e({type:"bigint",...ta(t)})}function aE(e,t){return new e({type:"bigint",coerce:!0,...ta(t)})}function aS(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...ta(t)})}function aw(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...ta(t)})}function aR(e,t){return new e({type:"symbol",...ta(t)})}function aO(e,t){return new e({type:"undefined",...ta(t)})}function aA(e,t){return new e({type:"null",...ta(t)})}function aT(e){return new e({type:"any"})}function aI(e){return new e({type:"unknown"})}function aC(e,t){return new e({type:"never",...ta(t)})}function aN(e,t){return new e({type:"void",...ta(t)})}function aP(e,t){return new e({type:"date",...ta(t)})}function ax(e,t){return new e({type:"date",coerce:!0,...ta(t)})}function aD(e,t){return new e({type:"nan",...ta(t)})}function ak(e,t){return new nt({check:"less_than",...ta(t),value:e,inclusive:!1})}function aL(e,t){return new nt({check:"less_than",...ta(t),value:e,inclusive:!0})}function aM(e,t){return new nr({check:"greater_than",...ta(t),value:e,inclusive:!1})}function a$(e,t){return new nr({check:"greater_than",...ta(t),value:e,inclusive:!0})}function aU(e){return aM(0,e)}function aj(e){return ak(0,e)}function aB(e){return aL(0,e)}function az(e){return a$(0,e)}function aq(e,t){return new nn({check:"multiple_of",...ta(t),value:e})}function aK(e,t){return new na({check:"max_size",...ta(t),maximum:e})}function aF(e,t){return new no({check:"min_size",...ta(t),minimum:e})}function aY(e,t){return new nu({check:"size_equals",...ta(t),size:e})}function aV(e,t){return new nl({check:"max_length",...ta(t),maximum:e})}function aG(e,t){return new nc({check:"min_length",...ta(t),minimum:e})}function aH(e,t){return new nd({check:"length_equals",...ta(t),length:e})}function aZ(e,t){return new nf({check:"string_format",format:"regex",...ta(t),pattern:e})}function aW(e){return new nh({check:"string_format",format:"lowercase",...ta(e)})}function aQ(e){return new nm({check:"string_format",format:"uppercase",...ta(e)})}function aX(e,t){return new ng({check:"string_format",format:"includes",...ta(t),includes:e})}function aJ(e,t){return new ny({check:"string_format",format:"starts_with",...ta(t),prefix:e})}function a0(e,t){return new n_({check:"string_format",format:"ends_with",...ta(t),suffix:e})}function a1(e,t,r){return new nv({check:"property",property:e,schema:t,...ta(r)})}function a4(e,t){return new nE({check:"mime_type",mime:e,...ta(t)})}function a2(e){return new nS({check:"overwrite",tx:e})}function a6(e){return a2(t=>t.normalize(e))}function a3(){return a2(e=>e.trim())}function a8(){return a2(e=>e.toLowerCase())}function a5(){return a2(e=>e.toUpperCase())}function a9(e,t,r){return new e({type:"array",element:t,...ta(r)})}function a7(e,t,r){return new e({type:"union",options:t,...ta(r)})}function oe(e,t,r,n){return new e({type:"union",options:r,discriminator:t,...ta(n)})}function ot(e,t,r){return new e({type:"intersection",left:t,right:r})}function or(e,t,r,n){let i=r instanceof nO,s=i?n:r;return new e({type:"tuple",items:t,rest:i?r:null,...ta(s)})}function on(e,t,r,n){return new e({type:"record",keyType:t,valueType:r,...ta(n)})}function oi(e,t,r,n){return new e({type:"map",keyType:t,valueType:r,...ta(n)})}function os(e,t,r){return new e({type:"set",valueType:t,...ta(r)})}function oa(e,t,r){return new e({type:"enum",entries:Array.isArray(t)?Object.fromEntries(t.map(e=>[e,e])):t,...ta(r)})}function oo(e,t,r){return new e({type:"enum",entries:t,...ta(r)})}function ou(e,t,r){return new e({type:"literal",values:Array.isArray(t)?t:[t],...ta(r)})}function ol(e,t){return new e({type:"file",...ta(t)})}function oc(e,t){return new e({type:"transform",transform:t})}function od(e,t){return new e({type:"optional",innerType:t})}function op(e,t){return new e({type:"nullable",innerType:t})}function of(e,t,r){return new e({type:"default",innerType:t,get defaultValue(){return"function"==typeof r?r():e7(r)}})}function oh(e,t,r){return new e({type:"nonoptional",innerType:t,...ta(r)})}function om(e,t){return new e({type:"success",innerType:t})}function og(e,t,r){return new e({type:"catch",innerType:t,catchValue:"function"==typeof r?r:()=>r})}function oy(e,t,r){return new e({type:"pipe",in:t,out:r})}function o_(e,t){return new e({type:"readonly",innerType:t})}function ob(e,t,r){return new e({type:"template_literal",parts:t,...ta(r)})}function ov(e,t){return new e({type:"lazy",getter:t})}function oE(e,t){return new e({type:"promise",innerType:t})}function oS(e,t,r){let n=ta(r);return n.abort??(n.abort=!0),new e({type:"custom",check:"custom",fn:t,...n})}function ow(e,t,r){return new e({type:"custom",check:"custom",fn:t,...ta(r)})}function oR(e){let t=oO(r=>(r.addIssue=e=>{"string"==typeof e?r.issues.push(tO(e,r.value,t._zod.def)):(e.fatal&&(e.continue=!1),e.code??(e.code="custom"),e.input??(e.input=r.value),e.inst??(e.inst=t),e.continue??(e.continue=!t._zod.def.abort),r.issues.push(tO(e)))},e(r.value,r)));return t}function oO(e,t){let r=new r7({check:"custom",...ta(t)});return r._zod.check=e,r}function oA(e,t){let r=ta(t),n=r.truthy??["true","1","yes","on","y","enabled"],i=r.falsy??["false","0","no","off","n","disabled"];"sensitive"!==r.case&&(n=n.map(e=>"string"==typeof e?e.toLowerCase():e),i=i.map(e=>"string"==typeof e?e.toLowerCase():e));let s=new Set(n),a=new Set(i),o=e.Codec??iq,u=e.Boolean??n2,l=new o({type:"pipe",in:new(e.String??nA)({type:"string",error:r.error}),out:new u({type:"boolean",error:r.error}),transform:(e,t)=>{let n=e;return"sensitive"!==r.case&&(n=n.toLowerCase()),!!s.has(n)||!a.has(n)&&(t.issues.push({code:"invalid_value",expected:"stringbool",values:[...s,...a],input:t.value,inst:l,continue:!1}),{})},reverseTransform:(e,t)=>!0===e?n[0]||"true":i[0]||"false",error:r.error});return l}function oT(e,t,r,n={}){let i=ta(n),s={...ta(n),check:"string_format",type:"string",format:t,fn:"function"==typeof r?r:e=>r.test(e),...i};return r instanceof RegExp&&(s.pattern=r),new e(s)}e.s(["JSONSchemaGenerator",()=>oI,"toJSONSchema",()=>oC],82780);class oI{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??sY,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var r;let n=e._zod.def,i=this.seen.get(e);if(i)return i.count++,t.schemaPath.includes(e)&&(i.cycle=t.path),i.schema;let s={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,s);let a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{let r={...t,schemaPath:[...t.schemaPath,e],path:t.path},i=e._zod.parent;if(i)s.ref=i,this.process(i,r),this.seen.get(i).isParent=!0;else{let t=s.schema;switch(n.type){case"string":{t.type="string";let{minimum:r,maximum:n,format:i,patterns:a,contentEncoding:o}=e._zod.bag;if("number"==typeof r&&(t.minLength=r),"number"==typeof n&&(t.maxLength=n),i&&(t.format=({guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""})[i]??i,""===t.format&&delete t.format),o&&(t.contentEncoding=o),a&&a.size>0){let e=[...a];1===e.length?t.pattern=e[0].source:e.length>1&&(s.schema.allOf=[...e.map(e=>({..."draft-7"===this.target||"draft-4"===this.target||"openapi-3.0"===this.target?{type:"string"}:{},pattern:e.source}))])}break}case"number":{let{minimum:r,maximum:n,format:i,multipleOf:s,exclusiveMaximum:a,exclusiveMinimum:o}=e._zod.bag;"string"==typeof i&&i.includes("int")?t.type="integer":t.type="number","number"==typeof o&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.minimum=o,t.exclusiveMinimum=!0):t.exclusiveMinimum=o),"number"==typeof r&&(t.minimum=r,"number"==typeof o&&"draft-4"!==this.target&&(o>=r?delete t.minimum:delete t.exclusiveMinimum)),"number"==typeof a&&("draft-4"===this.target||"openapi-3.0"===this.target?(t.maximum=a,t.exclusiveMaximum=!0):t.exclusiveMaximum=a),"number"==typeof n&&(t.maximum=n,"number"==typeof a&&"draft-4"!==this.target&&(a<=n?delete t.maximum:delete t.exclusiveMaximum)),"number"==typeof s&&(t.multipleOf=s);break}case"boolean":case"success":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw Error("Symbols cannot be represented in JSON Schema");break;case"null":"openapi-3.0"===this.target?(t.type="string",t.nullable=!0,t.enum=[null]):t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw Error("Date cannot be represented in JSON Schema");break;case"array":{let{minimum:i,maximum:s}=e._zod.bag;"number"==typeof i&&(t.minItems=i),"number"==typeof s&&(t.maxItems=s),t.type="array",t.items=this.process(n.element,{...r,path:[...r.path,"items"]});break}case"object":{t.type="object",t.properties={};let e=n.shape;for(let n in e)t.properties[n]=this.process(e[n],{...r,path:[...r.path,"properties",n]});let i=new Set([...new Set(Object.keys(e))].filter(e=>{let t=n.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout}));i.size>0&&(t.required=Array.from(i)),n.catchall?._zod.def.type==="never"?t.additionalProperties=!1:n.catchall?n.catchall&&(t.additionalProperties=this.process(n.catchall,{...r,path:[...r.path,"additionalProperties"]})):"output"===this.io&&(t.additionalProperties=!1);break}case"union":t.anyOf=n.options.map((e,t)=>this.process(e,{...r,path:[...r.path,"anyOf",t]}));break;case"intersection":{let e=this.process(n.left,{...r,path:[...r.path,"allOf",0]}),i=this.process(n.right,{...r,path:[...r.path,"allOf",1]}),s=e=>"allOf"in e&&1===Object.keys(e).length;t.allOf=[...s(e)?e.allOf:[e],...s(i)?i.allOf:[i]];break}case"tuple":{t.type="array";let i="draft-2020-12"===this.target?"prefixItems":"items",s="draft-2020-12"===this.target||"openapi-3.0"===this.target?"items":"additionalItems",a=n.items.map((e,t)=>this.process(e,{...r,path:[...r.path,i,t]})),o=n.rest?this.process(n.rest,{...r,path:[...r.path,s,..."openapi-3.0"===this.target?[n.items.length]:[]]}):null;"draft-2020-12"===this.target?(t.prefixItems=a,o&&(t.items=o)):"openapi-3.0"===this.target?(t.items={anyOf:a},o&&t.items.anyOf.push(o),t.minItems=a.length,o||(t.maxItems=a.length)):(t.items=a,o&&(t.additionalItems=o));let{minimum:u,maximum:l}=e._zod.bag;"number"==typeof u&&(t.minItems=u),"number"==typeof l&&(t.maxItems=l);break}case"record":t.type="object",("draft-7"===this.target||"draft-2020-12"===this.target)&&(t.propertyNames=this.process(n.keyType,{...r,path:[...r.path,"propertyNames"]})),t.additionalProperties=this.process(n.valueType,{...r,path:[...r.path,"additionalProperties"]});break;case"map":if("throw"===this.unrepresentable)throw Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw Error("Set cannot be represented in JSON Schema");break;case"enum":{let e=eq(n.entries);e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),t.enum=e;break}case"literal":{let e=[];for(let t of n.values)if(void 0===t){if("throw"===this.unrepresentable)throw Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof t)if("throw"===this.unrepresentable)throw Error("BigInt literals cannot be represented in JSON Schema");else e.push(Number(t));else e.push(t);if(0===e.length);else if(1===e.length){let r=e[0];t.type=null===r?"null":typeof r,"draft-4"===this.target||"openapi-3.0"===this.target?t.enum=[r]:t.const=r}else e.every(e=>"number"==typeof e)&&(t.type="number"),e.every(e=>"string"==typeof e)&&(t.type="string"),e.every(e=>"boolean"==typeof e)&&(t.type="string"),e.every(e=>null===e)&&(t.type="null"),t.enum=e;break}case"file":{let r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:n,maximum:i,mime:s}=e._zod.bag;void 0!==n&&(r.minLength=n),void 0!==i&&(r.maxLength=i),s?1===s.length?(r.contentMediaType=s[0],Object.assign(t,r)):t.anyOf=s.map(e=>({...r,contentMediaType:e})):Object.assign(t,r);break}case"transform":if("throw"===this.unrepresentable)throw Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{let e=this.process(n.innerType,r);"openapi-3.0"===this.target?(s.ref=n.innerType,t.nullable=!0):t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(n.innerType,r),s.ref=n.innerType;break;case"default":this.process(n.innerType,r),s.ref=n.innerType,t.default=JSON.parse(JSON.stringify(n.defaultValue));break;case"prefault":this.process(n.innerType,r),s.ref=n.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(n.defaultValue)));break;case"catch":{let e;this.process(n.innerType,r),s.ref=n.innerType;try{e=n.catchValue(void 0)}catch{throw Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{let r=e._zod.pattern;if(!r)throw Error("Pattern not found in template literal");t.type="string",t.pattern=r.source;break}case"pipe":{let e="input"===this.io?"transform"===n.in._zod.def.type?n.out:n.in:n.out;this.process(e,r),s.ref=e;break}case"readonly":this.process(n.innerType,r),s.ref=n.innerType,t.readOnly=!0;break;case"lazy":{let t=e._zod.innerType;this.process(t,r),s.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw Error("Custom types cannot be represented in JSON Schema");break;case"function":if("throw"===this.unrepresentable)throw Error("Function types cannot be represented in JSON Schema")}}}let o=this.metadataRegistry.get(e);return o&&Object.assign(s.schema,o),"input"===this.io&&function e(t,r){let n=r??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);let i=t._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":case"function":return!1;case"array":return e(i.element,n);case"object":for(let t in i.shape)if(e(i.shape[t],n))return!0;return!1;case"union":for(let t of i.options)if(e(t,n))return!0;return!1;case"intersection":return e(i.left,n)||e(i.right,n);case"tuple":for(let t of i.items)if(e(t,n))return!0;if(i.rest&&e(i.rest,n))return!0;return!1;case"record":case"map":return e(i.keyType,n)||e(i.valueType,n);case"set":return e(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return e(i.innerType,n);case"lazy":return e(i.getter(),n);case"transform":return!0;case"pipe":return e(i.in,n)||e(i.out,n)}throw Error(`Unknown schema type: ${i.type}`)}(e)&&(delete s.schema.examples,delete s.schema.default),"input"===this.io&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,this.seen.get(e).schema}emit(e,t){let r={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},n=this.seen.get(e);if(!n)throw Error("Unprocessed schema. This is a bug in Zod.");let i=e=>{let t="draft-2020-12"===this.target?"$defs":"definitions";if(r.external){let n=r.external.registry.get(e[0])?.id,i=r.external.uri??(e=>e);if(n)return{ref:i(n)};let s=e[1].defId??e[1].schema.id??`schema${this.counter++}`;return e[1].defId=s,{defId:s,ref:`${i("__shared")}#/${t}/${s}`}}if(e[1]===n)return{ref:"#"};let i=`#/${t}/`,s=e[1].schema.id??`__schema${this.counter++}`;return{defId:s,ref:i+s}},s=e=>{if(e[1].schema.$ref)return;let t=e[1],{ref:r,defId:n}=i(e);t.def={...t.schema},n&&(t.defId=n);let s=t.schema;for(let e in s)delete s[e];s.$ref=r};if("throw"===r.cycles)for(let e of this.seen.entries()){let t=e[1];if(t.cycle)throw Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(let t of this.seen.entries()){let n=t[1];if(e===t[0]){s(t);continue}if(r.external){let n=r.external.registry.get(t[0])?.id;if(e!==t[0]&&n){s(t);continue}}if(this.metadataRegistry.get(t[0])?.id||n.cycle||n.count>1&&"ref"===r.reused){s(t);continue}}let a=(e,t)=>{let r=this.seen.get(e),n=r.def??r.schema,i={...n};if(null===r.ref)return;let s=r.ref;if(r.ref=null,s){a(s,t);let e=this.seen.get(s).schema;e.$ref&&("draft-7"===t.target||"draft-4"===t.target||"openapi-3.0"===t.target)?(n.allOf=n.allOf??[],n.allOf.push(e)):(Object.assign(n,e),Object.assign(n,i))}r.isParent||this.override({zodSchema:e,jsonSchema:n,path:r.path??[]})};for(let e of[...this.seen.entries()].reverse())a(e[0],{target:this.target});let o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?o.$schema="http://json-schema.org/draft-04/schema#":"openapi-3.0"===this.target||console.warn(`Invalid target: ${this.target}`),r.external?.uri){let t=r.external.registry.get(e)?.id;if(!t)throw Error("Schema is missing an `id` property");o.$id=r.external.uri(t)}Object.assign(o,n.def);let u=r.external?.defs??{};for(let e of this.seen.entries()){let t=e[1];t.def&&t.defId&&(u[t.defId]=t.def)}r.external||Object.keys(u).length>0&&("draft-2020-12"===this.target?o.$defs=u:o.definitions=u);try{return JSON.parse(JSON.stringify(o))}catch(e){throw Error("Error converting schema to JSON.")}}}function oC(e,t){if(e instanceof sK){let r=new oI(t),n={};for(let t of e._idmap.entries()){let[e,n]=t;r.process(n)}let i={},s={registry:e,uri:t?.uri,defs:n};for(let n of e._idmap.entries()){let[e,a]=n;i[e]=r.emit(a,{...t,external:s})}return Object.keys(n).length>0&&(i.__shared={["draft-2020-12"===r.target?"$defs":"definitions"]:n}),{schemas:i}}let r=new oI(t);return r.process(e),r.emit(e,t)}e.s([],951),e.s(["ZodAny",()=>le,"ZodArray",()=>lc,"ZodBase64",()=>uN,"ZodBase64URL",()=>ux,"ZodBigInt",()=>uJ,"ZodBigIntFormat",()=>u1,"ZodBoolean",()=>uQ,"ZodCIDRv4",()=>uA,"ZodCIDRv6",()=>uI,"ZodCUID",()=>up,"ZodCUID2",()=>uh,"ZodCatch",()=>l0,"ZodCodec",()=>l8,"ZodCustom",()=>cu,"ZodCustomStringFormat",()=>uU,"ZodDate",()=>lu,"ZodDefault",()=>lV,"ZodDiscriminatedUnion",()=>lb,"ZodE164",()=>uk,"ZodEmail",()=>o8,"ZodEmoji",()=>uu,"ZodEnum",()=>lx,"ZodFile",()=>l$,"ZodFunction",()=>ca,"ZodGUID",()=>o9,"ZodIPv4",()=>uS,"ZodIPv6",()=>uR,"ZodIntersection",()=>lE,"ZodJWT",()=>uM,"ZodKSUID",()=>uv,"ZodLazy",()=>cr,"ZodLiteral",()=>lL,"ZodMap",()=>lI,"ZodNaN",()=>l4,"ZodNanoID",()=>uc,"ZodNever",()=>li,"ZodNonOptional",()=>lW,"ZodNull",()=>u9,"ZodNullable",()=>lK,"ZodNumber",()=>uK,"ZodNumberFormat",()=>uY,"ZodObject",()=>lf,"ZodOptional",()=>lz,"ZodPipe",()=>l6,"ZodPrefault",()=>lH,"ZodPromise",()=>ci,"ZodReadonly",()=>l9,"ZodRecord",()=>lO,"ZodSet",()=>lN,"ZodString",()=>o2,"ZodStringFormat",()=>o3,"ZodSuccess",()=>lX,"ZodSymbol",()=>u6,"ZodTemplateLiteral",()=>ce,"ZodTransform",()=>lj,"ZodTuple",()=>lw,"ZodType",()=>o1,"ZodULID",()=>ug,"ZodURL",()=>us,"ZodUUID",()=>ue,"ZodUndefined",()=>u8,"ZodUnion",()=>ly,"ZodUnknown",()=>lr,"ZodVoid",()=>la,"ZodXID",()=>u_,"_ZodString",()=>o4,"_default",()=>lG,"_function",()=>co,"any",()=>lt,"array",()=>ld,"base64",()=>uP,"base64url",()=>uD,"bigint",()=>u0,"boolean",()=>uX,"catch",()=>l1,"check",()=>cl,"cidrv4",()=>uT,"cidrv6",()=>uC,"codec",()=>l5,"cuid",()=>uf,"cuid2",()=>um,"custom",()=>cc,"date",()=>ll,"discriminatedUnion",()=>lv,"e164",()=>uL,"email",()=>o5,"emoji",()=>ul,"enum",()=>lD,"file",()=>lU,"float32",()=>uG,"float64",()=>uH,"function",()=>co,"guid",()=>o7,"hash",()=>uq,"hex",()=>uz,"hostname",()=>uB,"httpUrl",()=>uo,"instanceof",()=>cf,"int",()=>uV,"int32",()=>uZ,"int64",()=>u4,"intersection",()=>lS,"ipv4",()=>uw,"ipv6",()=>uO,"json",()=>cm,"jwt",()=>u$,"keyof",()=>lp,"ksuid",()=>uE,"lazy",()=>cn,"literal",()=>lM,"looseObject",()=>lg,"map",()=>lC,"nan",()=>l2,"nanoid",()=>ud,"nativeEnum",()=>lk,"never",()=>ls,"nonoptional",()=>lQ,"null",()=>u7,"nullable",()=>lF,"nullish",()=>lY,"number",()=>uF,"object",()=>lh,"optional",()=>lq,"partialRecord",()=>lT,"pipe",()=>l3,"prefault",()=>lZ,"preprocess",()=>cg,"promise",()=>cs,"readonly",()=>l7,"record",()=>lA,"refine",()=>cd,"set",()=>lP,"strictObject",()=>lm,"string",()=>o6,"stringFormat",()=>uj,"stringbool",()=>ch,"success",()=>lJ,"superRefine",()=>cp,"symbol",()=>u3,"templateLiteral",()=>ct,"transform",()=>lB,"tuple",()=>lR,"uint32",()=>uW,"uint64",()=>u2,"ulid",()=>uy,"undefined",()=>u5,"union",()=>l_,"unknown",()=>ln,"url",()=>ua,"uuid",()=>ut,"uuidv4",()=>ur,"uuidv6",()=>un,"uuidv7",()=>ui,"void",()=>lo,"xid",()=>ub],14539),e.s(["$ZodAny",()=>n7,"$ZodArray",()=>ia,"$ZodBase64",()=>nH,"$ZodBase64URL",()=>nW,"$ZodBigInt",()=>n6,"$ZodBigIntFormat",()=>n3,"$ZodBoolean",()=>n2,"$ZodCIDRv4",()=>nY,"$ZodCIDRv6",()=>nV,"$ZodCUID",()=>nk,"$ZodCUID2",()=>nL,"$ZodCatch",()=>iU,"$ZodCodec",()=>iq,"$ZodCustom",()=>iQ,"$ZodCustomStringFormat",()=>n0,"$ZodDate",()=>ii,"$ZodDefault",()=>ix,"$ZodDiscriminatedUnion",()=>im,"$ZodE164",()=>nQ,"$ZodEmail",()=>nN,"$ZodEmoji",()=>nx,"$ZodEnum",()=>iO,"$ZodFile",()=>iT,"$ZodFunction",()=>iH,"$ZodGUID",()=>nI,"$ZodIPv4",()=>nK,"$ZodIPv6",()=>nF,"$ZodISODate",()=>nB,"$ZodISODateTime",()=>nj,"$ZodISODuration",()=>nq,"$ZodISOTime",()=>nz,"$ZodIntersection",()=>ig,"$ZodJWT",()=>nJ,"$ZodKSUID",()=>nU,"$ZodLazy",()=>iW,"$ZodLiteral",()=>iA,"$ZodMap",()=>iE,"$ZodNaN",()=>ij,"$ZodNanoID",()=>nD,"$ZodNever",()=>it,"$ZodNonOptional",()=>iL,"$ZodNull",()=>n9,"$ZodNullable",()=>iP,"$ZodNumber",()=>n1,"$ZodNumberFormat",()=>n4,"$ZodObject",()=>ic,"$ZodObjectJIT",()=>id,"$ZodOptional",()=>iN,"$ZodPipe",()=>iB,"$ZodPrefault",()=>ik,"$ZodPromise",()=>iZ,"$ZodReadonly",()=>iY,"$ZodRecord",()=>iv,"$ZodSet",()=>iw,"$ZodString",()=>nA,"$ZodStringFormat",()=>nT,"$ZodSuccess",()=>i$,"$ZodSymbol",()=>n8,"$ZodTemplateLiteral",()=>iG,"$ZodTransform",()=>iI,"$ZodTuple",()=>i_,"$ZodType",()=>nO,"$ZodULID",()=>nM,"$ZodURL",()=>nP,"$ZodUUID",()=>nC,"$ZodUndefined",()=>n5,"$ZodUnion",()=>ih,"$ZodUnknown",()=>ie,"$ZodVoid",()=>ir,"$ZodXID",()=>n$,"clone",()=>ts,"isValidBase64",()=>nG,"isValidBase64URL",()=>nZ,"isValidJWT",()=>nX],43034),e.i(59367);var oN=e.i(63393),oN=oN,oP=e.i(99764),oP=oP;e.s([],42391),e.s(["ZodISODate",()=>ok,"ZodISODateTime",()=>ox,"ZodISODuration",()=>oU,"ZodISOTime",()=>oM,"date",()=>oL,"datetime",()=>oD,"duration",()=>oj,"time",()=>o$],49469);let ox=eP("ZodISODateTime",(e,t)=>{nj.init(e,t),o3.init(e,t)});function oD(e){return ao(ox,e)}let ok=eP("ZodISODate",(e,t)=>{nB.init(e,t),o3.init(e,t)});function oL(e){return au(ok,e)}let oM=eP("ZodISOTime",(e,t)=>{nz.init(e,t),o3.init(e,t)});function o$(e){return al(oM,e)}let oU=eP("ZodISODuration",(e,t)=>{nq.init(e,t),o3.init(e,t)});function oj(e){return ac(oU,e)}e.s(["decode",()=>oH,"decodeAsync",()=>oW,"encode",()=>oG,"encodeAsync",()=>oZ,"parse",()=>oK,"parseAsync",()=>oF,"safeDecode",()=>oX,"safeDecodeAsync",()=>o0,"safeEncode",()=>oQ,"safeEncodeAsync",()=>oJ,"safeParse",()=>oY,"safeParseAsync",()=>oV],76166),e.s(["ZodError",()=>oz,"ZodRealError",()=>oq],71147);let oB=(e,t)=>{tL.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>tU(e,t)},flatten:{value:t=>t$(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,eF,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,eF,2)}},isEmpty:{get:()=>0===e.issues.length}})},oz=eP("ZodError",oB),oq=eP("ZodError",oB,{Parent:Error}),oK=tq(oq),oF=tF(oq),oY=tV(oq),oV=tH(oq),oG=tW(oq),oH=tX(oq),oZ=t0(oq),oW=t4(oq),oQ=t6(oq),oX=t8(oq),oJ=t9(oq),o0=re(oq),o1=eP("ZodType",(e,t)=>(nO.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(oP.mergeDefs(t,{checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]})),e.clone=(t,r)=>ts(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>oK(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>oY(e,t,r),e.parseAsync=async(t,r)=>oF(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>oV(e,t,r),e.spa=e.safeParseAsync,e.encode=(t,r)=>oG(e,t,r),e.decode=(t,r)=>oH(e,t,r),e.encodeAsync=async(t,r)=>oZ(e,t,r),e.decodeAsync=async(t,r)=>oW(e,t,r),e.safeEncode=(t,r)=>oQ(e,t,r),e.safeDecode=(t,r)=>oX(e,t,r),e.safeEncodeAsync=async(t,r)=>oJ(e,t,r),e.safeDecodeAsync=async(t,r)=>o0(e,t,r),e.refine=(t,r)=>e.check(cd(t,r)),e.superRefine=t=>e.check(oR(t)),e.overwrite=t=>e.check(a2(t)),e.optional=()=>lq(e),e.nullable=()=>lF(e),e.nullish=()=>lq(lF(e)),e.nonoptional=t=>lQ(e,t),e.array=()=>ld(e),e.or=t=>l_([e,t]),e.and=t=>lS(e,t),e.transform=t=>l3(e,lB(t)),e.default=t=>lG(e,t),e.prefault=t=>lZ(e,t),e.catch=t=>l1(e,t),e.pipe=t=>l3(e,t),e.readonly=()=>l7(e),e.describe=t=>{let r=e.clone();return sY.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>sY.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return sY.get(e);let r=e.clone();return sY.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),o4=eP("_ZodString",(e,t)=>{nA.init(e,t),o1.init(e,t);let r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(aZ(...t)),e.includes=(...t)=>e.check(aX(...t)),e.startsWith=(...t)=>e.check(aJ(...t)),e.endsWith=(...t)=>e.check(a0(...t)),e.min=(...t)=>e.check(aG(...t)),e.max=(...t)=>e.check(aV(...t)),e.length=(...t)=>e.check(aH(...t)),e.nonempty=(...t)=>e.check(aG(1,...t)),e.lowercase=t=>e.check(aW(t)),e.uppercase=t=>e.check(aQ(t)),e.trim=()=>e.check(a3()),e.normalize=(...t)=>e.check(a6(...t)),e.toLowerCase=()=>e.check(a8()),e.toUpperCase=()=>e.check(a5())}),o2=eP("ZodString",(e,t)=>{nA.init(e,t),o4.init(e,t),e.email=t=>e.check(sH(o8,t)),e.url=t=>e.check(s0(us,t)),e.jwt=t=>e.check(as(uM,t)),e.emoji=t=>e.check(s1(uu,t)),e.guid=t=>e.check(sZ(o9,t)),e.uuid=t=>e.check(sW(ue,t)),e.uuidv4=t=>e.check(sQ(ue,t)),e.uuidv6=t=>e.check(sX(ue,t)),e.uuidv7=t=>e.check(sJ(ue,t)),e.nanoid=t=>e.check(s4(uc,t)),e.guid=t=>e.check(sZ(o9,t)),e.cuid=t=>e.check(s2(up,t)),e.cuid2=t=>e.check(s6(uh,t)),e.ulid=t=>e.check(s3(ug,t)),e.base64=t=>e.check(ar(uN,t)),e.base64url=t=>e.check(an(ux,t)),e.xid=t=>e.check(s8(u_,t)),e.ksuid=t=>e.check(s5(uv,t)),e.ipv4=t=>e.check(s9(uS,t)),e.ipv6=t=>e.check(s7(uR,t)),e.cidrv4=t=>e.check(ae(uA,t)),e.cidrv6=t=>e.check(at(uI,t)),e.e164=t=>e.check(ai(uk,t)),e.datetime=t=>e.check(oD(t)),e.date=t=>e.check(oL(t)),e.time=t=>e.check(o$(t)),e.duration=t=>e.check(oj(t))});function o6(e){return sV(o2,e)}let o3=eP("ZodStringFormat",(e,t)=>{nT.init(e,t),o4.init(e,t)}),o8=eP("ZodEmail",(e,t)=>{nN.init(e,t),o3.init(e,t)});function o5(e){return sH(o8,e)}let o9=eP("ZodGUID",(e,t)=>{nI.init(e,t),o3.init(e,t)});function o7(e){return sZ(o9,e)}let ue=eP("ZodUUID",(e,t)=>{nC.init(e,t),o3.init(e,t)});function ut(e){return sW(ue,e)}function ur(e){return sQ(ue,e)}function un(e){return sX(ue,e)}function ui(e){return sJ(ue,e)}let us=eP("ZodURL",(e,t)=>{nP.init(e,t),o3.init(e,t)});function ua(e){return s0(us,e)}function uo(e){return s0(us,{protocol:/^https?$/,hostname:oN.domain,...oP.normalizeParams(e)})}let uu=eP("ZodEmoji",(e,t)=>{nx.init(e,t),o3.init(e,t)});function ul(e){return s1(uu,e)}let uc=eP("ZodNanoID",(e,t)=>{nD.init(e,t),o3.init(e,t)});function ud(e){return s4(uc,e)}let up=eP("ZodCUID",(e,t)=>{nk.init(e,t),o3.init(e,t)});function uf(e){return s2(up,e)}let uh=eP("ZodCUID2",(e,t)=>{nL.init(e,t),o3.init(e,t)});function um(e){return s6(uh,e)}let ug=eP("ZodULID",(e,t)=>{nM.init(e,t),o3.init(e,t)});function uy(e){return s3(ug,e)}let u_=eP("ZodXID",(e,t)=>{n$.init(e,t),o3.init(e,t)});function ub(e){return s8(u_,e)}let uv=eP("ZodKSUID",(e,t)=>{nU.init(e,t),o3.init(e,t)});function uE(e){return s5(uv,e)}let uS=eP("ZodIPv4",(e,t)=>{nK.init(e,t),o3.init(e,t)});function uw(e){return s9(uS,e)}let uR=eP("ZodIPv6",(e,t)=>{nF.init(e,t),o3.init(e,t)});function uO(e){return s7(uR,e)}let uA=eP("ZodCIDRv4",(e,t)=>{nY.init(e,t),o3.init(e,t)});function uT(e){return ae(uA,e)}let uI=eP("ZodCIDRv6",(e,t)=>{nV.init(e,t),o3.init(e,t)});function uC(e){return at(uI,e)}let uN=eP("ZodBase64",(e,t)=>{nH.init(e,t),o3.init(e,t)});function uP(e){return ar(uN,e)}let ux=eP("ZodBase64URL",(e,t)=>{nW.init(e,t),o3.init(e,t)});function uD(e){return an(ux,e)}let uk=eP("ZodE164",(e,t)=>{nQ.init(e,t),o3.init(e,t)});function uL(e){return ai(uk,e)}let uM=eP("ZodJWT",(e,t)=>{nJ.init(e,t),o3.init(e,t)});function u$(e){return as(uM,e)}let uU=eP("ZodCustomStringFormat",(e,t)=>{n0.init(e,t),o3.init(e,t)});function uj(e,t,r={}){return oT(uU,e,t,r)}function uB(e){return oT(uU,"hostname",oN.hostname,e)}function uz(e){return oT(uU,"hex",oN.hex,e)}function uq(e,t){let r=t?.enc??"hex",n=`${e}_${r}`,i=oN[n];if(!i)throw Error(`Unrecognized hash format: ${n}`);return oT(uU,n,i,t)}let uK=eP("ZodNumber",(e,t)=>{n1.init(e,t),o1.init(e,t),e.gt=(t,r)=>e.check(aM(t,r)),e.gte=(t,r)=>e.check(a$(t,r)),e.min=(t,r)=>e.check(a$(t,r)),e.lt=(t,r)=>e.check(ak(t,r)),e.lte=(t,r)=>e.check(aL(t,r)),e.max=(t,r)=>e.check(aL(t,r)),e.int=t=>e.check(uV(t)),e.safe=t=>e.check(uV(t)),e.positive=t=>e.check(aM(0,t)),e.nonnegative=t=>e.check(a$(0,t)),e.negative=t=>e.check(ak(0,t)),e.nonpositive=t=>e.check(aL(0,t)),e.multipleOf=(t,r)=>e.check(aq(t,r)),e.step=(t,r)=>e.check(aq(t,r)),e.finite=()=>e;let r=e._zod.bag;e.minValue=Math.max(r.minimum??-1/0,r.exclusiveMinimum??-1/0)??null,e.maxValue=Math.min(r.maximum??1/0,r.exclusiveMaximum??1/0)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function uF(e){return ad(uK,e)}let uY=eP("ZodNumberFormat",(e,t)=>{n4.init(e,t),uK.init(e,t)});function uV(e){return af(uY,e)}function uG(e){return ah(uY,e)}function uH(e){return am(uY,e)}function uZ(e){return ag(uY,e)}function uW(e){return ay(uY,e)}let uQ=eP("ZodBoolean",(e,t)=>{n2.init(e,t),o1.init(e,t)});function uX(e){return a_(uQ,e)}let uJ=eP("ZodBigInt",(e,t)=>{n6.init(e,t),o1.init(e,t),e.gte=(t,r)=>e.check(a$(t,r)),e.min=(t,r)=>e.check(a$(t,r)),e.gt=(t,r)=>e.check(aM(t,r)),e.gte=(t,r)=>e.check(a$(t,r)),e.min=(t,r)=>e.check(a$(t,r)),e.lt=(t,r)=>e.check(ak(t,r)),e.lte=(t,r)=>e.check(aL(t,r)),e.max=(t,r)=>e.check(aL(t,r)),e.positive=t=>e.check(aM(BigInt(0),t)),e.negative=t=>e.check(ak(BigInt(0),t)),e.nonpositive=t=>e.check(aL(BigInt(0),t)),e.nonnegative=t=>e.check(a$(BigInt(0),t)),e.multipleOf=(t,r)=>e.check(aq(t,r));let r=e._zod.bag;e.minValue=r.minimum??null,e.maxValue=r.maximum??null,e.format=r.format??null});function u0(e){return av(uJ,e)}let u1=eP("ZodBigIntFormat",(e,t)=>{n3.init(e,t),uJ.init(e,t)});function u4(e){return aS(u1,e)}function u2(e){return aw(u1,e)}let u6=eP("ZodSymbol",(e,t)=>{n8.init(e,t),o1.init(e,t)});function u3(e){return aR(u6,e)}let u8=eP("ZodUndefined",(e,t)=>{n5.init(e,t),o1.init(e,t)});function u5(e){return aO(u8,e)}let u9=eP("ZodNull",(e,t)=>{n9.init(e,t),o1.init(e,t)});function u7(e){return aA(u9,e)}let le=eP("ZodAny",(e,t)=>{n7.init(e,t),o1.init(e,t)});function lt(){return aT(le)}let lr=eP("ZodUnknown",(e,t)=>{ie.init(e,t),o1.init(e,t)});function ln(){return aI(lr)}let li=eP("ZodNever",(e,t)=>{it.init(e,t),o1.init(e,t)});function ls(e){return aC(li,e)}let la=eP("ZodVoid",(e,t)=>{ir.init(e,t),o1.init(e,t)});function lo(e){return aN(la,e)}let lu=eP("ZodDate",(e,t)=>{ii.init(e,t),o1.init(e,t),e.min=(t,r)=>e.check(a$(t,r)),e.max=(t,r)=>e.check(aL(t,r));let r=e._zod.bag;e.minDate=r.minimum?new Date(r.minimum):null,e.maxDate=r.maximum?new Date(r.maximum):null});function ll(e){return aP(lu,e)}let lc=eP("ZodArray",(e,t)=>{ia.init(e,t),o1.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(aG(t,r)),e.nonempty=t=>e.check(aG(1,t)),e.max=(t,r)=>e.check(aV(t,r)),e.length=(t,r)=>e.check(aH(t,r)),e.unwrap=()=>e.element});function ld(e,t){return a9(lc,e,t)}function lp(e){return lD(Object.keys(e._zod.def.shape))}let lf=eP("ZodObject",(e,t)=>{id.init(e,t),o1.init(e,t),oP.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>lD(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:ln()}),e.loose=()=>e.clone({...e._zod.def,catchall:ln()}),e.strict=()=>e.clone({...e._zod.def,catchall:ls()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>oP.extend(e,t),e.safeExtend=t=>oP.safeExtend(e,t),e.merge=t=>oP.merge(e,t),e.pick=t=>oP.pick(e,t),e.omit=t=>oP.omit(e,t),e.partial=(...t)=>oP.partial(lz,e,t[0]),e.required=(...t)=>oP.required(lW,e,t[0])});function lh(e,t){return new lf({type:"object",shape:e??{},...oP.normalizeParams(t)})}function lm(e,t){return new lf({type:"object",shape:e,catchall:ls(),...oP.normalizeParams(t)})}function lg(e,t){return new lf({type:"object",shape:e,catchall:ln(),...oP.normalizeParams(t)})}let ly=eP("ZodUnion",(e,t)=>{ih.init(e,t),o1.init(e,t),e.options=t.options});function l_(e,t){return new ly({type:"union",options:e,...oP.normalizeParams(t)})}let lb=eP("ZodDiscriminatedUnion",(e,t)=>{ly.init(e,t),im.init(e,t)});function lv(e,t,r){return new lb({type:"union",options:t,discriminator:e,...oP.normalizeParams(r)})}let lE=eP("ZodIntersection",(e,t)=>{ig.init(e,t),o1.init(e,t)});function lS(e,t){return new lE({type:"intersection",left:e,right:t})}let lw=eP("ZodTuple",(e,t)=>{i_.init(e,t),o1.init(e,t),e.rest=t=>e.clone({...e._zod.def,rest:t})});function lR(e,t,r){let n=t instanceof nO,i=n?r:t;return new lw({type:"tuple",items:e,rest:n?t:null,...oP.normalizeParams(i)})}let lO=eP("ZodRecord",(e,t)=>{iv.init(e,t),o1.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function lA(e,t,r){return new lO({type:"record",keyType:e,valueType:t,...oP.normalizeParams(r)})}function lT(e,t,r){let n=ts(e);return n._zod.values=void 0,new lO({type:"record",keyType:n,valueType:t,...oP.normalizeParams(r)})}let lI=eP("ZodMap",(e,t)=>{iE.init(e,t),o1.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function lC(e,t,r){return new lI({type:"map",keyType:e,valueType:t,...oP.normalizeParams(r)})}let lN=eP("ZodSet",(e,t)=>{iw.init(e,t),o1.init(e,t),e.min=(...t)=>e.check(aF(...t)),e.nonempty=t=>e.check(aF(1,t)),e.max=(...t)=>e.check(aK(...t)),e.size=(...t)=>e.check(aY(...t))});function lP(e,t){return new lN({type:"set",valueType:e,...oP.normalizeParams(t)})}let lx=eP("ZodEnum",(e,t)=>{iO.init(e,t),o1.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);let r=new Set(Object.keys(t.entries));e.extract=(e,n)=>{let i={};for(let n of e)if(r.has(n))i[n]=t.entries[n];else throw Error(`Key ${n} not found in enum`);return new lx({...t,checks:[],...oP.normalizeParams(n),entries:i})},e.exclude=(e,n)=>{let i={...t.entries};for(let t of e)if(r.has(t))delete i[t];else throw Error(`Key ${t} not found in enum`);return new lx({...t,checks:[],...oP.normalizeParams(n),entries:i})}});function lD(e,t){return new lx({type:"enum",entries:Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e,...oP.normalizeParams(t)})}function lk(e,t){return new lx({type:"enum",entries:e,...oP.normalizeParams(t)})}let lL=eP("ZodLiteral",(e,t)=>{iA.init(e,t),o1.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function lM(e,t){return new lL({type:"literal",values:Array.isArray(e)?e:[e],...oP.normalizeParams(t)})}let l$=eP("ZodFile",(e,t)=>{iT.init(e,t),o1.init(e,t),e.min=(t,r)=>e.check(aF(t,r)),e.max=(t,r)=>e.check(aK(t,r)),e.mime=(t,r)=>e.check(a4(Array.isArray(t)?t:[t],r))});function lU(e){return ol(l$,e)}let lj=eP("ZodTransform",(e,t)=>{iI.init(e,t),o1.init(e,t),e._zod.parse=(r,n)=>{if("backward"===n.direction)throw new ek(e.constructor.name);r.addIssue=n=>{"string"==typeof n?r.issues.push(oP.issue(n,r.value,t)):(n.fatal&&(n.continue=!1),n.code??(n.code="custom"),n.input??(n.input=r.value),n.inst??(n.inst=e),r.issues.push(oP.issue(n)))};let i=t.transform(r.value,r);return i instanceof Promise?i.then(e=>(r.value=e,r)):(r.value=i,r)}});function lB(e){return new lj({type:"transform",transform:e})}let lz=eP("ZodOptional",(e,t)=>{iN.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lq(e){return new lz({type:"optional",innerType:e})}let lK=eP("ZodNullable",(e,t)=>{iP.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lF(e){return new lK({type:"nullable",innerType:e})}function lY(e){return lq(lF(e))}let lV=eP("ZodDefault",(e,t)=>{ix.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function lG(e,t){return new lV({type:"default",innerType:e,get defaultValue(){return"function"==typeof t?t():oP.shallowClone(t)}})}let lH=eP("ZodPrefault",(e,t)=>{ik.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lZ(e,t){return new lH({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof t?t():oP.shallowClone(t)}})}let lW=eP("ZodNonOptional",(e,t)=>{iL.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lQ(e,t){return new lW({type:"nonoptional",innerType:e,...oP.normalizeParams(t)})}let lX=eP("ZodSuccess",(e,t)=>{i$.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function lJ(e){return new lX({type:"success",innerType:e})}let l0=eP("ZodCatch",(e,t)=>{iU.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function l1(e,t){return new l0({type:"catch",innerType:e,catchValue:"function"==typeof t?t:()=>t})}let l4=eP("ZodNaN",(e,t)=>{ij.init(e,t),o1.init(e,t)});function l2(e){return aD(l4,e)}let l6=eP("ZodPipe",(e,t)=>{iB.init(e,t),o1.init(e,t),e.in=t.in,e.out=t.out});function l3(e,t){return new l6({type:"pipe",in:e,out:t})}let l8=eP("ZodCodec",(e,t)=>{l6.init(e,t),iq.init(e,t)});function l5(e,t,r){return new l8({type:"pipe",in:e,out:t,transform:r.decode,reverseTransform:r.encode})}let l9=eP("ZodReadonly",(e,t)=>{iY.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function l7(e){return new l9({type:"readonly",innerType:e})}let ce=eP("ZodTemplateLiteral",(e,t)=>{iG.init(e,t),o1.init(e,t)});function ct(e,t){return new ce({type:"template_literal",parts:e,...oP.normalizeParams(t)})}let cr=eP("ZodLazy",(e,t)=>{iW.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.getter()});function cn(e){return new cr({type:"lazy",getter:e})}let ci=eP("ZodPromise",(e,t)=>{iZ.init(e,t),o1.init(e,t),e.unwrap=()=>e._zod.def.innerType});function cs(e){return new ci({type:"promise",innerType:e})}let ca=eP("ZodFunction",(e,t)=>{iH.init(e,t),o1.init(e,t)});function co(e){return new ca({type:"function",input:Array.isArray(e?.input)?lR(e?.input):e?.input??ld(ln()),output:e?.output??ln()})}let cu=eP("ZodCustom",(e,t)=>{iQ.init(e,t),o1.init(e,t)});function cl(e){let t=new r7({check:"custom"});return t._zod.check=e,t}function cc(e,t){return oS(cu,e??(()=>!0),t)}function cd(e,t={}){return ow(cu,e,t)}function cp(e){return oR(e)}function cf(e,t={error:`Input not instance of ${e.name}`}){let r=new cu({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...oP.normalizeParams(t)});return r._zod.bag.Class=e,r}let ch=(...e)=>oA({Codec:l8,Boolean:uQ,String:o2},...e);function cm(e){let t=cn(()=>l_([o6(e),uF(),uX(),u7(),ld(t),lA(o6(),t)]));return t}function cg(e,t){return l3(lB(e),t)}e.s(["ZodFirstPartyTypeKind",()=>a,"ZodIssueCode",()=>cy,"getErrorMap",()=>cb,"setErrorMap",()=>c_],54733);let cy={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function c_(e){eM({customError:e})}function cb(){return eM().customError}function cv(e){return sG(o2,e)}function cE(e){return ap(uK,e)}function cS(e){return ab(uQ,e)}function cw(e){return aE(uJ,e)}function cR(e){return ax(lu,e)}a||(a={}),e.s(["bigint",()=>cw,"boolean",()=>cS,"date",()=>cR,"number",()=>cE,"string",()=>cv],43220),eM(i9()),e.s(["$brand",()=>ex,"$input",()=>sq,"$output",()=>sz,"NEVER",()=>eN,"TimePrecision",()=>aa,"ZodAny",()=>le,"ZodArray",()=>lc,"ZodBase64",()=>uN,"ZodBase64URL",()=>ux,"ZodBigInt",()=>uJ,"ZodBigIntFormat",()=>u1,"ZodBoolean",()=>uQ,"ZodCIDRv4",()=>uA,"ZodCIDRv6",()=>uI,"ZodCUID",()=>up,"ZodCUID2",()=>uh,"ZodCatch",()=>l0,"ZodCodec",()=>l8,"ZodCustom",()=>cu,"ZodCustomStringFormat",()=>uU,"ZodDate",()=>lu,"ZodDefault",()=>lV,"ZodDiscriminatedUnion",()=>lb,"ZodE164",()=>uk,"ZodEmail",()=>o8,"ZodEmoji",()=>uu,"ZodEnum",()=>lx,"ZodError",()=>oz,"ZodFile",()=>l$,"ZodFirstPartyTypeKind",()=>a,"ZodFunction",()=>ca,"ZodGUID",()=>o9,"ZodIPv4",()=>uS,"ZodIPv6",()=>uR,"ZodISODate",()=>ok,"ZodISODateTime",()=>ox,"ZodISODuration",()=>oU,"ZodISOTime",()=>oM,"ZodIntersection",()=>lE,"ZodIssueCode",()=>cy,"ZodJWT",()=>uM,"ZodKSUID",()=>uv,"ZodLazy",()=>cr,"ZodLiteral",()=>lL,"ZodMap",()=>lI,"ZodNaN",()=>l4,"ZodNanoID",()=>uc,"ZodNever",()=>li,"ZodNonOptional",()=>lW,"ZodNull",()=>u9,"ZodNullable",()=>lK,"ZodNumber",()=>uK,"ZodNumberFormat",()=>uY,"ZodObject",()=>lf,"ZodOptional",()=>lz,"ZodPipe",()=>l6,"ZodPrefault",()=>lH,"ZodPromise",()=>ci,"ZodReadonly",()=>l9,"ZodRealError",()=>oq,"ZodRecord",()=>lO,"ZodSet",()=>lN,"ZodString",()=>o2,"ZodStringFormat",()=>o3,"ZodSuccess",()=>lX,"ZodSymbol",()=>u6,"ZodTemplateLiteral",()=>ce,"ZodTransform",()=>lj,"ZodTuple",()=>lw,"ZodType",()=>o1,"ZodULID",()=>ug,"ZodURL",()=>us,"ZodUUID",()=>ue,"ZodUndefined",()=>u8,"ZodUnion",()=>ly,"ZodUnknown",()=>lr,"ZodVoid",()=>la,"ZodXID",()=>u_,"_ZodString",()=>o4,"_default",()=>lG,"_function",()=>co,"any",()=>lt,"array",()=>ld,"base64",()=>uP,"base64url",()=>uD,"bigint",()=>u0,"boolean",()=>uX,"catch",()=>l1,"check",()=>cl,"cidrv4",()=>uT,"cidrv6",()=>uC,"clone",()=>ts,"codec",()=>l5,"coerce",()=>cx,"config",()=>eM,"core",()=>cC,"cuid",()=>uf,"cuid2",()=>um,"custom",()=>cc,"date",()=>ll,"decode",()=>oH,"decodeAsync",()=>oW,"discriminatedUnion",()=>lv,"e164",()=>uL,"email",()=>o5,"emoji",()=>ul,"encode",()=>oG,"encodeAsync",()=>oZ,"endsWith",()=>a0,"enum",()=>lD,"file",()=>lU,"flattenError",()=>t$,"float32",()=>uG,"float64",()=>uH,"formatError",()=>tU,"function",()=>co,"getErrorMap",()=>cb,"globalRegistry",()=>sY,"gt",()=>aM,"gte",()=>a$,"guid",()=>o7,"hash",()=>uq,"hex",()=>uz,"hostname",()=>uB,"httpUrl",()=>uo,"includes",()=>aX,"instanceof",()=>cf,"int",()=>uV,"int32",()=>uZ,"int64",()=>u4,"intersection",()=>lS,"ipv4",()=>uw,"ipv6",()=>uO,"iso",()=>cP,"json",()=>cm,"jwt",()=>u$,"keyof",()=>lp,"ksuid",()=>uE,"lazy",()=>cn,"length",()=>aH,"literal",()=>lM,"locales",()=>cN,"looseObject",()=>lg,"lowercase",()=>aW,"lt",()=>ak,"lte",()=>aL,"map",()=>lC,"maxLength",()=>aV,"maxSize",()=>aK,"mime",()=>a4,"minLength",()=>aG,"minSize",()=>aF,"multipleOf",()=>aq,"nan",()=>l2,"nanoid",()=>ud,"nativeEnum",()=>lk,"negative",()=>aj,"never",()=>ls,"nonnegative",()=>az,"nonoptional",()=>lQ,"nonpositive",()=>aB,"normalize",()=>a6,"null",()=>u7,"nullable",()=>lF,"nullish",()=>lY,"number",()=>uF,"object",()=>lh,"optional",()=>lq,"overwrite",()=>a2,"parse",()=>oK,"parseAsync",()=>oF,"partialRecord",()=>lT,"pipe",()=>l3,"positive",()=>aU,"prefault",()=>lZ,"preprocess",()=>cg,"prettifyError",()=>tz,"promise",()=>cs,"property",()=>a1,"readonly",()=>l7,"record",()=>lA,"refine",()=>cd,"regex",()=>aZ,"regexes",()=>oN,"registry",()=>sF,"safeDecode",()=>oX,"safeDecodeAsync",()=>o0,"safeEncode",()=>oQ,"safeEncodeAsync",()=>oJ,"safeParse",()=>oY,"safeParseAsync",()=>oV,"set",()=>lP,"setErrorMap",()=>c_,"size",()=>aY,"startsWith",()=>aJ,"strictObject",()=>lm,"string",()=>o6,"stringFormat",()=>uj,"stringbool",()=>ch,"success",()=>lJ,"superRefine",()=>cp,"symbol",()=>u3,"templateLiteral",()=>ct,"toJSONSchema",()=>oC,"toLowerCase",()=>a8,"toUpperCase",()=>a5,"transform",()=>lB,"treeifyError",()=>tj,"trim",()=>a3,"tuple",()=>lR,"uint32",()=>uW,"uint64",()=>u2,"ulid",()=>uy,"undefined",()=>u5,"union",()=>l_,"unknown",()=>ln,"uppercase",()=>aQ,"url",()=>ua,"util",()=>oP,"uuid",()=>ut,"uuidv4",()=>ur,"uuidv6",()=>un,"uuidv7",()=>ui,"void",()=>lo,"xid",()=>ub],19281),e.i(62690),e.s(["$ZodAny",()=>n7,"$ZodArray",()=>ia,"$ZodAsyncError",()=>eD,"$ZodBase64",()=>nH,"$ZodBase64URL",()=>nW,"$ZodBigInt",()=>n6,"$ZodBigIntFormat",()=>n3,"$ZodBoolean",()=>n2,"$ZodCIDRv4",()=>nY,"$ZodCIDRv6",()=>nV,"$ZodCUID",()=>nk,"$ZodCUID2",()=>nL,"$ZodCatch",()=>iU,"$ZodCheck",()=>r7,"$ZodCheckBigIntFormat",()=>ns,"$ZodCheckEndsWith",()=>n_,"$ZodCheckGreaterThan",()=>nr,"$ZodCheckIncludes",()=>ng,"$ZodCheckLengthEquals",()=>nd,"$ZodCheckLessThan",()=>nt,"$ZodCheckLowerCase",()=>nh,"$ZodCheckMaxLength",()=>nl,"$ZodCheckMaxSize",()=>na,"$ZodCheckMimeType",()=>nE,"$ZodCheckMinLength",()=>nc,"$ZodCheckMinSize",()=>no,"$ZodCheckMultipleOf",()=>nn,"$ZodCheckNumberFormat",()=>ni,"$ZodCheckOverwrite",()=>nS,"$ZodCheckProperty",()=>nv,"$ZodCheckRegex",()=>nf,"$ZodCheckSizeEquals",()=>nu,"$ZodCheckStartsWith",()=>ny,"$ZodCheckStringFormat",()=>np,"$ZodCheckUpperCase",()=>nm,"$ZodCodec",()=>iq,"$ZodCustom",()=>iQ,"$ZodCustomStringFormat",()=>n0,"$ZodDate",()=>ii,"$ZodDefault",()=>ix,"$ZodDiscriminatedUnion",()=>im,"$ZodE164",()=>nQ,"$ZodEmail",()=>nN,"$ZodEmoji",()=>nx,"$ZodEncodeError",()=>ek,"$ZodEnum",()=>iO,"$ZodError",()=>tL,"$ZodFile",()=>iT,"$ZodFunction",()=>iH,"$ZodGUID",()=>nI,"$ZodIPv4",()=>nK,"$ZodIPv6",()=>nF,"$ZodISODate",()=>nB,"$ZodISODateTime",()=>nj,"$ZodISODuration",()=>nq,"$ZodISOTime",()=>nz,"$ZodIntersection",()=>ig,"$ZodJWT",()=>nJ,"$ZodKSUID",()=>nU,"$ZodLazy",()=>iW,"$ZodLiteral",()=>iA,"$ZodMap",()=>iE,"$ZodNaN",()=>ij,"$ZodNanoID",()=>nD,"$ZodNever",()=>it,"$ZodNonOptional",()=>iL,"$ZodNull",()=>n9,"$ZodNullable",()=>iP,"$ZodNumber",()=>n1,"$ZodNumberFormat",()=>n4,"$ZodObject",()=>ic,"$ZodObjectJIT",()=>id,"$ZodOptional",()=>iN,"$ZodPipe",()=>iB,"$ZodPrefault",()=>ik,"$ZodPromise",()=>iZ,"$ZodReadonly",()=>iY,"$ZodRealError",()=>tM,"$ZodRecord",()=>iv,"$ZodRegistry",()=>sK,"$ZodSet",()=>iw,"$ZodString",()=>nA,"$ZodStringFormat",()=>nT,"$ZodSuccess",()=>i$,"$ZodSymbol",()=>n8,"$ZodTemplateLiteral",()=>iG,"$ZodTransform",()=>iI,"$ZodTuple",()=>i_,"$ZodType",()=>nO,"$ZodULID",()=>nM,"$ZodURL",()=>nP,"$ZodUUID",()=>nC,"$ZodUndefined",()=>n5,"$ZodUnion",()=>ih,"$ZodUnknown",()=>ie,"$ZodVoid",()=>ir,"$ZodXID",()=>n$,"$brand",()=>ex,"$constructor",()=>eP,"$input",()=>sq,"$output",()=>sz,"Doc",()=>nw,"JSONSchema",()=>cI,"JSONSchemaGenerator",()=>oI,"NEVER",()=>eN,"TimePrecision",()=>aa,"_any",()=>aT,"_array",()=>a9,"_base64",()=>ar,"_base64url",()=>an,"_bigint",()=>av,"_boolean",()=>a_,"_catch",()=>og,"_check",()=>oO,"_cidrv4",()=>ae,"_cidrv6",()=>at,"_coercedBigint",()=>aE,"_coercedBoolean",()=>ab,"_coercedDate",()=>ax,"_coercedNumber",()=>ap,"_coercedString",()=>sG,"_cuid",()=>s2,"_cuid2",()=>s6,"_custom",()=>oS,"_date",()=>aP,"_decode",()=>tX,"_decodeAsync",()=>t4,"_default",()=>of,"_discriminatedUnion",()=>oe,"_e164",()=>ai,"_email",()=>sH,"_emoji",()=>s1,"_encode",()=>tW,"_encodeAsync",()=>t0,"_endsWith",()=>a0,"_enum",()=>oa,"_file",()=>ol,"_float32",()=>ah,"_float64",()=>am,"_gt",()=>aM,"_gte",()=>a$,"_guid",()=>sZ,"_includes",()=>aX,"_int",()=>af,"_int32",()=>ag,"_int64",()=>aS,"_intersection",()=>ot,"_ipv4",()=>s9,"_ipv6",()=>s7,"_isoDate",()=>au,"_isoDateTime",()=>ao,"_isoDuration",()=>ac,"_isoTime",()=>al,"_jwt",()=>as,"_ksuid",()=>s5,"_lazy",()=>ov,"_length",()=>aH,"_literal",()=>ou,"_lowercase",()=>aW,"_lt",()=>ak,"_lte",()=>aL,"_map",()=>oi,"_max",()=>aL,"_maxLength",()=>aV,"_maxSize",()=>aK,"_mime",()=>a4,"_min",()=>a$,"_minLength",()=>aG,"_minSize",()=>aF,"_multipleOf",()=>aq,"_nan",()=>aD,"_nanoid",()=>s4,"_nativeEnum",()=>oo,"_negative",()=>aj,"_never",()=>aC,"_nonnegative",()=>az,"_nonoptional",()=>oh,"_nonpositive",()=>aB,"_normalize",()=>a6,"_null",()=>aA,"_nullable",()=>op,"_number",()=>ad,"_optional",()=>od,"_overwrite",()=>a2,"_parse",()=>tq,"_parseAsync",()=>tF,"_pipe",()=>oy,"_positive",()=>aU,"_promise",()=>oE,"_property",()=>a1,"_readonly",()=>o_,"_record",()=>on,"_refine",()=>ow,"_regex",()=>aZ,"_safeDecode",()=>t8,"_safeDecodeAsync",()=>re,"_safeEncode",()=>t6,"_safeEncodeAsync",()=>t9,"_safeParse",()=>tV,"_safeParseAsync",()=>tH,"_set",()=>os,"_size",()=>aY,"_startsWith",()=>aJ,"_string",()=>sV,"_stringFormat",()=>oT,"_stringbool",()=>oA,"_success",()=>om,"_superRefine",()=>oR,"_symbol",()=>aR,"_templateLiteral",()=>ob,"_toLowerCase",()=>a8,"_toUpperCase",()=>a5,"_transform",()=>oc,"_trim",()=>a3,"_tuple",()=>or,"_uint32",()=>ay,"_uint64",()=>aw,"_ulid",()=>s3,"_undefined",()=>aO,"_union",()=>a7,"_unknown",()=>aI,"_uppercase",()=>aQ,"_url",()=>s0,"_uuid",()=>sW,"_uuidv4",()=>sQ,"_uuidv6",()=>sX,"_uuidv7",()=>sJ,"_void",()=>aN,"_xid",()=>s8,"clone",()=>ts,"config",()=>eM,"decode",()=>tJ,"decodeAsync",()=>t2,"encode",()=>tQ,"encodeAsync",()=>t1,"flattenError",()=>t$,"formatError",()=>tU,"globalConfig",()=>eL,"globalRegistry",()=>sY,"isValidBase64",()=>nG,"isValidBase64URL",()=>nZ,"isValidJWT",()=>nX,"locales",()=>cT,"parse",()=>tK,"parseAsync",()=>tY,"prettifyError",()=>tz,"regexes",()=>cA,"registry",()=>sF,"safeDecode",()=>t5,"safeDecodeAsync",()=>rt,"safeEncode",()=>t3,"safeEncodeAsync",()=>t7,"safeParse",()=>tG,"safeParseAsync",()=>tZ,"toDotPath",()=>tB,"toJSONSchema",()=>oC,"treeifyError",()=>tj,"util",()=>cO,"version",()=>nR],49415),e.i(35397),e.i(23489),e.i(39443),e.i(56898),e.i(43034),e.i(52973),e.i(20101);var cO=oP,cA=oN;e.s(["ar",()=>iJ,"az",()=>i0,"be",()=>i4,"bg",()=>i2,"ca",()=>i6,"cs",()=>i3,"da",()=>i8,"de",()=>i5,"en",()=>i9,"eo",()=>i7,"es",()=>se,"fa",()=>st,"fi",()=>sr,"fr",()=>sn,"frCA",()=>si,"he",()=>ss,"hu",()=>sa,"id",()=>so,"is",()=>su,"it",()=>sl,"ja",()=>sc,"ka",()=>sd,"kh",()=>sf,"km",()=>sp,"ko",()=>sh,"lt",()=>s_,"mk",()=>sb,"ms",()=>sv,"nl",()=>sE,"no",()=>sS,"ota",()=>sw,"pl",()=>sO,"ps",()=>sR,"pt",()=>sA,"ru",()=>sI,"sl",()=>sC,"sv",()=>sN,"ta",()=>sP,"th",()=>sx,"tr",()=>sD,"ua",()=>sL,"uk",()=>sk,"ur",()=>sM,"vi",()=>s$,"yo",()=>sB,"zhCN",()=>sU,"zhTW",()=>sj],27646),e.i(10412);var cT=e.i(27646);e.i(86576),e.i(58078),e.i(90567),e.i(82780);var cI=e.i(951),cC=e.i(49415);e.i(14539),e.s(["endsWith",()=>a0,"gt",()=>aM,"gte",()=>a$,"includes",()=>aX,"length",()=>aH,"lowercase",()=>aW,"lt",()=>ak,"lte",()=>aL,"maxLength",()=>aV,"maxSize",()=>aK,"mime",()=>a4,"minLength",()=>aG,"minSize",()=>aF,"multipleOf",()=>aq,"negative",()=>aj,"nonnegative",()=>az,"nonpositive",()=>aB,"normalize",()=>a6,"overwrite",()=>a2,"positive",()=>aU,"property",()=>a1,"regex",()=>aZ,"size",()=>aY,"startsWith",()=>aJ,"toLowerCase",()=>a8,"toUpperCase",()=>a5,"trim",()=>a3,"uppercase",()=>aQ],55685),e.i(42391),e.i(55685),e.i(71147),e.i(76166),e.s(["$brand",()=>ex,"ZodFirstPartyTypeKind",()=>a,"ZodIssueCode",()=>cy,"config",()=>eM,"getErrorMap",()=>cb,"setErrorMap",()=>c_],27342),e.i(54733),e.i(27342);var oN=oN,oP=oP,cN=cT,cP=e.i(49469),cx=e.i(43220),cD=e.i(19281);let ck=cD;e.i(18291);var cL=cD;e.i(1577);var cx=cx;e.s(["a",()=>cX,"c",()=>cW,"d",()=>c0,"g",()=>cQ,"s",()=>cJ],53320);var cM=e.i(19014);e.s(["g",()=>c$],18655);let c$=(e,t="ms")=>new Date(Date.now()+("sec"===t?1e3*e:e));var cU=e.i(68441);e.s(["createHMAC",()=>cz],26246);var cj=e.i(84331),cB=e.i(73018);let cz=(e="SHA-256",t="none")=>{let r={importKey:async(t,r)=>(0,cB.getWebcryptoSubtle)().importKey("raw","string"==typeof t?new TextEncoder().encode(t):t,{name:"HMAC",hash:{name:e}},!1,[r]),sign:async(e,n)=>{"string"==typeof e&&(e=await r.importKey(e,"sign"));let i=await (0,cB.getWebcryptoSubtle)().sign("HMAC",e,"string"==typeof n?new TextEncoder().encode(n):n);return"hex"===t?cj.hex.encode(i):"base64"===t||"base64url"===t||"base64urlnopad"===t?o.base64Url.encode(i,{padding:"base64urlnopad"!==t}):i},verify:async(e,n,i)=>("string"==typeof e&&(e=await r.importKey(e,"verify")),"hex"===t&&(i=cj.hex.decode(i)),("base64"===t||"base64url"===t||"base64urlnopad"===t)&&(i=await o.base64.decode(i)),(0,cB.getWebcryptoSubtle)().verify("HMAC",e,"string"==typeof i?new TextEncoder().encode(i):i,"string"==typeof n?new TextEncoder().encode(n):n))};return r};var cq=e.i(51386);function cK(e,t="/api/auth"){if(function(e){try{let t=new URL(e).pathname.replace(/\/+$/,"")||"/";return"/"!==t}catch(t){throw new cM.BetterAuthError(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}(e))return e;let r=e.replace(/\/+$/,"");return t&&"/"!==t?(t=t.startsWith("/")?t:`/${t}`,`${r}${t}`):r}function cF(e,t,r,n){if(e)return cK(e,t);if(!1!==n){let e=cU.env.BETTER_AUTH_URL||cU.env.NEXT_PUBLIC_BETTER_AUTH_URL||cU.env.PUBLIC_BETTER_AUTH_URL||cU.env.NUXT_PUBLIC_BETTER_AUTH_URL||cU.env.NUXT_PUBLIC_AUTH_URL||("/"!==cU.env.BASE_URL?cU.env.BASE_URL:void 0);if(e)return cK(e,t)}let i=r?.headers.get("x-forwarded-host"),s=r?.headers.get("x-forwarded-proto");if(i&&s)return cK(`${s}://${i}`,t);if(r){let e=cY(r.url);if(!e)throw new cM.BetterAuthError("Could not get origin from request. Please provide a valid base URL.");return cK(e,t)}}function cY(e){try{return new URL(e).origin}catch(e){return null}}function cV(e){try{return new URL(e).protocol}catch(e){return null}}function cG(e){try{return new URL(e).host}catch(e){return null}}e.s(["a",()=>cF,"b",()=>cG,"c",()=>cV,"g",()=>cY],39859),e.s(["binary",()=>cZ],66129);let cH=new Map,cZ={decode:(e,t="utf-8")=>(cH.has(t)||cH.set(t,new TextDecoder(t)),cH.get(t).decode(e)),encode:new TextEncoder().encode};e.s([],91332);function cW(e){let t=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:void 0!==e.baseURL?!!e.baseURL.startsWith("https://"):cU.isProduction)?"__Secure-":"",r=!!e.advanced?.crossSubDomainCookies?.enabled,n=r?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(r&&!n)throw new cM.BetterAuthError("baseURL is required when crossSubdomainCookies are enabled");return function(i,s={}){let a=e.advanced?.cookiePrefix||"better-auth",o=e.advanced?.cookies?.[i]?.name||`${a}.${i}`,u=e.advanced?.cookies?.[i]?.attributes;return{name:`${t}${o}`,attributes:{secure:!!t,sameSite:"lax",path:"/",httpOnly:!0,...r?{domain:n}:{},...e.advanced?.defaultCookieAttributes,...s,...u}}}}function cQ(e){let t=cW(e),r=t("session_token",{maxAge:e.session?.expiresIn||function(e,t){var r="7d";if("string"!=typeof r||0===r.length||r.length>100)throw Error(`Value provided to ms.parse() must be a string with length between 1 and 99. value=${JSON.stringify(r)}`);let n=/^(?<value>-?\d*\.?\d+) *(?<unit>milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|months?|mo|years?|yrs?|y)?$/i.exec(r);if(!n?.groups)return NaN;let{value:i,unit:s="ms"}=n.groups,a=parseFloat(i),o=s.toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"months":case"month":case"mo":return 26298e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return 864e5*a;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*a;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*a;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:throw Error(`Unknown unit "${o}" provided to ms.parse(). value=${JSON.stringify(r)}`)}}("7d")/1e3}),n=t("session_data",{maxAge:e.session?.cookieCache?.maxAge||300}),i=t("dont_remember");return{sessionToken:{name:r.name,options:r.attributes},sessionData:{name:n.name,options:n.attributes},dontRememberToken:{name:i.name,options:i.attributes}}}async function cX(e,t,r){if(e.context.options.session?.cookieCache?.enabled){let n={session:Object.entries(t.session).reduce((t,[r,n])=>{let i=e.context.options.session?.additionalFields?.[r];return i&&!1===i.returned||(t[r]=n),t},{}),user:t.user},i={...e.context.authCookies.sessionData.options,maxAge:r?void 0:e.context.authCookies.sessionData.options.maxAge},s=c$(i.maxAge||60,"sec").getTime(),a=o.base64Url.encode(JSON.stringify({session:n,expiresAt:s,signature:await cz("SHA-256","base64urlnopad").sign(e.context.secret,JSON.stringify({...n,expiresAt:s}))}),{padding:!1});if(a.length>4093)return void e.context?.logger?.error(`Session data exceeds cookie size limit (${a.length} bytes > 4093 bytes). Consider reducing session data size or disabling cookie cache. Session will not be cached in cookie.`);e.setCookie(e.context.authCookies.sessionData.name,a,i)}}async function cJ(e,t,r,n){let i=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);r=void 0!==r?r:!!i;let s=e.context.authCookies.sessionToken.options,a=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.token,e.context.secret,{...s,maxAge:a,...n}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,"true",e.context.secret,e.context.authCookies.dontRememberToken.options),await cX(e,t,r),e.context.setNewSession(t),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.token,JSON.stringify({user:t.user,session:t.session}),Math.floor((new Date(t.session.expiresAt).getTime()-Date.now())/1e3))}function c0(e,t){e.setCookie(e.context.authCookies.sessionToken.name,"",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,"",{...e.context.authCookies.sessionData.options,maxAge:0}),t||e.setCookie(e.context.authCookies.dontRememberToken.name,"",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}e.s(["createAuthEndpoint",()=>c2,"createAuthMiddleware",()=>c4],57308);let c1=(0,eC.createMiddleware)(async()=>({})),c4=eC.createMiddleware.create({use:[c1,(0,eC.createMiddleware)(async()=>({}))]}),c2=eC.createEndpoint.create({use:[c1]});var c6=e.i(56685);function c3(e){let t,r;if("string"!=typeof e)throw new z("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new z("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new z("Invalid JWT");if(!n)throw new z("JWTs must contain a payload");try{t=D(n)}catch{throw new z("Failed to base64url decode the payload")}try{r=JSON.parse(P.decode(t))}catch{throw new z("Failed to parse the decoded payload as JSON")}if(!en(r))throw new z("Invalid JWT Claims Set");return r}function c8(e){let t;if("string"==typeof e){let r=e.split(".");(3===r.length||5===r.length)&&([t]=r)}else if("object"==typeof e&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if("string"!=typeof t||!t)throw Error();let e=JSON.parse(P.decode(D(t)));if(!en(e))throw Error();return e}catch{throw TypeError("Invalid Token or Protected Header formatting")}}async function c5(e,t,r){let n;if(!en(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return D(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new j('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return ep({...e,alg:t,ext:n});case"AKP":if("string"!=typeof e.alg||!e.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw TypeError("JWK alg and alg option value mismatch");return ep({...e,ext:n});case"EC":case"OKP":return ep({...e,alg:t,ext:n});default:throw new j('Unsupported "kty" (Key Type) Parameter value')}}function c9(e){return en(e)}e.s(["SocialProviderListEnum",()=>dd,"socialProviders",()=>dc],57250);class c7{#r;#n=new WeakMap;constructor(e){if(!function(e){return e&&"object"==typeof e&&Array.isArray(e.keys)&&e.keys.every(c9)}(e))throw new q("JSON Web Key Set malformed");this.#r=structuredClone(e)}jwks(){return this.#r}async getKey(e,t){let{alg:r,kid:n}={...e,...t?.header},i=function(e){switch("string"==typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";case"ML":return"AKP";default:throw new j('Unsupported "alg" value for a JSON Web Key Set')}}(r),s=this.#r.keys.filter(e=>{let t=i===e.kty;if(t&&"string"==typeof n&&(t=n===e.kid),t&&("string"==typeof e.alg||"AKP"===i)&&(t=r===e.alg),t&&"string"==typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t)switch(r){case"ES256":t="P-256"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv;break;case"Ed25519":case"EdDSA":t="Ed25519"===e.crv}return t}),{0:a,length:o}=s;if(0===o)throw new K;if(1!==o){let e=new F,t=this.#n;throw e[Symbol.asyncIterator]=async function*(){for(let e of s)try{yield await de(t,e,r)}catch{}},e}return de(this.#n,a,r)}}async function de(e,t,r){let n=e.get(t)||e.set(t,{}).get(t);if(void 0===n[r]){let e=await c5({...t,ext:!0},r);if(e instanceof Uint8Array||"public"!==e.type)throw new q("JSON Web Key Set members must be public keys");n[r]=e}return n[r]}function dt(e){let t=new c7(e),r=async(e,r)=>t.getKey(e,r);return Object.defineProperties(r,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),r}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(r="jose/v6.1.0");let dr=Symbol();async function dn(e,t,r,n=fetch){let i=await n(e,{method:"GET",signal:r,redirect:"manual",headers:t}).catch(e=>{if("TimeoutError"===e.name)throw new Y;throw e});if(200!==i.status)throw new L("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await i.json()}catch{throw new L("Failed to parse the JSON Web Key Set HTTP response as JSON")}}let di=Symbol();class ds{#i;#s;#a;#o;#u;#l;#c;#d;#p;#f;constructor(e,t){if(!(e instanceof URL))throw TypeError("url must be an instance of URL");this.#i=new URL(e.href),this.#s="number"==typeof t?.timeoutDuration?t?.timeoutDuration:5e3,this.#a="number"==typeof t?.cooldownDuration?t?.cooldownDuration:3e4,this.#o="number"==typeof t?.cacheMaxAge?t?.cacheMaxAge:6e5,this.#c=new Headers(t?.headers),r&&!this.#c.has("User-Agent")&&this.#c.set("User-Agent",r),this.#c.has("accept")||(this.#c.set("accept","application/json"),this.#c.append("accept","application/jwk-set+json")),this.#d=t?.[dr],t?.[di]!==void 0&&(this.#f=t?.[di],function(e,t){return!("object"!=typeof e||null===e||!("uat"in e)||"number"!=typeof e.uat||Date.now()-e.uat>=t)&&"jwks"in e&&!!en(e.jwks)&&!!Array.isArray(e.jwks.keys)&&!!Array.prototype.every.call(e.jwks.keys,en)}(t?.[di],this.#o)&&(this.#u=this.#f.uat,this.#p=dt(this.#f.jwks)))}pendingFetch(){return!!this.#l}coolingDown(){return"number"==typeof this.#u&&Date.now()<this.#u+this.#a}fresh(){return"number"==typeof this.#u&&Date.now()<this.#u+this.#o}jwks(){return this.#p?.jwks()}async getKey(e,t){this.#p&&this.fresh()||await this.reload();try{return await this.#p(e,t)}catch(r){if(r instanceof K&&!1===this.coolingDown())return await this.reload(),this.#p(e,t);throw r}}async reload(){this.#l&&("undefined"!=typeof WebSocketPair||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!=typeof EdgeRuntime&&"vercel"===EdgeRuntime)&&(this.#l=void 0),this.#l||=dn(this.#i.href,this.#c,AbortSignal.timeout(this.#s),this.#d).then(e=>{this.#p=dt(e),this.#f&&(this.#f.uat=Date.now(),this.#f.jwks=e),this.#u=Date.now(),this.#l=void 0}).catch(e=>{throw this.#l=void 0,e}),await this.#l}}e.i(31786);let da=async e=>{let{data:t}=await C("https://appleid.apple.com/auth/keys");if(!t?.keys)throw new eC.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await c5(r,r.alg)},du=async(e,t,r)=>{let n=`https://cognito-idp.${t}.amazonaws.com/${r}/.well-known/jwks.json`;try{let{data:t}=await C(n);if(!t?.keys)throw new eC.APIError("BAD_REQUEST",{message:"Keys not found"});let r=t.keys.find(t=>t.kid===e);if(!r)throw Error(`JWK with kid ${e} not found`);return await c5(r,r.alg)}catch(e){throw cU.logger.error("Failed to fetch Cognito public key:",e),e}},dl=(e="")=>e.split("://").map(e=>e.replace(/\/{2,}/g,"/")).join("://"),dc={apple:e=>({id:"apple",name:"Apple",async createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["email","name"];return e.scope&&i.push(...e.scope),r&&i.push(...r),await eA({id:"apple",options:e,authorizationEndpoint:"https://appleid.apple.com/auth/authorize",scopes:i,state:t,redirectURI:n,responseMode:"form_post",responseType:"code id_token"})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://appleid.apple.com/auth/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let{kid:n,alg:i}=c8(t);if(!n||!i)return!1;let s=await da(n),{payload:a}=await ew(t,s,{algorithms:[i],issuer:"https://appleid.apple.com",audience:e.audience&&e.audience.length?e.audience:e.appBundleIdentifier?e.appBundleIdentifier:e.clientId,maxTokenAge:"1h"});return["email_verified","is_private_email"].forEach(e=>{void 0!==a[e]&&(a[e]=!!a[e])}),(!r||a.nonce===r)&&!!a},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://appleid.apple.com/auth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=c3(t.idToken);if(!r)return null;let n=t.user?`${t.user.name?.firstName} ${t.user.name?.lastName}`:r.name||r.email,i="boolean"==typeof r.email_verified?r.email_verified:"true"===r.email_verified,s={...r,name:n},a=await e.mapProfileToUser?.(s);return{user:{id:r.sub,name:s.name,emailVerified:i,email:r.email,...a},data:s}},options:e}),atlassian:e=>({id:"atlassian",name:"Atlassian",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw cU.logger.error("Client Id and Secret are required for Atlassian"),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new cM.BetterAuthError("codeVerifier is required for Atlassian");let s=e.disableDefaultScope?[]:["read:jira-user","offline_access"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"atlassian",options:e,authorizationEndpoint:"https://auth.atlassian.com/authorize",scopes:s,state:t,codeVerifier:n,redirectURI:i,additionalParams:{audience:"api.atlassian.com"},prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:"https://auth.atlassian.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;try{let{data:r}=await C("https://api.atlassian.com/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name,email:r.email,image:r.picture,emailVerified:!1,...n},data:r}}catch(e){return cU.logger.error("Failed to fetch user info from Figma:",e),null}},options:e}),cognito:e=>{if(!e.domain||!e.region||!e.userPoolId)throw cU.logger.error("Domain, region and userPoolId are required for Amazon Cognito. Make sure to provide them in the options."),new cM.BetterAuthError("DOMAIN_AND_REGION_REQUIRED");let t=e.domain.replace(/^https?:\/\//,""),r=`https://${t}/oauth2/authorize`,n=`https://${t}/oauth2/token`,i=`https://${t}/oauth2/userinfo`;return{id:"cognito",name:"Cognito",async createAuthorizationURL({state:t,scopes:n,codeVerifier:i,redirectURI:s}){if(!e.clientId)throw cU.logger.error("ClientId is required for Amazon Cognito. Make sure to provide them in the options."),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");if(e.requireClientSecret&&!e.clientSecret)throw cU.logger.error("Client Secret is required when requireClientSecret is true. Make sure to provide it in the options."),new cM.BetterAuthError("CLIENT_SECRET_REQUIRED");let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),n&&a.push(...n),await eA({id:"cognito",options:{...e},authorizationEndpoint:r,scopes:a,state:t,codeVerifier:i,redirectURI:s,prompt:e.prompt})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>eT({code:t,codeVerifier:r,redirectURI:i,options:e,tokenEndpoint:n}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:n}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{let{kid:n,alg:i}=c8(t);if(!n||!i)return!1;let s=await du(n,e.region,e.userPoolId),a=`https://cognito-idp.${e.region}.amazonaws.com/${e.userPoolId}`,{payload:o}=await ew(t,s,{algorithms:[i],issuer:a,audience:e.clientId,maxTokenAge:"1h"});if(r&&o.nonce!==r)return!1;return!0}catch(e){return cU.logger.error("Failed to verify ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken)try{let r=c3(t.idToken);if(!r)return null;let n=r.name||r.given_name||r.username||r.email,i={...r,name:n},s=await e.mapProfileToUser?.(i);return{user:{id:r.sub,name:i.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...s},data:i}}catch(e){cU.logger.error("Failed to decode ID token:",e)}if(t.accessToken)try{let{data:r}=await C(i,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(r){let t=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.given_name||r.username,email:r.email,image:r.picture,emailVerified:r.email_verified,...t},data:r}}}catch(e){cU.logger.error("Failed to fetch user info from Cognito:",e)}return null},options:e}},discord:e=>({id:"discord",name:"Discord",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["identify","email"];r&&i.push(...r),e.scope&&i.push(...e.scope);let s=i.includes("bot")&&void 0!==e.permissions?`&permissions=${e.permissions}`:"";return new URL(`https://discord.com/api/oauth2/authorize?scope=${i.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}&prompt=${e.prompt||"none"}${s}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://discord.com/api/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://discord.com/api/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://discord.com/api/users/@me",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;if(null===r.avatar){let e="0"===r.discriminator?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${e}.png`}else{let e=r.avatar.startsWith("a_")?"gif":"png";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${e}`}let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.global_name||r.username||"",email:r.email,emailVerified:r.verified,image:r.image_url,...i},data:r}},options:e}),facebook:e=>({id:"facebook",name:"Facebook",async createAuthorizationURL({state:t,scopes:r,redirectURI:n,loginHint:i}){let s=e.disableDefaultScope?[]:["email","public_profile"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await eA({id:"facebook",options:e,authorizationEndpoint:"https://www.facebook.com/v21.0/dialog/oauth",scopes:s,state:t,redirectURI:n,loginHint:i,additionalParams:e.configId?{config_id:e.configId}:{}})},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://graph.facebook.com/oauth/access_token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);if(3===t.split(".").length)try{let{payload:n}=await ew(t,function(e,t){let r=new ds(e,void 0),n=async(e,t)=>r.getKey(e,t);return Object.defineProperties(n,{coolingDown:{get:()=>r.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>r.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>r.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>r.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>r.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}(new URL("https://limited.facebook.com/.well-known/oauth/openid/jwks/")),{algorithms:["RS256"],audience:e.clientId,issuer:"https://www.facebook.com"});if(r&&n.nonce!==r)return!1;return!!n}catch(e){return!1}return!0},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://graph.facebook.com/v18.0/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(t.idToken&&3===t.idToken.split(".").length){let r=c3(t.idToken),n={id:r.sub,name:r.name,email:r.email,picture:{data:{url:r.picture,height:100,width:100,is_silhouette:!1}}},i=await e.mapProfileToUser?.({...n,email_verified:!0});return{user:{...n,emailVerified:!0,...i},data:r}}let r=["id","name","email","picture",...e?.fields||[]],{data:n,error:i}=await C("https://graph.facebook.com/me?fields="+r.join(","),{auth:{type:"Bearer",token:t.accessToken}});if(i)return null;let s=await e.mapProfileToUser?.(n);return{user:{id:n.id,name:n.name,email:n.email,image:n.picture.data.url,emailVerified:n.email_verified,...s},data:n}},options:e}),figma:e=>({id:"figma",name:"Figma",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw cU.logger.error("Client Id and Client Secret are required for Figma. Make sure to provide them in the options."),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new cM.BetterAuthError("codeVerifier is required for Figma");let s=e.disableDefaultScope?[]:["file_read"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await eA({id:"figma",options:e,authorizationEndpoint:"https://www.figma.com/oauth",scopes:s,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://www.figma.com/api/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.figma.com/api/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await C("https://api.figma.com/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return cU.logger.error("Failed to fetch user from Figma"),null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.handle,email:r.email,image:r.img_url,emailVerified:!!r.email,...n},data:r}}catch(e){return cU.logger.error("Failed to fetch user info from Figma:",e),null}},options:e}),github:e=>({id:"github",name:"GitHub",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let s=e.disableDefaultScope?[]:["read:user","user:email"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"github",options:e,authorizationEndpoint:"https://github.com/login/oauth/authorize",scopes:s,state:t,redirectURI:i,loginHint:n,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://github.com/login/oauth/access_token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://github.com/login/oauth/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.github.com/user",{headers:{"User-Agent":"better-auth",authorization:`Bearer ${t.accessToken}`}});if(n)return null;let{data:i}=await C("https://api.github.com/user/emails",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});!r.email&&i&&(r.email=(i.find(e=>e.primary)??i[0])?.email);let s=i?.find(e=>e.email===r.email)?.verified??!1,a=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name||r.login,email:r.email,image:r.avatar_url,emailVerified:s,...a},data:r}},options:e}),microsoft:e=>{let t=e.tenantId||"common",r=e.authority||"https://login.microsoftonline.com",n=`${r}/${t}/oauth2/v2.0/authorize`,i=`${r}/${t}/oauth2/v2.0/token`;return{id:"microsoft",name:"Microsoft EntraID",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),eA({id:"microsoft",options:e,authorizationEndpoint:n,state:t.state,codeVerifier:t.codeVerifier,scopes:r,redirectURI:t.redirectURI,prompt:e.prompt,loginHint:t.loginHint})},validateAuthorizationCode:({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:i}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=c3(t.idToken),n=e.profilePhotoSize||48;await C(`https://graph.microsoft.com/v1.0/me/photos/${n}x${n}/$value`,{headers:{Authorization:`Bearer ${t.accessToken}`},async onResponse(t){if(!e.disableProfilePhoto&&t.response.ok)try{let e=t.response.clone(),n=await e.arrayBuffer(),i=o.base64.encode(n);r.picture=`data:image/jpeg;base64, ${i}`}catch(e){cU.logger.error(e&&"object"==typeof e&&"name"in e?e.name:"",e)}}});let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:!0,...i},data:r}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=e.disableDefaultScope?[]:["openid","profile","email","User.Read","offline_access"];return e.scope&&r.push(...e.scope),eI({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},extraParams:{scope:r.join(" ")},tokenEndpoint:i})},options:e}},google:e=>({id:"google",name:"Google",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i,loginHint:s,display:a}){if(!e.clientId||!e.clientSecret)throw cU.logger.error("Client Id and Client Secret is required for Google. Make sure to provide them in the options."),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");if(!n)throw new cM.BetterAuthError("codeVerifier is required for Google");let o=e.disableDefaultScope?[]:["email","profile","openid"];return e.scope&&o.push(...e.scope),r&&o.push(...r),await eA({id:"google",options:e,authorizationEndpoint:"https://accounts.google.com/o/oauth2/auth",scopes:o,state:t,codeVerifier:n,redirectURI:i,prompt:e.prompt,accessType:e.accessType,display:a||e.display,loginHint:s,hd:e.hd,additionalParams:{include_granted_scopes:"true"}})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://oauth2.googleapis.com/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://www.googleapis.com/oauth2/v4/token"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let n=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:i}=await C(n);return!!i&&i.aud===e.clientId&&("https://accounts.google.com"===i.iss||"accounts.google.com"===i.iss)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.idToken)return null;let r=c3(t.idToken),n=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified,...n},data:r}},options:e}),huggingface:e=>({id:"huggingface",name:"Hugging Face",createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let s=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"huggingface",options:e,authorizationEndpoint:"https://huggingface.co/oauth/authorize",scopes:s,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://huggingface.co/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://huggingface.co/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://huggingface.co/oauth/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name||r.preferred_username,email:r.email,image:r.picture,emailVerified:r.email_verified??!1,...i},data:r}},options:e}),slack:e=>({id:"slack",name:"Slack",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["openid","profile","email"];r&&i.push(...r),e.scope&&i.push(...e.scope);let s=new URL("https://slack.com/openid/connect/authorize");return s.searchParams.set("scope",i.join(" ")),s.searchParams.set("response_type","code"),s.searchParams.set("client_id",e.clientId),s.searchParams.set("redirect_uri",e.redirectURI||n),s.searchParams.set("state",t),s},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://slack.com/api/openid.connect.token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://slack.com/api/openid.connect.token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://slack.com/api/openid.connect.userInfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r["https://slack.com/user_id"],name:r.name||"",email:r.email,emailVerified:r.email_verified,image:r.picture||r["https://slack.com/user_image_512"],...i},data:r}},options:e}),spotify:e=>({id:"spotify",name:"Spotify",createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let s=e.disableDefaultScope?[]:["user-read-email"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"spotify",options:e,authorizationEndpoint:"https://accounts.spotify.com/authorize",scopes:s,state:t,codeVerifier:n,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://accounts.spotify.com/api/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://accounts.spotify.com/api/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.spotify.com/v1/me",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1,...i},data:r}},options:e}),twitch:e=>({id:"twitch",name:"Twitch",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["user:read:email","openid"];return e.scope&&i.push(...e.scope),r&&i.push(...r),eA({id:"twitch",redirectURI:n,options:e,authorizationEndpoint:"https://id.twitch.tv/oauth2/authorize",scopes:i,state:t,claims:e.claims||["email","email_verified","preferred_username","picture"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.twitch.tv/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=t.idToken;if(!r)return cU.logger.error("No idToken found in token"),null;let n=c3(r),i=await e.mapProfileToUser?.(n);return{user:{id:n.sub,name:n.preferred_username,email:n.email,image:n.picture,emailVerified:n.email_verified,...i},data:n}},options:e}),twitter:e=>({id:"twitter",name:"Twitter",createAuthorizationURL(t){let r=e.disableDefaultScope?[]:["users.read","tweet.read","offline.access","users.email"];return e.scope&&r.push(...e.scope),t.scopes&&r.push(...t.scopes),eA({id:"twitter",options:e,authorizationEndpoint:"https://x.com/i/oauth2/authorize",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>eT({code:t,codeVerifier:r,authentication:"basic",redirectURI:n,options:e,tokenEndpoint:"https://api.x.com/2/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://api.x.com/2/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.x.com/2/users/me?user.fields=profile_image_url",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let{data:i,error:s}=await C("https://api.x.com/2/users/me?user.fields=confirmed_email",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}}),a=!1;!s&&i?.data?.confirmed_email&&(r.data.email=i.data.confirmed_email,a=!0);let o=await e.mapProfileToUser?.(r);return{user:{id:r.data.id,name:r.data.name,email:r.data.email||r.data.username||null,image:r.data.profile_image_url,emailVerified:a,...o},data:r}},options:e}),dropbox:e=>({id:"dropbox",name:"Dropbox",createAuthorizationURL:async({state:t,scopes:r,codeVerifier:n,redirectURI:i})=>{let s=e.disableDefaultScope?[]:["account_info.read"];e.scope&&s.push(...e.scope),r&&s.push(...r);let a={};return e.accessType&&(a.token_access_type=e.accessType),await eA({id:"dropbox",options:e,authorizationEndpoint:"https://www.dropbox.com/oauth2/authorize",scopes:s,state:t,redirectURI:i,codeVerifier:n,additionalParams:a})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n})=>await eT({code:t,codeVerifier:r,redirectURI:n,options:e,tokenEndpoint:"https://api.dropboxapi.com/oauth2/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://api.dropbox.com/oauth2/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.dropboxapi.com/2/users/get_current_account",{method:"POST",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.account_id,name:r.name?.display_name,email:r.email,emailVerified:r.email_verified||!1,image:r.profile_photo_url,...i},data:r}},options:e}),kick:e=>({id:"kick",name:"Kick",createAuthorizationURL({state:t,scopes:r,redirectURI:n,codeVerifier:i}){let s=e.disableDefaultScope?[]:["user:read"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"kick",redirectURI:n,options:e,authorizationEndpoint:"https://id.kick.com/oauth/authorize",scopes:s,codeVerifier:i,state:t})},validateAuthorizationCode:async({code:t,redirectURI:r,codeVerifier:n})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://id.kick.com/oauth/token",codeVerifier:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.kick.com/public/v1/users",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=r.data[0],s=await e.mapProfileToUser?.(i);return{user:{id:i.user_id,name:i.name,email:i.email,image:i.profile_picture,emailVerified:!0,...s},data:i}},options:e}),linear:e=>{let t="https://api.linear.app/oauth/token";return{id:"linear",name:"Linear",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let s=e.disableDefaultScope?[]:["read"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"linear",options:e,authorizationEndpoint:"https://linear.app/oauth/authorize",scopes:s,state:t,redirectURI:i,loginHint:n})},validateAuthorizationCode:async({code:r,redirectURI:n})=>eT({code:r,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>eI({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.linear.app/graphql",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.accessToken}`},body:JSON.stringify({query:`
							query {
								viewer {
									id
									name
									email
									avatarUrl
									active
									createdAt
									updatedAt
								}
							}
						`})});if(n||!r?.data?.viewer)return null;let i=r.data.viewer,s=await e.mapProfileToUser?.(i);return{user:{id:r.data.viewer.id,name:r.data.viewer.name,email:r.data.viewer.email,image:r.data.viewer.avatarUrl,emailVerified:!0,...s},data:i}},options:e}},linkedin:e=>{let t="https://www.linkedin.com/oauth/v2/accessToken";return{id:"linkedin",name:"Linkedin",createAuthorizationURL:async({state:t,scopes:r,redirectURI:n,loginHint:i})=>{let s=e.disableDefaultScope?[]:["profile","email","openid"];return e.scope&&s.push(...e.scope),r&&s.push(...r),await eA({id:"linkedin",options:e,authorizationEndpoint:"https://www.linkedin.com/oauth/v2/authorization",scopes:s,state:t,loginHint:i,redirectURI:n})},validateAuthorizationCode:async({code:r,redirectURI:n})=>await eT({code:r,redirectURI:n,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>eI({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.linkedin.com/v2/userinfo",{method:"GET",headers:{Authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.name,email:r.email,emailVerified:r.email_verified||!1,image:r.picture,...i},data:r}},options:e}},gitlab:e=>{let{authorizationEndpoint:t,tokenEndpoint:r,userinfoEndpoint:n}=(e=>{let t=e||"https://gitlab.com";return{authorizationEndpoint:dl(`${t}/oauth/authorize`),tokenEndpoint:dl(`${t}/oauth/token`),userinfoEndpoint:dl(`${t}/api/v4/user`)}})(e.issuer),i="gitlab";return{id:i,name:"Gitlab",createAuthorizationURL:async({state:r,scopes:n,codeVerifier:s,loginHint:a,redirectURI:o})=>{let u=e.disableDefaultScope?[]:["read_user"];return e.scope&&u.push(...e.scope),n&&u.push(...n),await eA({id:i,options:e,authorizationEndpoint:t,scopes:u,state:r,redirectURI:o,codeVerifier:s,loginHint:a})},validateAuthorizationCode:async({code:t,redirectURI:n,codeVerifier:i})=>eT({code:t,redirectURI:n,options:e,codeVerifier:i,tokenEndpoint:r}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:r}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:i}=await C(n,{headers:{authorization:`Bearer ${t.accessToken}`}});if(i||"active"!==r.state||r.locked)return null;let s=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name??r.username,email:r.email,image:r.avatar_url,emailVerified:!0,...s},data:r}},options:e}},tiktok:e=>({id:"tiktok",name:"TikTok",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["user.info.profile"];return e.scope&&i.push(...e.scope),r&&i.push(...r),new URL(`https://www.tiktok.com/v2/auth/authorize?scope=${i.join(",")}&response_type=code&client_key=${e.clientKey}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:e.redirectURI||r,options:{clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientSecret:e.clientSecret},tokenEndpoint:"https://open.tiktokapis.com/v2/oauth/token/",authentication:"post",extraParams:{client_key:e.clientKey}}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://open.tiktokapis.com/v2/user/info/?fields=open_id,avatar_large_url,display_name,username",{headers:{authorization:`Bearer ${t.accessToken}`}});return n?null:{user:{email:r.data.user.email||r.data.user.username,id:r.data.user.open_id,name:r.data.user.display_name||r.data.user.username,image:r.data.user.avatar_large_url,emailVerified:!!r.data.user.email},data:r}},options:e}),reddit:e=>({id:"reddit",name:"Reddit",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["identity"];return e.scope&&i.push(...e.scope),r&&i.push(...r),eA({id:"reddit",options:e,authorizationEndpoint:"https://www.reddit.com/api/v1/authorize",scopes:i,state:t,redirectURI:n,duration:e.duration})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let n=new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:e.redirectURI||r}),i={"content-type":"application/x-www-form-urlencoded",accept:"text/plain","user-agent":"better-auth",Authorization:`Basic ${o.base64.encode(`${e.clientId}:${e.clientSecret}`)}`},{data:s,error:a}=await C("https://www.reddit.com/api/v1/access_token",{method:"POST",headers:i,body:n.toString()});if(a)throw a;return eR(s)},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},authentication:"basic",tokenEndpoint:"https://www.reddit.com/api/v1/access_token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://oauth.reddit.com/api/v1/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"User-Agent":"better-auth"}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.id,name:r.name,email:r.oauth_client_id,emailVerified:r.has_verified_email,image:r.icon_img?.split("?")[0],...i},data:r}},options:e}),roblox:e=>({id:"roblox",name:"Roblox",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["openid","profile"];return e.scope&&i.push(...e.scope),r&&i.push(...r),new URL(`https://apis.roblox.com/oauth/v1/authorize?scope=${i.join("+")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||n)}&state=${t}&prompt=${e.prompt||"select_account consent"}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:"https://apis.roblox.com/oauth/v1/token",authentication:"post"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://apis.roblox.com/oauth/v1/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://apis.roblox.com/oauth/v1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});if(n)return null;let i=await e.mapProfileToUser?.(r);return{user:{id:r.sub,name:r.nickname||r.preferred_username||"",image:r.picture,email:r.preferred_username||null,emailVerified:!0,...i},data:{...r}}},options:e}),salesforce:e=>{let t="sandbox"===(e.environment??"production"),r=e.loginUrl?`https://${e.loginUrl}/services/oauth2/authorize`:t?"https://test.salesforce.com/services/oauth2/authorize":"https://login.salesforce.com/services/oauth2/authorize",n=e.loginUrl?`https://${e.loginUrl}/services/oauth2/token`:t?"https://test.salesforce.com/services/oauth2/token":"https://login.salesforce.com/services/oauth2/token",i=e.loginUrl?`https://${e.loginUrl}/services/oauth2/userinfo`:t?"https://test.salesforce.com/services/oauth2/userinfo":"https://login.salesforce.com/services/oauth2/userinfo";return{id:"salesforce",name:"Salesforce",async createAuthorizationURL({state:t,scopes:n,codeVerifier:i,redirectURI:s}){if(!e.clientId||!e.clientSecret)throw cU.logger.error("Client Id and Client Secret are required for Salesforce. Make sure to provide them in the options."),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");if(!i)throw new cM.BetterAuthError("codeVerifier is required for Salesforce");let a=e.disableDefaultScope?[]:["openid","email","profile"];return e.scope&&a.push(...e.scope),n&&a.push(...n),eA({id:"salesforce",options:e,authorizationEndpoint:r,scopes:a,state:t,codeVerifier:i,redirectURI:e.redirectURI||s})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:i})=>eT({code:t,codeVerifier:r,redirectURI:e.redirectURI||i,options:e,tokenEndpoint:n}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:n}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);try{let{data:r}=await C(i,{headers:{Authorization:`Bearer ${t.accessToken}`}});if(!r)return cU.logger.error("Failed to fetch user info from Salesforce"),null;let n=await e.mapProfileToUser?.(r);return{user:{id:r.user_id,name:r.name,email:r.email,image:r.photos?.picture||r.photos?.thumbnail,emailVerified:r.email_verified??!1,...n},data:r}}catch(e){return cU.logger.error("Failed to fetch user info from Salesforce:",e),null}},options:e}},vk:e=>({id:"vk",name:"VK",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i}){let s=e.disableDefaultScope?[]:["email","phone"];return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"vk",options:e,authorizationEndpoint:"https://id.vk.com/authorize",scopes:s,state:t,redirectURI:i,codeVerifier:n})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:n,deviceId:i})=>eT({code:t,codeVerifier:r,redirectURI:e.redirectURI||n,options:e,deviceId:i,tokenEndpoint:"https://id.vk.com/oauth2/auth"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://id.vk.com/oauth2/auth"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return null;let r=new URLSearchParams({access_token:t.accessToken,client_id:e.clientId}).toString(),{data:n,error:i}=await C("https://id.vk.com/oauth2/user_info",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(i||!n.user.email)return null;let s=await e.mapProfileToUser?.(n);return{user:{id:n.user.user_id,first_name:n.user.first_name,last_name:n.user.last_name,email:n.user.email,image:n.user.avatar,emailVerified:!!n.user.email,birthday:n.user.birthday,sex:n.user.sex,name:`${n.user.first_name} ${n.user.last_name}`,...s},data:n}},options:e}),zoom:e=>{let t={pkce:!0,...e};return{id:"zoom",name:"Zoom",createAuthorizationURL:async({state:e,redirectURI:r,codeVerifier:n})=>{let i=new URLSearchParams({response_type:"code",redirect_uri:t.redirectURI?t.redirectURI:r,client_id:t.clientId,state:e});if(t.pkce){let e=await eO(n);i.set("code_challenge_method","S256"),i.set("code_challenge",e)}let s=new URL("https://zoom.us/oauth/authorize");return s.search=i.toString(),s},validateAuthorizationCode:async({code:e,redirectURI:r,codeVerifier:n})=>eT({code:e,redirectURI:t.redirectURI||r,codeVerifier:n,options:t,tokenEndpoint:"https://zoom.us/oauth/token",authentication:"post"}),async getUserInfo(e){if(t.getUserInfo)return t.getUserInfo(e);let{data:r,error:n}=await C("https://api.zoom.us/v2/users/me",{headers:{authorization:`Bearer ${e.accessToken}`}});if(n)return null;let i=await t.mapProfileToUser?.(r);return{user:{id:r.id,name:r.display_name,image:r.pic_url,email:r.email,emailVerified:!!r.verified,...i},data:{...r}}}}},notion:e=>{let t="https://api.notion.com/v1/oauth/token";return{id:"notion",name:"Notion",createAuthorizationURL({state:t,scopes:r,loginHint:n,redirectURI:i}){let s=(e.disableDefaultScope,[]);return e.scope&&s.push(...e.scope),r&&s.push(...r),eA({id:"notion",options:e,authorizationEndpoint:"https://api.notion.com/v1/oauth/authorize",scopes:s,state:t,redirectURI:i,loginHint:n,additionalParams:{owner:"user"}})},validateAuthorizationCode:async({code:r,redirectURI:n})=>eT({code:r,redirectURI:n,options:e,tokenEndpoint:t,authentication:"basic"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>eI({refreshToken:r,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:t}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://api.notion.com/v1/users/me",{headers:{Authorization:`Bearer ${t.accessToken}`,"Notion-Version":"2022-06-28"}});if(n||!r)return null;let i=r.bot?.owner?.user;if(!i)return null;let s=await e.mapProfileToUser?.(i);return{user:{id:i.id,name:i.name||"Notion User",email:i.person?.email||null,image:i.avatar_url,emailVerified:!!i.person?.email,...s},data:i}},options:e}},kakao:e=>({id:"kakao",name:"Kakao",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["account_email","profile_image","profile_nickname"];return e.scope&&i.push(...e.scope),r&&i.push(...r),eA({id:"kakao",options:e,authorizationEndpoint:"https://kauth.kakao.com/oauth/authorize",scopes:i,state:t,redirectURI:n})},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://kauth.kakao.com/oauth/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://kapi.kakao.com/v2/user/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(n||!r)return null;let i=await e.mapProfileToUser?.(r),s=r.kakao_account||{},a=s.profile||{};return{user:{id:String(r.id),name:a.nickname||s.name||void 0,email:s.email,image:a.profile_image_url||a.thumbnail_image_url,emailVerified:!!s.is_email_valid&&!!s.is_email_verified,...i},data:r}},options:e}),naver:e=>({id:"naver",name:"Naver",createAuthorizationURL({state:t,scopes:r,redirectURI:n}){let i=e.disableDefaultScope?[]:["profile","email"];return e.scope&&i.push(...e.scope),r&&i.push(...r),eA({id:"naver",options:e,authorizationEndpoint:"https://nid.naver.com/oauth2.0/authorize",scopes:i,state:t,redirectURI:n})},validateAuthorizationCode:async({code:t,redirectURI:r})=>eT({code:t,redirectURI:r,options:e,tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>eI({refreshToken:t,options:{clientId:e.clientId,clientKey:e.clientKey,clientSecret:e.clientSecret},tokenEndpoint:"https://nid.naver.com/oauth2.0/token"}),async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let{data:r,error:n}=await C("https://openapi.naver.com/v1/nid/me",{headers:{Authorization:`Bearer ${t.accessToken}`}});if(n||!r||"00"!==r.resultcode)return null;let i=await e.mapProfileToUser?.(r),s=r.response||{};return{user:{id:s.id,name:s.name||s.nickname,email:s.email,image:s.profile_image,emailVerified:!1,...i},data:r}},options:e}),line:e=>{let t="https://api.line.me/oauth2/v2.1/token";return{id:"line",name:"LINE",async createAuthorizationURL({state:t,scopes:r,codeVerifier:n,redirectURI:i,loginHint:s}){let a=e.disableDefaultScope?[]:["openid","profile","email"];return e.scope&&a.push(...e.scope),r&&a.push(...r),await eA({id:"line",options:e,authorizationEndpoint:"https://access.line.me/oauth2/v2.1/authorize",scopes:a,state:t,codeVerifier:n,redirectURI:i,loginHint:s})},validateAuthorizationCode:async({code:r,codeVerifier:n,redirectURI:i})=>eT({code:r,codeVerifier:n,redirectURI:i,options:e,tokenEndpoint:t}),refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async r=>eI({refreshToken:r,options:{clientId:e.clientId,clientSecret:e.clientSecret},tokenEndpoint:t}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let n=new URLSearchParams;n.set("id_token",t),n.set("client_id",e.clientId),r&&n.set("nonce",r);let{data:i,error:s}=await C("https://api.line.me/oauth2/v2.1/verify",{method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},body:n});return!s&&!!i&&i.aud===e.clientId&&(!r||!i.nonce||i.nonce===r)},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);let r=null;if(t.idToken)try{r=c3(t.idToken)}catch{}if(!r){let{data:e}=await C("https://api.line.me/oauth2/v2.1/userinfo",{headers:{authorization:`Bearer ${t.accessToken}`}});r=e||null}if(!r)return null;let n=await e.mapProfileToUser?.(r),i=r.sub||r.userId,s=r.name||r.displayName,a=r.picture||r.pictureUrl||void 0;return{user:{id:i,name:s,email:r.email,image:a,emailVerified:!1,...n},data:r}},options:e}},paypal:e=>{let t="sandbox"===(e.environment||"sandbox"),r=t?"https://www.sandbox.paypal.com/signin/authorize":"https://www.paypal.com/signin/authorize",n=t?"https://api-m.sandbox.paypal.com/v1/oauth2/token":"https://api-m.paypal.com/v1/oauth2/token",i=t?"https://api-m.sandbox.paypal.com/v1/identity/oauth2/userinfo":"https://api-m.paypal.com/v1/identity/oauth2/userinfo";return{id:"paypal",name:"PayPal",async createAuthorizationURL({state:t,codeVerifier:n,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw cU.logger.error("Client Id and Client Secret is required for PayPal. Make sure to provide them in the options."),new cM.BetterAuthError("CLIENT_ID_AND_SECRET_REQUIRED");return await eA({id:"paypal",options:e,authorizationEndpoint:r,scopes:[],state:t,codeVerifier:n,redirectURI:i,prompt:e.prompt})},validateAuthorizationCode:async({code:t,redirectURI:r})=>{let i=o.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await C(n,{method:"POST",headers:{Authorization:`Basic ${i}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:r}).toString()});if(!e.data)throw new cM.BetterAuthError("FAILED_TO_GET_ACCESS_TOKEN");let s=e.data;return{accessToken:s.access_token,refreshToken:s.refresh_token,accessTokenExpiresAt:s.expires_in?new Date(Date.now()+1e3*s.expires_in):void 0,idToken:s.id_token}}catch(e){throw cU.logger.error("PayPal token exchange failed:",e),new cM.BetterAuthError("FAILED_TO_GET_ACCESS_TOKEN")}},refreshAccessToken:e.refreshAccessToken?e.refreshAccessToken:async t=>{let r=o.base64.encode(`${e.clientId}:${e.clientSecret}`);try{let e=await C(n,{method:"POST",headers:{Authorization:`Basic ${r}`,Accept:"application/json","Accept-Language":"en_US","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:t}).toString()});if(!e.data)throw new cM.BetterAuthError("FAILED_TO_REFRESH_ACCESS_TOKEN");let i=e.data;return{accessToken:i.access_token,refreshToken:i.refresh_token,accessTokenExpiresAt:i.expires_in?new Date(Date.now()+1e3*i.expires_in):void 0}}catch(e){throw cU.logger.error("PayPal token refresh failed:",e),new cM.BetterAuthError("FAILED_TO_REFRESH_ACCESS_TOKEN")}},async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);try{return!!c3(t).sub}catch(e){return cU.logger.error("Failed to verify PayPal ID token:",e),!1}},async getUserInfo(t){if(e.getUserInfo)return e.getUserInfo(t);if(!t.accessToken)return cU.logger.error("Access token is required to fetch PayPal user info"),null;try{let r=await C(`${i}?schema=paypalv1.1`,{headers:{Authorization:`Bearer ${t.accessToken}`,Accept:"application/json"}});if(!r.data)return cU.logger.error("Failed to fetch user info from PayPal"),null;let n=r.data,s=await e.mapProfileToUser?.(n);return{user:{id:n.user_id,name:n.name,email:n.email,image:n.picture,emailVerified:n.email_verified,...s},data:n}}catch(e){return cU.logger.error("Failed to fetch user info from PayPal:",e),null}},options:e}}},dd=lD(Object.keys(dc)).or(o6());e.s(["a",()=>df,"b",()=>dv,"c",()=>db,"e",()=>dg,"f",()=>dy,"g",()=>dh,"l",()=>d_,"r",()=>dE,"s",()=>dm],12701);var cx=cx;let dp=lq(lh({disableCookieCache:cx.boolean().meta({description:"Disable cookie cache and fetch session from database"}).optional(),disableRefresh:cx.boolean().meta({description:"Disable session refresh. Useful for checking session status, without updating the session"}).optional()})),df=()=>c2("/get-session",{method:"GET",query:dp,requireHeaders:!0,metadata:{openapi:{description:"Get the current session",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{session:{$ref:"#/components/schemas/Session"},user:{$ref:"#/components/schemas/User"}},required:["session","user"]}}}}}}}},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return null;let r=e.getCookie(e.context.authCookies.sessionData.name),n=r?(0,cq.s)(cZ.decode(o.base64Url.decode(r))):null;if(n&&!await cz("SHA-256","base64urlnopad").verify(e.context.secret,JSON.stringify({...n.session,expiresAt:n.expiresAt}),n.signature)){let t=e.context.authCookies.sessionData.name;return e.setCookie(t,"",{maxAge:0}),e.json(null)}let i=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(n?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let t=n.session;if(!(n.expiresAt<Date.now()||t.session.expiresAt<new Date))return e.context.session=t,e.json(t);{let t=e.context.authCookies.sessionData.name;e.setCookie(t,"",{maxAge:0})}}let s=await e.context.internalAdapter.findSession(t);if(e.context.session=s,!s||s.session.expiresAt<new Date)return c0(e),s&&await e.context.internalAdapter.deleteSession(s.session.token),e.json(null);if(i||e.query?.disableRefresh)return e.json(s);let a=e.context.sessionConfig.expiresIn,u=e.context.sessionConfig.updateAge;if(s.session.expiresAt.valueOf()-1e3*a+1e3*u<=Date.now()&&(!e.query?.disableRefresh||!e.context.options.session?.disableSessionRefresh)){let t=await e.context.internalAdapter.updateSession(s.session.token,{expiresAt:c$(e.context.sessionConfig.expiresIn,"sec"),updatedAt:new Date});if(!t)return c0(e),e.json(null,{status:401});let r=(t.expiresAt.valueOf()-Date.now())/1e3;return await cJ(e,{session:t,user:s.user},!1,{maxAge:r}),e.json({session:t,user:s.user})}return await cX(e,s,!!i),e.json(s)}catch(t){throw e.context.logger.error("INTERNAL_SERVER_ERROR",t),new eC.APIError("INTERNAL_SERVER_ERROR",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_SESSION})}}),dh=async(e,t)=>{if(e.context.session)return e.context.session;let r=await df()({...e,asResponse:!1,headers:e.headers,returnHeaders:!1,query:{...t,...e.query}}).catch(e=>null);return e.context.session=r,r},dm=c4(async e=>{let t=await dh(e);if(!t?.session)throw new eC.APIError("UNAUTHORIZED");return{session:t}}),dg=c4(async e=>{let t=await dh(e,{disableCookieCache:!0});if(!t?.session)throw new eC.APIError("UNAUTHORIZED");return{session:t}});c4(async e=>{let t=await dh(e);if(!t?.session&&(e.request||e.headers))throw new eC.APIError("UNAUTHORIZED");return{session:t}});let dy=c4(async e=>{let t=await dh(e);if(!t?.session)throw new eC.APIError("UNAUTHORIZED");if(0===e.context.sessionConfig.freshAge)return{session:t};let r=e.context.sessionConfig.freshAge,n=t.session.updatedAt?.valueOf()||t.session.createdAt.valueOf();if(!(Date.now()-n<1e3*r))throw new eC.APIError("FORBIDDEN",{message:"Session is not fresh"});return{session:t}}),d_=()=>c2("/list-sessions",{method:"GET",use:[dm],requireHeaders:!0,metadata:{openapi:{description:"List all active sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{$ref:"#/components/schemas/Session"}}}}}}}}},async e=>{try{let t=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(e=>e.expiresAt>new Date);return e.json(t)}catch(t){throw e.context.logger.error(t),e.error("INTERNAL_SERVER_ERROR")}}),db=c2("/revoke-session",{method:"POST",body:lh({token:o6().meta({description:"The token to revoke"})}),use:[dg],requireHeaders:!0,metadata:{openapi:{description:"Revoke a single session",requestBody:{content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",description:"The token to revoke"}},required:["token"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the session was revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.body.token,r=await e.context.internalAdapter.findSession(t);if(!r)throw new eC.APIError("BAD_REQUEST",{message:"Session not found"});if(r.session.userId!==e.context.session.user.id)throw new eC.APIError("UNAUTHORIZED");try{await e.context.internalAdapter.deleteSession(t)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new eC.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),dv=c2("/revoke-sessions",{method:"POST",use:[dg],requireHeaders:!0,metadata:{openapi:{description:"Revoke all sessions for the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&"object"==typeof t&&"name"in t?t.name:"",t),new eC.APIError("INTERNAL_SERVER_ERROR")}return e.json({status:!0})}),dE=c2("/revoke-other-sessions",{method:"POST",requireHeaders:!0,use:[dg],metadata:{openapi:{description:"Revoke all other sessions for the user except the current one",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if all other sessions were revoked successfully"}},required:["status"]}}}}}}}},async e=>{let t=e.context.session;if(!t.user)throw new eC.APIError("UNAUTHORIZED");let r=(await e.context.internalAdapter.listSessions(t.user.id)).filter(e=>e.expiresAt>new Date).filter(t=>t.token!==e.context.session.session.token);return await Promise.all(r.map(t=>e.context.internalAdapter.deleteSession(t.token))),e.json({status:!0})});var dS=e.i(65965),dw=e.i(21176),dR=e.i(41903);e.s(["b",()=>dC,"d",()=>dN,"p",()=>dI],26266);let dO=new WeakMap;function dA(e,t){let r=t.fields,n={};for(let t in e){let i=r[t];if(!i){n[t]=e[t];continue}!1!==i.returned&&(n[t]=e[t])}return n}function dT(e,t){dO.has(e)||dO.set(e,new Map);let r=dO.get(e);if(r.has(t))return r.get(t);let n={..."user"===t?e.user?.additionalFields:{},..."session"===t?e.session?.additionalFields:{}};for(let r of e.plugins||[])r.schema&&r.schema[t]&&(n={...n,...r.schema[t].fields});return dO.get(e).set(t,n),n}function dI(e,t){return dA(t,{fields:dT(e,"user")})}function dC(e,t){return dA(t,{fields:dT(e,"session")})}function dN(e,t={},r){return function(e,t){let r=t.action||"create",n=t.fields,i=Object.assign(Object.create(null),null);for(let t in n){if(t in e){if(!1===n[t].input){if(void 0!==n[t].defaultValue&&"update"!==r){i[t]=n[t].defaultValue;continue}if(e[t])throw new eC.APIError("BAD_REQUEST",{message:`${t} is not allowed to be set`});continue}if(n[t].validator?.input&&void 0!==e[t]){i[t]=n[t].validator.input.parse(e[t]);continue}if(n[t].transform?.input&&void 0!==e[t]){i[t]=n[t].transform?.input(e[t]);continue}i[t]=e[t];continue}if(void 0!==n[t].defaultValue&&"create"===r){i[t]=n[t].defaultValue;continue}if(n[t].required&&"create"===r)throw new eC.APIError("BAD_REQUEST",{message:`${t} is required`})}return i}(t,{fields:dT(e,"user"),action:r})}e.s([],76372);var cx=cx;let dP=lh({id:o6(),createdAt:ll().default(()=>new Date),updatedAt:ll().default(()=>new Date)});function dx(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e))}function dD(e){return(...t)=>t.reduce((t,r)=>(function e(t,r,n=".",i){if(!dx(r))return e(t,{},n,i);let s=Object.assign({},r);for(let r in t){if("__proto__"===r||"constructor"===r)continue;let a=t[r];null!=a&&(i&&i(s,r,a,n)||(Array.isArray(a)&&Array.isArray(s[r])?s[r]=[...a,...s[r]]:dx(a)&&dx(s[r])?s[r]=e(a,s[r],(n?`${n}.`:"")+r.toString(),i):s[r]=a))}return s})(t,r,"",e),{})}dP.extend({email:o6().transform(e=>e.toLowerCase()),emailVerified:uX().default(!1),name:o6(),image:o6().nullish()}),dP.extend({providerId:o6(),accountId:o6(),userId:cx.string(),accessToken:o6().nullish(),refreshToken:o6().nullish(),idToken:o6().nullish(),accessTokenExpiresAt:ll().nullish(),refreshTokenExpiresAt:ll().nullish(),scope:o6().nullish(),password:o6().nullish()}),dP.extend({userId:cx.string(),expiresAt:ll(),token:o6(),ipAddress:o6().nullish(),userAgent:o6().nullish()}),dP.extend({value:o6(),expiresAt:ll(),identifier:o6()}),lh({key:o6(),count:uF(),lastRequest:uF()}),e.i(2316),e.s(["createDefu",()=>dD,"defu",()=>dk],32671);let dk=dD();function dL(e){if("boolean"!=typeof e)throw Error(`boolean expected, not ${e}`)}function dM(e){if(!Number.isSafeInteger(e)||e<0)throw Error("positive integer expected, got "+e)}function d$(e,t,r=""){let n=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,i=e?.length,s=void 0!==t;if(!n||s&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function dU(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function dj(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function dB(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}dD((e,t,r)=>{if(void 0!==e[t]&&"function"==typeof r)return e[t]=r(e[t]),!0}),dD((e,t,r)=>{if(Array.isArray(e[t])&&"function"==typeof r)return e[t]=r(e[t]),!0}),e.s(["hashPassword",()=>p1,"signJWT",()=>pX,"symmetricDecrypt",()=>p6,"symmetricEncrypt",()=>p2,"verifyPassword",()=>p4],83252);let dz=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0],dq="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,dK=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0")),dF={_0:48,_9:57,A:65,F:70,a:97,f:102};function dY(e){return e>=dF._0&&e<=dF._9?e-dF._0:e>=dF.A&&e<=dF.F?e-(dF.A-10):e>=dF.a&&e<=dF.f?e-(dF.a-10):void 0}function dV(e,t,r=!0){if(void 0===t)return new Uint8Array(e);if(t.length!==e)throw Error('"output" expected Uint8Array of length '+e+", got: "+t.length);if(r&&t.byteOffset%4!=0)throw Error("invalid output, must be aligned");return t}function dG(e){return Uint8Array.from(e)}function dH(e=32){let t="object"==typeof globalThis?globalThis.crypto:null;if("function"!=typeof t?.getRandomValues)throw Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}function dZ(e,t=dH){let{nonceLength:r}=e;dM(r);let n=(e,t)=>{let r=function(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];d$(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}(e,t);return t.fill(0),r};return(i,...s)=>({encrypt(a){d$(a);let o=t(r),u=e(i,o,...s).encrypt(a);return u instanceof Promise?u.then(e=>n(o,e)):n(o,u)},decrypt(t){d$(t);let n=t.subarray(0,r),a=t.subarray(r);return e(i,n,...s).decrypt(a)}})}let dW=e=>Uint8Array.from(e.split(""),e=>e.charCodeAt(0)),dQ=dW("expand 16-byte k"),dX=dW("expand 32-byte k"),dJ=dj(dQ),d0=dj(dX);function d1(e,t){return e<<t|e>>>32-t}function d4(e){return e.byteOffset%4==0}let d2=0x100000000-1,d6=Uint32Array.of();function d3(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:a}=function(e,t){if(null==t||"object"!=typeof t)throw Error("options must be defined");return Object.assign(e,t)}({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if("function"!=typeof e)throw Error("core must be a function");return dM(i),dM(a),dL(s),dL(r),(t,o,u,l,c=0)=>{let d,p;d$(t,void 0,"key"),d$(o,void 0,"nonce"),d$(u,void 0,"data");let f=u.length;if(void 0===l&&(l=new Uint8Array(f)),d$(l,void 0,"output"),dM(c),c<0||c>=d2)throw Error("arx: counter overflow");if(l.length<f)throw Error(`arx: output (${l.length}) is shorter than data (${f})`);let h=[],m=t.length;if(32===m)h.push(d=dG(t)),p=d0;else if(16===m&&r)(d=new Uint8Array(32)).set(t),d.set(t,16),p=dJ,h.push(d);else throw d$(t,32,"arx key"),Error("invalid key size");d4(o)||h.push(o=dG(o));let g=dj(d);if(n){if(24!==o.length)throw Error("arx: extended nonce must be 24 bytes");n(p,g,dj(o.subarray(0,16)),g),o=o.subarray(16)}let y=16-i;if(y!==o.length)throw Error(`arx: nonce must be ${y} or 16 bytes`);if(12!==y){let e=new Uint8Array(12);e.set(o,s?0:12-o.length),o=e,h.push(o)}return!function(e,t,r,n,i,s,a,o){let u=i.length,l=new Uint8Array(64),c=dj(l),d=d4(i)&&d4(s),p=d?dj(i):d6,f=d?dj(s):d6;for(let h=0;h<u;a++){if(e(t,r,n,c,a,o),a>=d2)throw Error("arx: counter overflow");let m=Math.min(64,u-h);if(d&&64===m){let e=h/4;if(h%4!=0)throw Error("arx: invalid block position");for(let t=0,r;t<16;t++)f[r=e+t]=p[r]^c[t];h+=64;continue}for(let e=0,t;e<m;e++)s[t=h+e]=i[t]^l[e];h+=m}}(e,p,g,dj(o),u,l,c,a),dB(...h),l}}function d8(e,t){return 255&e[t++]|(255&e[t++])<<8}class d5{blockLen=16;outputLen=16;buffer=new Uint8Array(16);r=new Uint16Array(10);h=new Uint16Array(10);pad=new Uint16Array(8);pos=0;finished=!1;constructor(e){let t=d8(e=dG(d$(e,32,"key")),0),r=d8(e,2),n=d8(e,4),i=d8(e,6),s=d8(e,8),a=d8(e,10),o=d8(e,12),u=d8(e,14);this.r[0]=8191&t,this.r[1]=(t>>>13|r<<3)&8191,this.r[2]=(r>>>10|n<<6)&7939,this.r[3]=(n>>>7|i<<9)&8191,this.r[4]=(i>>>4|s<<12)&255,this.r[5]=s>>>1&8190,this.r[6]=(s>>>14|a<<2)&8191,this.r[7]=(a>>>11|o<<5)&8065,this.r[8]=(o>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let t=0;t<8;t++)this.pad[t]=d8(e,16+2*t)}process(e,t,r=!1){let{h:n,r:i}=this,s=i[0],a=i[1],o=i[2],u=i[3],l=i[4],c=i[5],d=i[6],p=i[7],f=i[8],h=i[9],m=d8(e,t+0),g=d8(e,t+2),y=d8(e,t+4),_=d8(e,t+6),b=d8(e,t+8),v=d8(e,t+10),E=d8(e,t+12),S=d8(e,t+14),w=n[0]+(8191&m),R=n[1]+((m>>>13|g<<3)&8191),O=n[2]+((g>>>10|y<<6)&8191),A=n[3]+((y>>>7|_<<9)&8191),T=n[4]+((_>>>4|b<<12)&8191),I=n[5]+(b>>>1&8191),C=n[6]+((b>>>14|v<<2)&8191),N=n[7]+((v>>>11|E<<5)&8191),P=n[8]+((E>>>8|S<<8)&8191),x=n[9]+(S>>>5|2048*!r),D=0,k=0+w*s+5*h*R+5*f*O+5*p*A+5*d*T;D=k>>>13,k&=8191,k+=5*c*I+5*l*C+5*u*N+5*o*P+5*a*x,D+=k>>>13,k&=8191;let L=D+w*a+R*s+5*h*O+5*f*A+5*p*T;D=L>>>13,L&=8191,L+=5*d*I+5*c*C+5*l*N+5*u*P+5*o*x,D+=L>>>13,L&=8191;let M=D+w*o+R*a+O*s+5*h*A+5*f*T;D=M>>>13,M&=8191,M+=5*p*I+5*d*C+5*c*N+5*l*P+5*u*x,D+=M>>>13,M&=8191;let $=D+w*u+R*o+O*a+A*s+5*h*T;D=$>>>13,$&=8191,$+=5*f*I+5*p*C+5*d*N+5*c*P+5*l*x,D+=$>>>13,$&=8191;let U=D+w*l+R*u+O*o+A*a+T*s;D=U>>>13,U&=8191,U+=5*h*I+5*f*C+5*p*N+5*d*P+5*c*x,D+=U>>>13,U&=8191;let j=D+w*c+R*l+O*u+A*o+T*a;D=j>>>13,j&=8191,j+=I*s+5*h*C+5*f*N+5*p*P+5*d*x,D+=j>>>13,j&=8191;let B=D+w*d+R*c+O*l+A*u+T*o;D=B>>>13,B&=8191,B+=I*a+C*s+5*h*N+5*f*P+5*p*x,D+=B>>>13,B&=8191;let z=D+w*p+R*d+O*c+A*l+T*u;D=z>>>13,z&=8191,z+=I*o+C*a+N*s+5*h*P+5*f*x,D+=z>>>13,z&=8191;let q=D+w*f+R*p+O*d+A*c+T*l;D=q>>>13,q&=8191,q+=I*u+C*o+N*a+P*s+5*h*x,D+=q>>>13,q&=8191;let K=D+w*h+R*f+O*p+A*d+T*c;D=K>>>13,K&=8191,K+=I*l+C*u+N*o+P*a+x*s,D+=K>>>13,K&=8191,k=8191&(D=(D=(D<<2)+D|0)+k|0),D>>>=13,L+=D,n[0]=k,n[1]=L,n[2]=M,n[3]=$,n[4]=U,n[5]=j,n[6]=B,n[7]=z,n[8]=q,n[9]=K}finalize(){let{h:e,pad:t}=this,r=new Uint16Array(10),n=e[1]>>>13;e[1]&=8191;for(let t=2;t<10;t++)e[t]+=n,n=e[t]>>>13,e[t]&=8191;e[0]+=5*n,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,r[0]=e[0]+5,n=r[0]>>>13,r[0]&=8191;for(let t=1;t<10;t++)r[t]=e[t]+n,n=r[t]>>>13,r[t]&=8191;r[9]-=8192;let i=(1^n)-1;for(let e=0;e<10;e++)r[e]&=i;i=~i;for(let t=0;t<10;t++)e[t]=e[t]&i|r[t];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let s=e[0]+t[0];e[0]=65535&s;for(let r=1;r<8;r++)s=(e[r]+t[r]|0)+(s>>>16)|0,e[r]=65535&s;dB(r)}update(e){dU(this),d$(e);let{buffer:t,blockLen:r}=this,n=(e=dG(e)).length;for(let i=0;i<n;){let s=Math.min(r-this.pos,n-i);if(s===r){for(;r<=n-i;i+=r)this.process(e,i);continue}t.set(e.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){dB(this.h,this.r,this.buffer,this.pad)}digestInto(e){dU(this);d$(e,void 0,"output");let t=this.outputLen;if(e.length<t)throw Error("digestInto() expects output buffer of length at least "+t);this.finished=!0;let{buffer:r,h:n}=this,{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let t=0;t<8;t++)e[s++]=n[t]>>>0,e[s++]=n[t]>>>8;return e}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}}let d9=function(e){let t=(t,r)=>e(r).update(t).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}(e=>new d5(e));function d7(e,t,r,n,i,s=20){let a=e[0],o=e[1],u=e[2],l=e[3],c=t[0],d=t[1],p=t[2],f=t[3],h=t[4],m=t[5],g=t[6],y=t[7],_=r[0],b=r[1],v=r[2],E=a,S=o,w=u,R=l,O=c,A=d,T=p,I=f,C=h,N=m,P=g,x=y,D=i,k=_,L=b,M=v;for(let e=0;e<s;e+=2)C=C+(D=d1(D^(E=E+O|0),16))|0,E=E+(O=d1(O^C,12))|0,C=C+(D=d1(D^E,8))|0,O=d1(O^C,7),N=N+(k=d1(k^(S=S+A|0),16))|0,S=S+(A=d1(A^N,12))|0,N=N+(k=d1(k^S,8))|0,A=d1(A^N,7),P=P+(L=d1(L^(w=w+T|0),16))|0,w=w+(T=d1(T^P,12))|0,P=P+(L=d1(L^w,8))|0,T=d1(T^P,7),x=x+(M=d1(M^(R=R+I|0),16))|0,R=R+(I=d1(I^x,12))|0,x=x+(M=d1(M^R,8))|0,I=d1(I^x,7),P=P+(M=d1(M^(E=E+A|0),16))|0,E=E+(A=d1(A^P,12))|0,P=P+(M=d1(M^E,8))|0,A=d1(A^P,7),x=x+(D=d1(D^(S=S+T|0),16))|0,S=S+(T=d1(T^x,12))|0,x=x+(D=d1(D^S,8))|0,T=d1(T^x,7),C=C+(k=d1(k^(w=w+I|0),16))|0,w=w+(I=d1(I^C,12))|0,C=C+(k=d1(k^w,8))|0,I=d1(I^C,7),N=N+(L=d1(L^(R=R+O|0),16))|0,R=R+(O=d1(O^N,12))|0,N=N+(L=d1(L^R,8))|0,O=d1(O^N,7);let $=0;n[$++]=a+E|0,n[$++]=o+S|0,n[$++]=u+w|0,n[$++]=l+R|0,n[$++]=c+O|0,n[$++]=d+A|0,n[$++]=p+T|0,n[$++]=f+I|0,n[$++]=h+C|0,n[$++]=m+N|0,n[$++]=g+P|0,n[$++]=y+x|0,n[$++]=i+D|0,n[$++]=_+k|0,n[$++]=b+L|0,n[$++]=v+M|0}let pe=d3(d7,{counterRight:!1,counterLength:4,allowShortKeys:!1}),pt=d3(d7,{counterRight:!1,counterLength:8,extendNonceFn:function(e,t,r,n){let i=e[0],s=e[1],a=e[2],o=e[3],u=t[0],l=t[1],c=t[2],d=t[3],p=t[4],f=t[5],h=t[6],m=t[7],g=r[0],y=r[1],_=r[2],b=r[3];for(let e=0;e<20;e+=2)p=p+(g=d1(g^(i=i+u|0),16))|0,i=i+(u=d1(u^p,12))|0,p=p+(g=d1(g^i,8))|0,u=d1(u^p,7),f=f+(y=d1(y^(s=s+l|0),16))|0,s=s+(l=d1(l^f,12))|0,f=f+(y=d1(y^s,8))|0,l=d1(l^f,7),h=h+(_=d1(_^(a=a+c|0),16))|0,a=a+(c=d1(c^h,12))|0,h=h+(_=d1(_^a,8))|0,c=d1(c^h,7),m=m+(b=d1(b^(o=o+d|0),16))|0,o=o+(d=d1(d^m,12))|0,m=m+(b=d1(b^o,8))|0,d=d1(d^m,7),h=h+(b=d1(b^(i=i+l|0),16))|0,i=i+(l=d1(l^h,12))|0,h=h+(b=d1(b^i,8))|0,l=d1(l^h,7),m=m+(g=d1(g^(s=s+c|0),16))|0,s=s+(c=d1(c^m,12))|0,m=m+(g=d1(g^s,8))|0,c=d1(c^m,7),p=p+(y=d1(y^(a=a+d|0),16))|0,a=a+(d=d1(d^p,12))|0,p=p+(y=d1(y^a,8))|0,d=d1(d^p,7),f=f+(_=d1(_^(o=o+u|0),16))|0,o=o+(u=d1(u^f,12))|0,f=f+(_=d1(_^o,8))|0,u=d1(u^f,7);let v=0;n[v++]=i,n[v++]=s,n[v++]=a,n[v++]=o,n[v++]=g,n[v++]=y,n[v++]=_,n[v++]=b},allowShortKeys:!1}),pr=new Uint8Array(16),pn=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(pr.subarray(r))},pi=new Uint8Array(32);function ps(e,t,r,n,i){void 0!==i&&d$(i,void 0,"AAD");let s=e(t,r,pi),a=function(e,t,r){dL(r);let n=new Uint8Array(16),i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setBigUint64(0,BigInt(t),r),i.setBigUint64(8,BigInt(e),r),n}(n.length,i?i.length:0,!0),o=d9.create(s);i&&pn(o,i),pn(o,n),o.update(a);let u=o.digest();return dB(s,a),u}let pa=e=>(t,r,n)=>({encrypt(i,s){let a=i.length;(s=dV(a+16,s,!1)).set(i);let o=s.subarray(0,-16);e(t,r,o,o,1);let u=ps(e,t,r,o,n);return s.set(u,a),dB(u),s},decrypt(i,s){s=dV(i.length-16,s,!1);let a=i.subarray(0,-16),o=i.subarray(-16),u=ps(e,t,r,a,n);if(!function(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}(o,u))throw Error("invalid tag");return s.set(i.subarray(0,-16)),e(t,r,s,s,1),dB(u),s}});pa(pe);let po=((e,t)=>{function r(n,...i){if(d$(n,void 0,"key"),!dz)throw Error("Non little-endian hardware is not yet supported");void 0!==e.nonceLength&&d$(i[0],e.varSizeNonce?void 0:e.nonceLength,"nonce");let s=e.tagLength;s&&void 0!==i[1]&&d$(i[1],void 0,"AAD");let a=t(n,...i),o=(e,t)=>{if(void 0!==t){if(2!==e)throw Error("cipher output not supported");d$(t,void 0,"output")}},u=!1;return{encrypt(e,t){if(u)throw Error("cannot encrypt() twice with same key + nonce");return u=!0,d$(e),o(a.encrypt.length,t),a.encrypt(e,t)},decrypt(e,t){if(d$(e),s&&e.length<s)throw Error('"ciphertext" expected length bigger than tagLength='+s);return o(a.decrypt.length,t),a.decrypt(e,t)}}}return Object.assign(r,e),r})({blockSize:64,nonceLength:24,tagLength:16},pa(pt)),pu=async(e,t,r)=>{let n=await ee(e,t,"sign");return H(e,n),new Uint8Array(await crypto.subtle.sign(G(e,n.algorithm),n,r))};class pl{#t;#h;#m;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this.#t=e}setProtectedHeader(e){if(this.#h)throw TypeError("setProtectedHeader can only be called once");return this.#h=e,this}setUnprotectedHeader(e){if(this.#m)throw TypeError("setUnprotectedHeader can only be called once");return this.#m=e,this}async sign(e,t){let r;if(!this.#h&&!this.#m)throw new B("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!er(this.#h,this.#m))throw new B("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let n={...this.#h,...this.#m},i=ed(B,new Map([["b64",!0]]),t?.crit,this.#h,n),s=!0;if(i.has("b64")&&"boolean"!=typeof(s=this.#h.b64))throw new B('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:a}=n;if("string"!=typeof a||!a)throw new B('JWS "alg" (Algorithm) Header Parameter missing or invalid');ec(a,e,"sign");let o=this.#t;s&&(o=N.encode(k(o)));let u=x(r=this.#h?N.encode(k(JSON.stringify(this.#h))):N.encode(""),N.encode("."),o),l=await eh(e,a),c={signature:k(await pu(a,l,u)),payload:""};return s&&(c.payload=P.decode(o)),this.#m&&(c.header=this.#m),this.#h&&(c.protected=P.decode(r)),c}}class pc{#g;constructor(e){this.#g=new pl(e)}setProtectedHeader(e){return this.#g.setProtectedHeader(e),this}async sign(e,t){let r=await this.#g.sign(e,t);if(void 0===r.payload)throw TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}class pd{#h;#y;constructor(e={}){this.#y=new eS(e)}setIssuer(e){return this.#y.iss=e,this}setSubject(e){return this.#y.sub=e,this}setAudience(e){return this.#y.aud=e,this}setJti(e){return this.#y.jti=e,this}setNotBefore(e){return this.#y.nbf=e,this}setExpirationTime(e){return this.#y.exp=e,this}setIssuedAt(e){return this.#y.iat=e,this}setProtectedHeader(e){return this.#h=e,this}async sign(e,t){let r=new pc(this.#y.data());if(r.setProtectedHeader(this.#h),Array.isArray(this.#h?.crit)&&this.#h.crit.includes("b64")&&!1===this.#h.b64)throw new z("JWTs MUST NOT use unencoded payload");return r.sign(e,t)}}function pp(e,t=""){if(!Number.isSafeInteger(e)||e<0){let r=t&&`"${t}" `;throw Error(`${r}expected integer >= 0, got ${e}`)}}function pf(e,t,r=""){let n=e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name,i=e?.length,s=void 0!==t;if(!n||s&&i!==t)throw Error((r&&`"${r}" `)+"expected Uint8Array"+(s?` of length ${t}`:"")+", got "+(n?`length=${i}`:`type=${typeof e}`));return e}function ph(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash must wrapped by utils.createHasher");pp(e.outputLen),pp(e.blockLen)}function pm(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function pg(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function py(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function p_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pb(e,t){return e<<32-t|e>>>t}function pv(e,t){return e<<t|e>>>32-t>>>0}let pE=68===new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]?e=>e:function(e){for(let r=0;r<e.length;r++){var t;e[r]=(t=e[r])<<24&0xff000000|t<<8&0xff0000|t>>>8&65280|t>>>24&255}return e},pS="function"==typeof Uint8Array.from([]).toHex&&"function"==typeof Uint8Array.fromHex,pw={_0:48,_9:57,A:65,F:70,a:97,f:102};function pR(e){return e>=pw._0&&e<=pw._9?e-pw._0:e>=pw.A&&e<=pw.F?e-(pw.A-10):e>=pw.a&&e<=pw.f?e-(pw.a-10):void 0}let pO=async()=>{};async function pA(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await pO(),n+=e)}}function pT(e,t=""){if("string"==typeof e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}return pf(e,void 0,t)}function pI(e,t){if(void 0!==t&&"[object Object]"!==({}).toString.call(t))throw Error("options must be object or undefined");return Object.assign(e,t)}class pC{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,t){if(ph(e),pf(t,void 0,"key"),this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,n=new Uint8Array(r);n.set(t.length>r?e.create().update(t).digest():t);for(let e=0;e<n.length;e++)n[e]^=54;this.iHash.update(n),this.oHash=e.create();for(let e=0;e<n.length;e++)n[e]^=106;this.oHash.update(n),py(n)}update(e){return pm(this),this.iHash.update(e),this}digestInto(e){pm(this),pf(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let pN=(e,t,r)=>new pC(e,t).update(r).digest();function pP(e,t,r,n){var i;let s,{c:a,dkLen:o,DK:u,PRF:l,PRFSalt:c}=function(e,t,r,n){ph(e);let{c:i,dkLen:s,asyncTick:a}=pI({dkLen:32,asyncTick:10},n);if(pp(i,"c"),pp(s,"dkLen"),pp(a,"asyncTick"),i<1)throw Error("iterations (c) must be >= 1");let o=pT(t,"password"),u=pT(r,"salt"),l=new Uint8Array(s),c=pN.create(e,o),d=c._cloneInto().update(u);return{c:i,dkLen:s,asyncTick:a,DK:l,PRF:c,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),p=p_(d),f=new Uint8Array(l.outputLen);for(let e=1,t=0;t<o;e++,t+=l.outputLen){let r=u.subarray(t,t+l.outputLen);p.setInt32(0,e,!1),(s=c._cloneInto(s)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<a;e++){l._cloneInto(s).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=s,l.destroy(),c.destroy(),i&&i.destroy(),py(f),u}pN.create=(e,t)=>new pC(e,t);class px{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,t,r,n){this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=p_(this.buffer)}update(e){pm(this),pf(e);let{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=p_(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){pm(this);pf(e,void 0,"digestInto() output");let t=this.outputLen;if(e.length<t)throw Error('"digestInto() output" expected to be of length >='+t);this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:a}=this;r[a++]=128,py(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let e=a;e<i;e++)r[e]=0;n.setBigUint64(i-8,BigInt(8*this.length),s),this.process(n,0);let o=p_(e),u=this.outputLen;if(u%4)throw Error("_sha2: outputLen must be aligned to 32bit");let l=u/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)o.setUint32(4*e,c[e],s)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){(e||=new this.constructor).set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.destroyed=s,e.finished=i,e.length=n,e.pos=a,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}}let pD=Uint32Array.from([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),pk=Uint32Array.from([0xc1059ed8,0x367cd507,0x3070dd17,0xf70e5939,0xffc00b31,0x68581511,0x64f98fa7,0xbefa4fa4]),pL=Uint32Array.from([0xcbbb9d5d,0xc1059ed8,0x629a292a,0x367cd507,0x9159015a,0x3070dd17,0x152fecd8,0xf70e5939,0x67332667,0xffc00b31,0x8eb44a87,0x68581511,0xdb0c2e0d,0x64f98fa7,0x47b5481d,0xbefa4fa4]),pM=Uint32Array.from([0x6a09e667,0xf3bcc908,0xbb67ae85,0x84caa73b,0x3c6ef372,0xfe94f82b,0xa54ff53a,0x5f1d36f1,0x510e527f,0xade682d1,0x9b05688c,0x2b3e6c1f,0x1f83d9ab,0xfb41bd6b,0x5be0cd19,0x137e2179]),p$=BigInt(0x100000000-1),pU=BigInt(32),pj=Uint32Array.from([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),pB=new Uint32Array(64);class pz extends px{constructor(e){super(64,e,8,!1)}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)pB[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=pB[e-15],r=pB[e-2],n=pb(t,7)^pb(t,18)^t>>>3,i=pb(r,17)^pb(r,19)^r>>>10;pB[e]=i+pB[e-7]+n+pB[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:u,H:l}=this;for(let e=0;e<64;e++){var c,d,p,f;let t=l+(pb(a,6)^pb(a,11)^pb(a,25))+((c=a)&o^~c&u)+pj[e]+pB[e]|0,h=(pb(r,2)^pb(r,13)^pb(r,22))+((d=r)&(p=n)^d&(f=i)^p&f)|0;l=u,u=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+h|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,n,i,s,a,o,u,l)}roundClean(){py(pB)}destroy(){this.set(0,0,0,0,0,0,0,0),py(this.buffer)}}class pq extends pz{A=0|pD[0];B=0|pD[1];C=0|pD[2];D=0|pD[3];E=0|pD[4];F=0|pD[5];G=0|pD[6];H=0|pD[7];constructor(){super(32)}}let pK=function(e,t=!1){let r=e.length,n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){let{h:r,l:a}=function(e,t=!1){return t?{h:Number(e&p$),l:Number(e>>pU&p$)}:{h:0|Number(e>>pU&p$),l:0|Number(e&p$)}}(e[s],t);[n[s],i[s]]=[r,a]}return[n,i]}(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),pF=pK[0],pY=pK[1],pV=new Uint32Array(80),pG=new Uint32Array(80),pH=function(e,t={}){let r=(t,r)=>e(r).update(t).digest(),n=e(void 0);return r.outputLen=n.outputLen,r.blockLen=n.blockLen,r.create=t=>e(t),Object.assign(r,t),Object.freeze(r)}(()=>new pq,{oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,1])});function pZ(e,t,r,n,i,s){let a=e[t++]^r[n++],o=e[t++]^r[n++],u=e[t++]^r[n++],l=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],p=e[t++]^r[n++],f=e[t++]^r[n++],h=e[t++]^r[n++],m=e[t++]^r[n++],g=e[t++]^r[n++],y=e[t++]^r[n++],_=e[t++]^r[n++],b=e[t++]^r[n++],v=e[t++]^r[n++],E=e[t++]^r[n++],S=a,w=o,R=u,O=l,A=c,T=d,I=p,C=f,N=h,P=m,x=g,D=y,k=_,L=b,M=v,$=E;for(let e=0;e<8;e+=2)A^=pv(S+k|0,7),N^=pv(A+S|0,9),k^=pv(N+A|0,13),S^=pv(k+N|0,18),P^=pv(T+w|0,7),L^=pv(P+T|0,9),w^=pv(L+P|0,13),T^=pv(w+L|0,18),M^=pv(x+I|0,7),R^=pv(M+x|0,9),I^=pv(R+M|0,13),x^=pv(I+R|0,18),O^=pv($+D|0,7),C^=pv(O+$|0,9),D^=pv(C+O|0,13),$^=pv(D+C|0,18),w^=pv(S+O|0,7),R^=pv(w+S|0,9),O^=pv(R+w|0,13),S^=pv(O+R|0,18),I^=pv(T+A|0,7),C^=pv(I+T|0,9),A^=pv(C+I|0,13),T^=pv(A+C|0,18),D^=pv(x+P|0,7),N^=pv(D+x|0,9),P^=pv(N+D|0,13),x^=pv(P+N|0,18),k^=pv($+M|0,7),L^=pv(k+$|0,9),M^=pv(L+k|0,13),$^=pv(M+L|0,18);i[s++]=a+S|0,i[s++]=o+w|0,i[s++]=u+R|0,i[s++]=l+O|0,i[s++]=c+A|0,i[s++]=d+T|0,i[s++]=p+I|0,i[s++]=f+C|0,i[s++]=h+N|0,i[s++]=m+P|0,i[s++]=g+x|0,i[s++]=y+D|0,i[s++]=_+k|0,i[s++]=b+L|0,i[s++]=v+M|0,i[s++]=E+$|0}function pW(e,t,r,n,i){let s=n+0,a=n+16*i;for(let n=0;n<16;n++)r[a+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,s+=16,t+=16)pZ(r,a,e,t,r,s),n>0&&(a+=16),pZ(r,s,e,t+=16,r,a)}async function pQ(e,t,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:u,B32:l,B:c,tmp:d,blockMixCb:p,asyncTick:f}=function(e,t,r){let{N:n,r:i,p:s,dkLen:a,asyncTick:o,maxmem:u,onProgress:l}=pI({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(pp(n,"N"),pp(i,"r"),pp(s,"p"),pp(a,"dkLen"),pp(o,"asyncTick"),pp(u,"maxmem"),void 0!==l&&"function"!=typeof l)throw Error("progressCb must be a function");let c=128*i,d=c/4;if(n<=1||(n&n-1)!=0||n>0x100000000)throw Error('"N" expected a power of 2, and 2^1 <= N <= 2^32');if(s<1||s>0x1fffffffe0/c)throw Error('"p" expected integer 1..((2^32 - 1) * 32) / (128 * r)');if(a<1||a>0x1fffffffe0)throw Error('"dkLen" expected integer 1..(2^32 - 1) * 32');if(c*(n+s)>u)throw Error('"maxmem" limit was hit, expected 128*r*(N+p) <= "maxmem"='+u);let p=pP(pH,e,t,{c:1,dkLen:c*s}),f=pg(p),h=pg(new Uint8Array(c*n)),m=pg(new Uint8Array(c)),g=()=>{};if(l){let e=2*n*s,t=Math.max(Math.floor(e/1e4),1),r=0;g=()=>{r++,l&&(!(r%t)||r===e)&&l(r/e)}}return{N:n,r:i,p:s,dkLen:a,blockSize32:d,V:h,B32:f,B:p,tmp:m,blockMixCb:g,asyncTick:o}}(e,t,r);pE(l);for(let e=0;e<s;e++){let t=o*e;for(let e=0;e<o;e++)u[e]=l[t+e];let r=0;await pA(n-1,f,()=>{pW(u,r,u,r+=o,i),p()}),pW(u,(n-1)*o,l,t,i),p(),await pA(n,f,()=>{let e=(l[t+o-16]&n-1)>>>0;for(let r=0;r<o;r++)d[r]=l[t+r]^u[e*o+r];pW(d,0,l,t,i),p()})}pE(l);let h=pP(pH,e,c,{c:1,dkLen:a});return py(c,u,d),h}async function pX(e,t,r=3600){return await new pd(e).setProtectedHeader({alg:"HS256"}).setIssuedAt().setExpirationTime(Math.floor(Date.now()/1e3)+r).sign(new TextEncoder().encode(t))}let pJ={N:16384,r:16,p:1,dkLen:64};async function p0(e,t){return await pQ(e.normalize("NFKC"),t,{N:pJ.N,p:pJ.p,r:pJ.r,dkLen:pJ.dkLen,maxmem:128*pJ.N*pJ.r*2})}let p1=async e=>{let t=cj.hex.encode(crypto.getRandomValues(new Uint8Array(16))),r=await p0(e,t);return`${t}:${cj.hex.encode(r)}`},p4=async({hash:e,password:t})=>{let[r,n]=e.split(":");if(!r||!n)throw new cM.BetterAuthError("Invalid password hash");return function(e,t){let r=new Uint8Array(e),n=new Uint8Array(t),i=r.length^n.length,s=Math.max(r.length,n.length);for(let e=0;e<s;e++)i|=(e<r.length?r[e]:0)^(e<n.length?n[e]:0);return 0===i}(await p0(t,r),function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(pS)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=pR(e.charCodeAt(i)),s=pR(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}(n))},p2=async({key:e,data:t})=>{let r=await (0,dw.createHash)("SHA-256").digest(e),n=function(e){if("string"!=typeof e)throw Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}(t);return function(e){if(d$(e),dq)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=dK[e[r]];return t}(dZ(po)(new Uint8Array(r)).encrypt(n))},p6=async({key:e,data:t})=>{let r=await (0,dw.createHash)("SHA-256").digest(e),n=function(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);if(dq)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=dY(e.charCodeAt(i)),s=dY(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}(t),i=dZ(po)(new Uint8Array(r));return new TextDecoder().decode(i.decrypt(n))};function p3(e){return"-"===e||"^"===e||"$"===e||"+"===e||"."===e||"("===e||")"===e||"|"===e||"["===e||"]"===e||"{"===e||"}"===e||"*"===e||"?"===e||"\\"===e?`\\${e}`:e}function p8(e,t){if("string"!=typeof t)throw TypeError(`Sample must be a string, but ${typeof t} given`);return e.test(t)}function p5(e,t){if("string"!=typeof e&&!Array.isArray(e))throw TypeError(`The first argument must be a single pattern string or an array of patterns, but ${typeof e} given`);if(("string"==typeof t||"boolean"==typeof t)&&(t={separator:t}),2==arguments.length&&!(void 0===t||"object"==typeof t&&null!==t&&!Array.isArray(t)))throw TypeError(`The second argument must be an options object or a string/boolean separator, but ${typeof t} given`);if("\\"===(t=t||{}).separator)throw Error("\\ is not a valid separator because it is used for escaping. Try setting the separator to `true` instead");let r=function e(t,r=!0){if(Array.isArray(t)){let n=t.map(t=>`^${e(t,r)}$`);return`(?:${n.join("|")})`}let n="",i="",s=".";!0===r?(n="/",i="[/\\\\]",s="[^/\\\\]"):r&&((i=function(e){let t="";for(let r=0;r<e.length;r++)t+=p3(e[r]);return t}(n=r)).length>1?(i=`(?:${i})`,s=`((?!${i}).)`):s=`[^${i}]`);let a=r?`${i}+?`:"",o=r?`${i}*?`:"",u=r?t.split(n):[t],l="";for(let e=0;e<u.length;e++){let t=u[e],n=u[e+1],i="";if(t||!(e>0)){if(r&&(i=e===u.length-1?o:"**"!==n?a:""),r&&"**"===t){i&&(l+=0===e?"":i,l+=`(?:${s}*?${i})*?`);continue}for(let e=0;e<t.length;e++){let r=t[e];"\\"===r?e<t.length-1&&(l+=p3(t[e+1]),e++):"?"===r?l+=s:"*"===r?l+=`${s}*?`:l+=p3(r)}l+=i}}return l}(e,t.separator),n=RegExp(`^${r}$`,t.flags),i=p8.bind(null,n);return i.options=t,i.pattern=e,i.regexp=n,i}let p9=c4(async e=>{if(e.request?.method!=="POST"||!e.request)return;let t=e.request?.headers,r=e.request,{body:n,query:i,context:s}=e;if(function(e){let t=["accept","accept-language","content-language","content-type"],r=["application/x-www-form-urlencoded","multipart/form-data","text/plain"];for(let[n,i]of e.entries())if(!t.includes(n.toLowerCase())||"content-type"===n.toLowerCase()&&!r.includes(i?.split(";")[0]?.trim()?.toLowerCase()||""))return!1;return!0}(t)&&!e.context.skipCSRFCheck)throw new eC.APIError("FORBIDDEN",{message:"Invalid request"});let a=t?.get("origin")||t?.get("referer")||"",o=n?.callbackURL||i?.callbackURL,u=n?.redirectTo,l=n?.errorCallbackURL,c=n?.newUserCallbackURL,d=Array.isArray(s.options.trustedOrigins)?s.trustedOrigins:[...s.trustedOrigins,...await s.options.trustedOrigins?.(r)||[]],p=t?.has("cookie"),f=(t,r)=>{if(t&&!d.some(e=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*")){if(t.includes("://"))return p5(t)(cY(e)||e);let r=cG(e);return!!r&&p5(t)(r)}let r=cV(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===cY(e)})(t,e)||t?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(t)))throw e.context.logger.error(`Invalid ${r}: ${t}`),e.context.logger.info(`If it's a valid URL, please add ${t} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${d}`),new eC.APIError("FORBIDDEN",{message:`Invalid ${r}`})};if(p&&!e.context.skipCSRFCheck&&!e.context.skipOriginCheck){if(!a||"null"===a)throw new eC.APIError("FORBIDDEN",{message:"Missing or null Origin"});f(a,"origin")}o&&f(o,"callbackURL"),u&&f(u,"redirectURL"),l&&f(l,"errorCallbackURL"),c&&f(c,"newUserCallbackURL")}),p7=e=>c4(async t=>{if(!t.request)return;let{context:r}=t,n=e(t),i=Array.isArray(r.options.trustedOrigins)?r.trustedOrigins:[...r.trustedOrigins,...await r.options.trustedOrigins?.(t.request)||[]],s=(e,r)=>{if(e&&!i.some(t=>((e,t)=>{if(e.startsWith("/"))return!1;if(t.includes("*")){if(t.includes("://"))return p5(t)(cY(e)||e);let r=cG(e);return!!r&&p5(t)(r)}let r=cV(e);return"http:"!==r&&"https:"!==r&&r?e.startsWith(t):t===cY(e)})(e,t)||e?.startsWith("/")&&"origin"!==r&&/^\/(?!\/|\\|%2f|%5c)[\w\-.\+/@]*(?:\?[\w\-.\+/=&%@]*)?$/.test(e)))throw t.context.logger.error(`Invalid ${r}: ${e}`),t.context.logger.info(`If it's a valid URL, please add ${e} to trustedOrigins in your auth config
`,`Current list of trustedOrigins: ${i}`),new eC.APIError("FORBIDDEN",{message:`Invalid ${r}`})};for(let e of Array.isArray(n)?n:[n])s(e,"callbackURL")});async function fe(e,t,r,n=3600){return await pX({email:t.toLowerCase(),updateTo:r},e,n)}async function ft(e,t){if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new eC.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await fe(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:t,url:n,token:r},e.request)}let fr=c2("/send-verification-email",{method:"POST",body:lh({email:o5().meta({description:"The email to send the verification email to"}),callbackURL:o6().meta({description:"The URL to use for email verification callback"}).optional()}),metadata:{openapi:{description:"Send a verification email to the user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{email:{type:"string",description:"The email to send the verification email to",example:"user@example.com"},callbackURL:{type:"string",description:"The URL to use for email verification callback",example:"https://example.com/callback",nullable:!0}},required:["email"]}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the email was sent successfully",example:!0}}}}}},400:{description:"Bad Request",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string",description:"Error message",example:"Verification email isn't enabled"}}}}}}}}}},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error("Verification email isn't enabled."),new eC.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let{email:t}=e.body,r=await dh(e);if(!r){let r=await e.context.internalAdapter.findUserByEmail(t);return r&&await ft(e,r.user),e.json({status:!0})}if(r?.user.emailVerified)throw new eC.APIError("BAD_REQUEST",{message:"You can only send a verification email to an unverified email"});if(r?.user.email!==t)throw new eC.APIError("BAD_REQUEST",{message:"You can only send a verification email to your own email"});return await ft(e,r.user),e.json({status:!0})}),fn=c2("/verify-email",{method:"GET",query:lh({token:o6().meta({description:"The token to verify the email"}),callbackURL:o6().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[p7(e=>e.query.callbackURL)],metadata:{openapi:{description:"Verify the email of the user",parameters:[{name:"token",in:"query",description:"The token to verify the email",required:!0,schema:{type:"string"}},{name:"callbackURL",in:"query",description:"The URL to redirect to after email verification",required:!1,schema:{type:"string"}}],responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string",description:"User ID"},email:{type:"string",description:"User email"},name:{type:"string",description:"User name"},image:{type:"string",description:"User image URL"},emailVerified:{type:"boolean",description:"Indicates if the user email is verified"},createdAt:{type:"string",description:"User creation date"},updatedAt:{type:"string",description:"User update date"}},required:["id","email","name","image","emailVerified","createdAt","updatedAt"]},status:{type:"boolean",description:"Indicates if the email was verified successfully"}},required:["user","status"]}}}}}}}},async e=>{let t;function r(t){if(e.query.callbackURL){if(e.query.callbackURL.includes("?"))throw e.redirect(`${e.query.callbackURL}&error=${t}`);throw e.redirect(`${e.query.callbackURL}?error=${t}`)}throw new eC.APIError("UNAUTHORIZED",{message:t})}let{token:n}=e.query;try{t=await ew(n,new TextEncoder().encode(e.context.secret),{algorithms:["HS256"]})}catch(e){if(e instanceof $)return r("token_expired");return r("invalid_token")}let i=lh({email:o6().email(),updateTo:o6().optional()}).parse(t.payload),s=await e.context.internalAdapter.findUserByEmail(i.email);if(!s)return r("user_not_found");if(i.updateTo){let t=await dh(e);if(!t||t.user.email!==i.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return r("unauthorized")}let n=await e.context.internalAdapter.updateUserByEmail(i.email,{email:i.updateTo,emailVerified:!1},e),s=await fe(e.context.secret,i.updateTo);if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:n,url:`${e.context.baseURL}/verify-email?token=${s}&callbackURL=${e.query.callbackURL||"/"}`,token:s},e.request),await cJ(e,{session:t.session,user:{...t.user,email:i.updateTo,emailVerified:!1}}),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:{id:n.id,email:n.email,name:n.name,image:n.image,emailVerified:n.emailVerified,createdAt:n.createdAt,updatedAt:n.updatedAt}})}e.context.options.emailVerification?.onEmailVerification&&await e.context.options.emailVerification.onEmailVerification(s.user,e.request);let a=await e.context.internalAdapter.updateUserByEmail(i.email,{emailVerified:!0},e);if(e.context.options.emailVerification?.afterEmailVerification&&await e.context.options.emailVerification.afterEmailVerification(a,e.request),e.context.options.emailVerification?.autoSignInAfterVerification){let t=await dh(e);if(t&&t.user.email===i.email)await cJ(e,{session:t.session,user:{...t.user,emailVerified:!0}});else{let t=await e.context.internalAdapter.createSession(s.user.id,e);if(!t)throw new eC.APIError("INTERNAL_SERVER_ERROR",{message:"Failed to create session"});await cJ(e,{session:t,user:{...s.user,emailVerified:!0}})}}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({status:!0,user:null})}),fi={isAction:!1};async function fs(e,t){let r=e.body?.callbackURL||e.context.options.baseURL;if(!r)throw new eC.APIError("BAD_REQUEST",{message:"callbackURL is required"});let n=(0,dR.g)(128),i=(0,dR.g)(32),s=e.context.createAuthCookie("state",{maxAge:3e5});await e.setSignedCookie(s.name,i,e.context.secret,s.attributes);let a=JSON.stringify({callbackURL:r,codeVerifier:n,errorURL:e.body?.errorCallbackURL,newUserURL:e.body?.newUserCallbackURL,link:t,expiresAt:Date.now()+6e5,requestSignUp:e.body?.requestSignUp}),o=new Date;o.setMinutes(o.getMinutes()+10);let u=await e.context.internalAdapter.createVerificationValue({value:a,identifier:i,expiresAt:o},e);if(!u)throw e.context.logger.error("Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database"),new eC.APIError("INTERNAL_SERVER_ERROR",{message:"Unable to create verification"});return{state:u.identifier,codeVerifier:n}}async function fa(e){let t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r){e.context.logger.error("State Mismatch. Verification not found",{state:t});let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=please_restart_the_process`)}let n=lh({callbackURL:o6(),codeVerifier:o6(),errorURL:o6().optional(),newUserURL:o6().optional(),expiresAt:uF(),link:lh({email:o6(),userId:cx.string()}).optional(),requestSignUp:uX().optional()}).parse(JSON.parse(r.value));n.errorURL||(n.errorURL=`${e.context.baseURL}/error`);let i=e.context.createAuthCookie("state"),s=await e.getSignedCookie(i.name,e.context.secret);if(!e.context.oauthConfig?.skipStateCookieCheck&&(!s||s!==t)){let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=state_mismatch`)}if(e.setCookie(i.name,"",{maxAge:0}),n.expiresAt<Date.now()){await e.context.internalAdapter.deleteVerificationValue(r.id);let t=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${t}?error=please_restart_the_process`)}return await e.context.internalAdapter.deleteVerificationValue(r.id),n}function fo(e,t){return t.options.account?.encryptOAuthTokens&&e?p2({key:t.secret,data:e}):e}async function fu(e,{userInfo:t,account:r,callbackURL:n,disableSignUp:i,overrideUserInfo:s}){let a=await e.context.internalAdapter.findOAuthUser(t.email.toLowerCase(),r.accountId,r.providerId).catch(t=>{cU.logger.error("Better auth was unable to query your database.\nError: ",t);let r=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;throw e.redirect(`${r}?error=internal_server_error`)}),o=a?.user,u=!o;if(a){let n=a.accounts.find(e=>e.providerId===r.providerId&&e.accountId===r.accountId);if(n){if(e.context.options.account?.updateAccountOnSignIn!==!1){let t=Object.fromEntries(Object.entries({idToken:r.idToken,accessToken:await fo(r.accessToken,e.context),refreshToken:await fo(r.refreshToken,e.context),accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope}).filter(([e,t])=>void 0!==t));Object.keys(t).length>0&&await e.context.internalAdapter.updateAccount(n.id,t,e)}t.emailVerified&&!a.user.emailVerified&&t.email.toLowerCase()===a.user.email&&await e.context.internalAdapter.updateUser(a.user.id,{emailVerified:!0})}else{let n=e.context.options.account?.accountLinking?.trustedProviders;if(!n?.includes(r.providerId)&&!t.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return(0,cU.isDevelopment)()&&cU.logger.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:"account not linked",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),userId:a.user.id,accessToken:await fo(r.accessToken,e.context),refreshToken:await fo(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope},e)}catch(e){return cU.logger.error("Unable to link account",e),{error:"unable to link account",data:null}}t.emailVerified&&!a.user.emailVerified&&t.email.toLowerCase()===a.user.email&&await e.context.internalAdapter.updateUser(a.user.id,{emailVerified:!0})}if(s){let{id:r,...n}=t;await e.context.internalAdapter.updateUser(a.user.id,{...n,email:t.email.toLowerCase(),emailVerified:t.email.toLowerCase()===a.user.email&&a.user.emailVerified||t.emailVerified})}}else{if(i)return{error:"signup disabled",data:null,isRegister:!1};try{let{id:i,...s}=t;if(o=await e.context.internalAdapter.createOAuthUser({...s,email:t.email.toLowerCase()},{accessToken:await fo(r.accessToken,e.context),refreshToken:await fo(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scope,providerId:r.providerId,accountId:t.id.toString()},e).then(e=>e?.user),!t.emailVerified&&o&&e.context.options.emailVerification?.sendOnSignUp){let t=await fe(e.context.secret,o.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${n}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:o,url:r,token:t},e.request)}}catch(e){if(cU.logger.error(e),e instanceof eC.APIError)return{error:e.message,data:null,isRegister:!1};return{error:"unable to create user",data:null,isRegister:!1}}}if(!o)return{error:"unable to create user",data:null,isRegister:!1};let l=await e.context.internalAdapter.createSession(o.id,e);return l?{data:{session:l,user:o},error:null,isRegister:u}:{error:"unable to create session",data:null,isRegister:!1}}let fl=c2("/sign-in/social",{method:"POST",body:lh({callbackURL:o6().meta({description:"Callback URL to redirect to after the user has signed in"}).optional(),newUserCallbackURL:o6().optional(),errorCallbackURL:o6().meta({description:"Callback URL to redirect to if an error happens"}).optional(),provider:dd,disableRedirect:uX().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional(),idToken:lq(lh({token:o6().meta({description:"ID token from the provider"}),nonce:o6().meta({description:"Nonce used to generate the token"}).optional(),accessToken:o6().meta({description:"Access token from the provider"}).optional(),refreshToken:o6().meta({description:"Refresh token from the provider"}).optional(),expiresAt:uF().meta({description:"Expiry date of the token"}).optional()})),scopes:ld(o6()).meta({description:"Array of scopes to request from the provider. This will override the default scopes passed."}).optional(),requestSignUp:uX().meta({description:"Explicitly request sign-up. Useful when disableImplicitSignUp is true for this provider"}).optional(),loginHint:o6().meta({description:"The login hint to use for the authorization code request"}).optional()}),metadata:{openapi:{description:"Sign in with a social provider",operationId:"socialSignIn",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token",url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}}},required:["redirect","token","user"]}}}}}}}},async e=>{let t=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!t)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.ID_TOKEN_NOT_SUPPORTED});let{token:r,nonce:n}=e.body.idToken;if(!await t.verifyIdToken(r,n))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_TOKEN});let i=await t.getUserInfo({idToken:r,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!i||!i?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO});if(!i.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.USER_EMAIL_NOT_FOUND});let s=await fu(e,{userInfo:{...i.user,email:i.user.email,id:String(i.user.id),name:i.user.name||"",image:i.user.image,emailVerified:i.user.emailVerified||!1},account:{providerId:t.id,accountId:String(i.user.id),accessToken:e.body.idToken.accessToken},callbackURL:e.body.callbackURL,disableSignUp:t.disableImplicitSignUp&&!e.body.requestSignUp||t.disableSignUp});if(s.error)throw new eC.APIError("UNAUTHORIZED",{message:s.error});return await cJ(e,s.data),e.json({redirect:!1,token:s.data.session.token,url:void 0,user:{id:s.data.user.id,email:s.data.user.email,name:s.data.user.name,image:s.data.user.image,emailVerified:s.data.user.emailVerified,createdAt:s.data.user.createdAt,updatedAt:s.data.user.updatedAt}})}let{codeVerifier:r,state:n}=await fs(e),i=await t.createAuthorizationURL({state:n,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`,scopes:e.body.scopes,loginHint:e.body.loginHint});return e.json({url:i.toString(),redirect:!e.body.disableRedirect})}),fc=c2("/sign-in/email",{method:"POST",body:lh({email:o6().meta({description:"Email of the user"}),password:o6().meta({description:"Password of the user"}),callbackURL:o6().meta({description:"Callback URL to use as a redirect for email verification"}).optional(),rememberMe:uX().meta({description:"If this is false, the session will not be remembered. Default is `true`."}).default(!0).optional()}),metadata:{openapi:{description:"Sign in with email and password",responses:{200:{description:"Success - Returns either session details or redirect URL",content:{"application/json":{schema:{type:"object",description:"Session response when idToken is provided",properties:{redirect:{type:"boolean",enum:[!1]},token:{type:"string",description:"Session token"},url:{type:"null",nullable:!0},user:{type:"object",properties:{id:{type:"string"},email:{type:"string"},name:{type:"string",nullable:!0},image:{type:"string",nullable:!0},emailVerified:{type:"boolean"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"}},required:["id","email","emailVerified","createdAt","updatedAt"]}},required:["redirect","token","user"]}}}}}}}},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error("Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!"),new eC.APIError("BAD_REQUEST",{message:"Email and password is not enabled"});let{email:t,password:r}=e.body;if(!o6().email().safeParse(t).success)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL});let n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)throw await e.context.password.hash(r),e.context.logger.error("User not found",{email:t}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD});let i=n.accounts.find(e=>"credential"===e.providerId);if(!i)throw e.context.logger.error("Credential account not found",{email:t}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD});let s=i?.password;if(!s)throw e.context.logger.error("Password not found",{email:t}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD});if(!await e.context.password.verify({hash:s,password:r}))throw e.context.logger.error("Invalid password"),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL_OR_PASSWORD});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!n.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw new eC.APIError("FORBIDDEN",{message:cM.BASE_ERROR_CODES.EMAIL_NOT_VERIFIED});if(e.context.options?.emailVerification?.sendOnSignIn){let t=await fe(e.context.secret,n.user.email,void 0,e.context.options.emailVerification?.expiresIn),r=`${e.context.baseURL}/verify-email?token=${t}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:n.user,url:r,token:t},e.request)}throw new eC.APIError("FORBIDDEN",{message:cM.BASE_ERROR_CODES.EMAIL_NOT_VERIFIED})}let a=await e.context.internalAdapter.createSession(n.user.id,e,!1===e.body.rememberMe);if(!a)throw e.context.logger.error("Failed to create session"),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.FAILED_TO_CREATE_SESSION});return await cJ(e,{session:a,user:n.user},!1===e.body.rememberMe),e.json({redirect:!!e.body.callbackURL,token:a.token,url:e.body.callbackURL,user:{id:n.user.id,email:n.user.email,name:n.user.name,image:n.user.image,emailVerified:n.user.emailVerified,createdAt:n.user.createdAt,updatedAt:n.user.updatedAt}})}),fd=lh({code:o6().optional(),error:o6().optional(),device_id:o6().optional(),error_description:o6().optional(),state:o6().optional(),user:o6().optional()}),fp=c2("/callback/:id",{method:["GET","POST"],body:fd.optional(),query:fd.optional(),metadata:fi},async e=>{let t,r,n,i=e.context.options.onAPIError?.errorURL||`${e.context.baseURL}/error`;try{if("GET"===e.method)t=fd.parse(e.query);else if("POST"===e.method)t=fd.parse(e.body);else throw Error("Unsupported method")}catch(t){throw e.context.logger.error("INVALID_CALLBACK_REQUEST",t),e.redirect(`${i}?error=invalid_callback_request`)}let{code:s,error:a,state:o,error_description:u,device_id:l}=t;if(!o){e.context.logger.error("State not found",a);let t=i.includes("?")?"&":"?",r=`${i}${t}state=state_not_found`;throw e.redirect(r)}let{codeVerifier:c,callbackURL:d,link:p,errorURL:f,newUserURL:h,requestSignUp:m}=await fa(e);function g(t,r){let n=f??i,s=new URLSearchParams({error:t});r&&s.set("error_description",r);let a=n.includes("?")?"&":"?",o=`${n}${a}${s.toString()}`;throw e.redirect(o)}if(a&&g(a,u),!s)throw e.context.logger.error("Code not found"),g("no_code");let y=e.context.socialProviders.find(t=>t.id===e.params.id);if(!y)throw e.context.logger.error("Oauth provider with id",e.params.id,"not found"),g("oauth_provider_not_found");try{r=await y.validateAuthorizationCode({code:s,codeVerifier:c,deviceId:l,redirectURI:`${e.context.baseURL}/callback/${y.id}`})}catch(t){throw e.context.logger.error("",t),g("invalid_code")}let _=await y.getUserInfo({...r,user:e.body?.user?(0,cq.s)(e.body.user):void 0}).then(e=>e?.user);if(!_)return e.context.logger.error("Unable to get user info"),g("unable_to_get_user_info");if(!d)throw e.context.logger.error("No callback URL found"),g("no_callback_url");if(p){let t,n=e.context.options.account?.accountLinking?.trustedProviders;if(!n?.includes(y.id)&&!_.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return e.context.logger.error("Unable to link account - untrusted provider"),g("unable_to_link_account");if(_.email!==p.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)return g("email_doesn't_match");let i=await e.context.internalAdapter.findAccount(String(_.id));if(i){if(i.userId.toString()!==p.userId.toString())return g("account_already_linked_to_different_user");let t=Object.fromEntries(Object.entries({accessToken:await fo(r.accessToken,e.context),refreshToken:await fo(r.refreshToken,e.context),idToken:r.idToken,accessTokenExpiresAt:r.accessTokenExpiresAt,refreshTokenExpiresAt:r.refreshTokenExpiresAt,scope:r.scopes?.join(",")}).filter(([e,t])=>void 0!==t));await e.context.internalAdapter.updateAccount(i.id,t)}else if(!await e.context.internalAdapter.createAccount({userId:p.userId,providerId:y.id,accountId:String(_.id),...r,accessToken:await fo(r.accessToken,e.context),refreshToken:await fo(r.refreshToken,e.context),scope:r.scopes?.join(",")},e))return g("unable_to_link_account");try{t=d.toString()}catch{t=d}throw e.redirect(t)}if(!_.email)return e.context.logger.error("Provider did not return email. This could be due to misconfiguration in the provider settings."),g("email_not_found");let b=await fu(e,{userInfo:{..._,id:String(_.id),email:_.email,name:_.name||_.email},account:{providerId:y.id,accountId:String(_.id),...r,scope:r.scopes?.join(",")},callbackURL:d,disableSignUp:y.disableImplicitSignUp&&!m||y.options?.disableSignUp,overrideUserInfo:y.options?.overrideUserInfoOnSignIn});if(b.error)return e.context.logger.error(b.error.split(" ").join("_")),g(b.error.split(" ").join("_"));let{session:v,user:E}=b.data;await cJ(e,{session:v,user:E});try{n=(b.isRegister&&h||d).toString()}catch{n=b.isRegister&&h||d}throw e.redirect(n)}),ff=c2("/sign-out",{method:"POST",requireHeaders:!0,metadata:{openapi:{description:"Sign out the current user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean"}}}}}}}}}},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw c0(e),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_SESSION});return await e.context.internalAdapter.deleteSession(t),c0(e),e.json({success:!0})});function fh(e,t,r){let n=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([e,t])=>n.searchParams.set(e,t)),n.href}let fm=c2("/request-password-reset",{method:"POST",body:lh({email:o5().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:o6().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new eC.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let i=c$(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),s=(0,dS.g)(24);await e.context.internalAdapter.createVerificationValue({value:n.user.id,identifier:`reset-password:${s}`,expiresAt:i},e);let a=r?encodeURIComponent(r):"",o=`${e.context.baseURL}/reset-password/${s}?callbackURL=${a}`;return await e.context.options.emailAndPassword.sendResetPassword({user:n.user,url:o,token:s},e.request),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"})}),fg=c2("/forget-password",{method:"POST",body:lh({email:o6().email().meta({description:"The email address of the user to send a password reset email to"}),redirectTo:o6().meta({description:"The URL to redirect the user to reset their password. If the token isn't valid or expired, it'll be redirected with a query parameter `?error=INVALID_TOKEN`. If the token is valid, it'll be redirected with a query parameter `?token=VALID_TOKEN"}).optional()}),metadata:{openapi:{description:"Send a password reset email to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"},message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error("Reset password isn't enabled.Please pass an emailAndPassword.sendResetPassword function in your auth config!"),new eC.APIError("BAD_REQUEST",{message:"Reset password isn't enabled"});let{email:t,redirectTo:r}=e.body,n=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!n)return e.context.logger.error("Reset Password: User not found",{email:t}),e.json({status:!0,message:"If this email exists in our system, check your email for the reset link"});let i=c$(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||3600,"sec"),s=(0,dS.g)(24);await e.context.internalAdapter.createVerificationValue({value:n.user.id,identifier:`reset-password:${s}`,expiresAt:i},e);let a=r?encodeURIComponent(r):"",o=`${e.context.baseURL}/reset-password/${s}?callbackURL=${a}`;return await e.context.options.emailAndPassword.sendResetPassword({user:n.user,url:o,token:s},e.request),e.json({status:!0})}),fy=c2("/reset-password/:token",{method:"GET",query:lh({callbackURL:o6().meta({description:"The URL to redirect the user to reset their password"})}),use:[p7(e=>e.query.callbackURL)],metadata:{openapi:{description:"Redirects the user to the callback URL with the token",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string"}}}}}}}}}},async e=>{let{token:t}=e.params,{callbackURL:r}=e.query;if(!t||!r)throw e.redirect(fh(e.context,r,{error:"INVALID_TOKEN"}));let n=await e.context.internalAdapter.findVerificationValue(`reset-password:${t}`);if(!n||n.expiresAt<new Date)throw e.redirect(fh(e.context,r,{error:"INVALID_TOKEN"}));throw e.redirect(function(e,t,r){let n=new URL(t,e.baseURL);return r&&Object.entries(r).forEach(([e,t])=>n.searchParams.set(e,t)),n.href}(e.context,r,{token:t}))}),f_=fy,fb=c2("/reset-password",{method:"POST",query:lh({token:o6().optional()}).optional(),body:lh({newPassword:o6().meta({description:"The new password to set"}),token:o6().meta({description:"The token to reset the password"}).optional()}),metadata:{openapi:{description:"Reset the password for a user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let t=e.body.token||e.query?.token;if(!t)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_TOKEN});let{newPassword:r}=e.body,n=e.context.password?.config.minPasswordLength,i=e.context.password?.config.maxPasswordLength;if(r.length<n)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_SHORT});if(r.length>i)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_LONG});let s=`reset-password:${t}`,a=await e.context.internalAdapter.findVerificationValue(s);if(!a||a.expiresAt<new Date)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_TOKEN});let o=a.value,u=await e.context.password.hash(r);if((await e.context.internalAdapter.findAccounts(o)).find(e=>"credential"===e.providerId)?await e.context.internalAdapter.updatePassword(o,u,e):await e.context.internalAdapter.createAccount({userId:o,providerId:"credential",password:u,accountId:o},e),await e.context.internalAdapter.deleteVerificationValue(a.id),e.context.options.emailAndPassword?.onPasswordReset){let t=await e.context.internalAdapter.findUserById(o);t&&await e.context.options.emailAndPassword.onPasswordReset({user:t},e.request)}return e.context.options.emailAndPassword?.revokeSessionsOnPasswordReset&&await e.context.internalAdapter.deleteSessions(o),e.json({status:!0})}),fv=()=>c2("/update-user",{method:"POST",body:lA(o6().meta({description:"Field name must be a string"}),lt()),use:[dm],metadata:{$Infer:{body:{}},openapi:{description:"Update the current user",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},image:{type:"string",description:"The image of the user"}}}}}},responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the update was successful"}}}}}}}}}},async e=>{let t=e.body;if(t.email)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.EMAIL_CAN_NOT_BE_UPDATED});let{name:r,image:n,...i}=t,s=e.context.session,a=dN(e.context.options,i,"update");if(void 0===n&&void 0===r&&0===Object.keys(a).length)throw new eC.APIError("BAD_REQUEST",{message:"No fields to update"});let o=await e.context.internalAdapter.updateUser(s.user.id,{name:r,image:n,...a},e);return await cJ(e,{session:s.session,user:o}),e.json({status:!0})}),fE=c2("/change-password",{method:"POST",body:lh({newPassword:o6().meta({description:"The new password to set"}),currentPassword:o6().meta({description:"The current password is required"}),revokeOtherSessions:uX().meta({description:"Must be a boolean value"}).optional()}),use:[dg],metadata:{openapi:{description:"Change the password of the user",responses:{200:{description:"Password successfully changed",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"New session token if other sessions were revoked"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}}}}}},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:n}=e.body,i=e.context.session,s=e.context.password.config.minPasswordLength;if(t.length<s)throw e.context.logger.error("Password is too short"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_SHORT});let a=e.context.password.config.maxPasswordLength;if(t.length>a)throw e.context.logger.error("Password is too long"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_LONG});let o=(await e.context.internalAdapter.findAccounts(i.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!o||!o.password)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.CREDENTIAL_ACCOUNT_NOT_FOUND});let u=await e.context.password.hash(t);if(!await e.context.password.verify({hash:o.password,password:r}))throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_PASSWORD});await e.context.internalAdapter.updateAccount(o.id,{password:u});let l=null;if(n){await e.context.internalAdapter.deleteSessions(i.user.id);let t=await e.context.internalAdapter.createSession(i.user.id,e);if(!t)throw new eC.APIError("INTERNAL_SERVER_ERROR",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_SESSION});await cJ(e,{session:t,user:i.user}),l=t.token}return e.json({token:l,user:{id:i.user.id,email:i.user.email,name:i.user.name,image:i.user.image,emailVerified:i.user.emailVerified,createdAt:i.user.createdAt,updatedAt:i.user.updatedAt}})}),fS=c2("/set-password",{method:"POST",body:lh({newPassword:o6().meta({description:"The new password to set is required"})}),metadata:{SERVER_ONLY:!0},use:[dg]},async e=>{let{newPassword:t}=e.body,r=e.context.session,n=e.context.password.config.minPasswordLength;if(t.length<n)throw e.context.logger.error("Password is too short"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_SHORT});let i=e.context.password.config.maxPasswordLength;if(t.length>i)throw e.context.logger.error("Password is too long"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_LONG});let s=(await e.context.internalAdapter.findAccounts(r.user.id)).find(e=>"credential"===e.providerId&&e.password),a=await e.context.password.hash(t);if(!s)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:"credential",accountId:r.user.id,password:a},e),e.json({status:!0});throw new eC.APIError("BAD_REQUEST",{message:"user already has a password"})}),fw=c2("/delete-user",{method:"POST",use:[dg],body:lh({callbackURL:o6().meta({description:"The callback URL to redirect to after the user is deleted"}).optional(),password:o6().meta({description:"The password of the user is required to delete the user"}).optional(),token:o6().meta({description:"The token to delete the user is required"}).optional()}),metadata:{openapi:{description:"Delete the user",responses:{200:{description:"User deletion processed successfully",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the operation was successful"},message:{type:"string",enum:["User deleted","Verification email sent"],description:"Status message of the deletion process"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new eC.APIError("NOT_FOUND");let t=e.context.session;if(e.body.password){let r=(await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>"credential"===e.providerId&&e.password);if(!r||!r.password)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.CREDENTIAL_ACCOUNT_NOT_FOUND});if(!await e.context.password.verify({hash:r.password,password:e.body.password}))throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_PASSWORD})}if(e.body.token)return await fR({...e,query:{token:e.body.token}}),e.json({success:!0,message:"User deleted"});if(e.context.options.user.deleteUser?.sendDeleteAccountVerification){let r=(0,dR.g)(32,"0-9","a-z");await e.context.internalAdapter.createVerificationValue({value:t.user.id,identifier:`delete-account-${r}`,expiresAt:new Date(Date.now()+1e3*(e.context.options.user.deleteUser?.deleteTokenExpiresIn||86400))},e);let n=`${e.context.baseURL}/delete-user/callback?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.deleteUser.sendDeleteAccountVerification({user:t.user,url:n,token:r},e.request),e.json({success:!0,message:"Verification email sent"})}if(!e.body.password&&0!==e.context.sessionConfig.freshAge){let r=new Date(t.session.createdAt).getTime(),n=1e3*e.context.sessionConfig.freshAge;if(Date.now()-r>1e3*n)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.SESSION_EXPIRED})}let r=e.context.options.user.deleteUser?.beforeDelete;r&&await r(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),c0(e);let n=e.context.options.user.deleteUser?.afterDelete;return n&&await n(t.user,e.request),e.json({success:!0,message:"User deleted"})}),fR=c2("/delete-user/callback",{method:"GET",query:lh({token:o6().meta({description:"The token to verify the deletion request"}),callbackURL:o6().meta({description:"The URL to redirect to after deletion"}).optional()}),use:[p7(e=>e.query.callbackURL)],metadata:{openapi:{description:"Callback to complete user deletion with verification token",responses:{200:{description:"User successfully deleted",content:{"application/json":{schema:{type:"object",properties:{success:{type:"boolean",description:"Indicates if the deletion was successful"},message:{type:"string",enum:["User deleted"],description:"Confirmation message"}},required:["success","message"]}}}}}}}},async e=>{if(!e.context.options.user?.deleteUser?.enabled)throw e.context.logger.error("Delete user is disabled. Enable it in the options"),new eC.APIError("NOT_FOUND");let t=await dh(e);if(!t)throw new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO});let r=await e.context.internalAdapter.findVerificationValue(`delete-account-${e.query.token}`);if(!r||r.expiresAt<new Date||r.value!==t.user.id)throw new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.INVALID_TOKEN});let n=e.context.options.user.deleteUser?.beforeDelete;n&&await n(t.user,e.request),await e.context.internalAdapter.deleteUser(t.user.id),await e.context.internalAdapter.deleteSessions(t.user.id),await e.context.internalAdapter.deleteAccounts(t.user.id),await e.context.internalAdapter.deleteVerificationValue(r.id),c0(e);let i=e.context.options.user.deleteUser?.afterDelete;if(i&&await i(t.user,e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL||"/");return e.json({success:!0,message:"User deleted"})}),fO=c2("/change-email",{method:"POST",body:lh({newEmail:o5().meta({description:"The new email address to set must be a valid email address"}),callbackURL:o6().meta({description:"The URL to redirect to after email verification"}).optional()}),use:[dg],metadata:{openapi:{responses:{200:{description:"Email change request processed successfully",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean",description:"Indicates if the request was successful"},message:{type:"string",enum:["Email updated","Verification email sent"],description:"Status message of the email change process",nullable:!0}},required:["status"]}}}},422:{description:"Unprocessable Entity. Email already exists",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error("Change email is disabled."),new eC.APIError("BAD_REQUEST",{message:"Change email is disabled"});let t=e.body.newEmail.toLowerCase();if(t===e.context.session.user.email)throw e.context.logger.error("Email is the same"),new eC.APIError("BAD_REQUEST",{message:"Email is the same"});if(await e.context.internalAdapter.findUserByEmail(t))throw e.context.logger.error("Email already exists"),new eC.APIError("BAD_REQUEST",{message:"Couldn't update your email"});if(!0!==e.context.session.user.emailVerified){if(await e.context.internalAdapter.findUserByEmail(t))throw new eC.APIError("UNPROCESSABLE_ENTITY",{message:cM.BASE_ERROR_CODES.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});if(await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:t},e),await cJ(e,{session:e.context.session.session,user:{...e.context.session.user,email:t}}),e.context.options.emailVerification?.sendVerificationEmail){let r=await fe(e.context.secret,t,void 0,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;await e.context.options.emailVerification.sendVerificationEmail({user:{...e.context.session.user,email:t},url:n,token:r},e.request)}return e.json({status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error("Verification email isn't enabled."),new eC.APIError("BAD_REQUEST",{message:"Verification email isn't enabled"});let r=await fe(e.context.secret,e.context.session.user.email,t,e.context.options.emailVerification?.expiresIn),n=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||"/"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:t,url:n,token:r},e.request),e.json({status:!0})}),fA=c2("/error",{method:"GET",metadata:{...fi,openapi:{description:"Displays an error page",responses:{200:{description:"Success",content:{"text/html":{schema:{type:"string",description:"The HTML content of the error page"}}}}}}}},async e=>new Response(((e="Unknown")=>`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Authentication Error</title>
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --accent-color: #000000;
            --error-color: #dc3545;
            --border-color: #e9ecef;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            line-height: 1.5;
        }
        .error-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            text-align: center;
            max-width: 90%;
            width: 400px;
        }
        h1 {
            color: var(--error-color);
            font-size: 1.75rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }
        p {
            margin-bottom: 1.5rem;
            color: #495057;
        }
        .btn {
            background-color: var(--accent-color);
            color: #ffffff;
            text-decoration: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: inline-block;
            font-weight: 500;
            border: 2px solid var(--accent-color);
        }
        .btn:hover {
            background-color: #131721;
        }
        .error-code {
            font-size: 0.875rem;
            color: #6c757d;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }
        .icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <div class="error-container">
        <div class="icon">\u26A0\uFE0F</div>
        <h1>Better Auth Error</h1>
        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>
        <a href="/" id="returnLink" class="btn">Return to Application</a>
        <div class="error-code">Error Code: <span id="errorCode">${e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}</span></div>
    </div>
</body>
</html>`)(new URL(e.request?.url||"").searchParams.get("error")||"Unknown"),{headers:{"Content-Type":"text/html"}})),fT=c2("/ok",{method:"GET",metadata:{...fi,openapi:{description:"Check if the API is working",responses:{200:{description:"API is working",content:{"application/json":{schema:{type:"object",properties:{ok:{type:"boolean",description:"Indicates if the API is working"}},required:["ok"]}}}}}}}},async e=>e.json({ok:!0})),fI=c2("/list-accounts",{method:"GET",use:[dm],metadata:{openapi:{description:"List all accounts linked to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string"},providerId:{type:"string"},createdAt:{type:"string",format:"date-time"},updatedAt:{type:"string",format:"date-time"},accountId:{type:"string"},scopes:{type:"array",items:{type:"string"}}},required:["id","providerId","createdAt","updatedAt","accountId","scopes"]}}}}}}}}},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(e=>({id:e.id,providerId:e.providerId,createdAt:e.createdAt,updatedAt:e.updatedAt,accountId:e.accountId,scopes:e.scope?.split(",")||[]})))}),fC=c2("/link-social",{method:"POST",requireHeaders:!0,body:lh({callbackURL:o6().meta({description:"The URL to redirect to after the user has signed in"}).optional(),provider:dd,idToken:lh({token:o6(),nonce:o6().optional(),accessToken:o6().optional(),refreshToken:o6().optional(),scopes:ld(o6()).optional()}).optional(),requestSignUp:uX().optional(),scopes:ld(o6()).meta({description:"Additional scopes to request from the provider"}).optional(),errorCallbackURL:o6().meta({description:"The URL to redirect to if there is an error during the link process"}).optional(),disableRedirect:uX().meta({description:"Disable automatic redirection to the provider. Useful for handling the redirection yourself"}).optional()}),use:[dm],metadata:{openapi:{description:"Link a social account to the user",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{url:{type:"string",description:"The authorization URL to redirect the user to"},redirect:{type:"boolean",description:"Indicates if the user should be redirected to the authorization URL"},status:{type:"boolean"}},required:["redirect"]}}}}}}}},async e=>{let t=e.context.session,r=e.context.socialProviders.find(t=>t.id===e.body.provider);if(!r)throw e.context.logger.error("Provider not found. Make sure to add the provider in your auth config",{provider:e.body.provider}),new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.PROVIDER_NOT_FOUND});if(e.body.idToken){if(!r.verifyIdToken)throw e.context.logger.error("Provider does not support id token verification",{provider:e.body.provider}),new eC.APIError("NOT_FOUND",{message:cM.BASE_ERROR_CODES.ID_TOKEN_NOT_SUPPORTED});let{token:n,nonce:i}=e.body.idToken;if(!await r.verifyIdToken(n,i))throw e.context.logger.error("Invalid id token",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.INVALID_TOKEN});let s=await r.getUserInfo({idToken:n,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!s||!s?.user)throw e.context.logger.error("Failed to get user info",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.FAILED_TO_GET_USER_INFO});let a=String(s.user.id);if(!s.user.email)throw e.context.logger.error("User email not found",{provider:e.body.provider}),new eC.APIError("UNAUTHORIZED",{message:cM.BASE_ERROR_CODES.USER_EMAIL_NOT_FOUND});if((await e.context.internalAdapter.findAccounts(t.user.id)).find(e=>e.providerId===r.id&&e.accountId===a))return e.json({url:"",status:!0,redirect:!1});let o=e.context.options.account?.accountLinking?.trustedProviders;if(!o?.includes(r.id)&&!s.user.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)throw new eC.APIError("UNAUTHORIZED",{message:"Account not linked - linking not allowed"});if(s.user.email!==t.user.email&&e.context.options.account?.accountLinking?.allowDifferentEmails!==!0)throw new eC.APIError("UNAUTHORIZED",{message:"Account not linked - different emails not allowed"});try{await e.context.internalAdapter.createAccount({userId:t.user.id,providerId:r.id,accountId:a,accessToken:e.body.idToken.accessToken,idToken:n,refreshToken:e.body.idToken.refreshToken,scope:e.body.idToken.scopes?.join(",")},e)}catch(e){throw new eC.APIError("EXPECTATION_FAILED",{message:"Account not linked - unable to create account"})}if(e.context.options.account?.accountLinking?.updateUserInfoOnLink===!0)try{await e.context.internalAdapter.updateUser(t.user.id,{name:s.user?.name,image:s.user?.image})}catch(e){console.warn("Could not update user - "+e.toString())}return e.json({url:"",status:!0,redirect:!1})}let n=await fs(e,{userId:t.user.id,email:t.user.email}),i=await r.createAuthorizationURL({state:n.state,codeVerifier:n.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${r.id}`,scopes:e.body.scopes});return e.json({url:i.toString(),redirect:!e.body.disableRedirect})}),fN=c2("/unlink-account",{method:"POST",body:lh({providerId:o6(),accountId:o6().optional()}),use:[dy],metadata:{openapi:{description:"Unlink an account",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{status:{type:"boolean"}}}}}}}}}},async e=>{let{providerId:t,accountId:r}=e.body,n=await e.context.internalAdapter.findAccounts(e.context.session.user.id);if(1===n.length&&!e.context.options.account?.accountLinking?.allowUnlinkingAll)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.FAILED_TO_UNLINK_LAST_ACCOUNT});let i=n.find(e=>r?e.accountId===r&&e.providerId===t:e.providerId===t);if(!i)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.ACCOUNT_NOT_FOUND});return await e.context.internalAdapter.deleteAccount(i.id),e.json({status:!0})}),fP=c2("/get-access-token",{method:"POST",body:lh({providerId:o6().meta({description:"The provider ID for the OAuth provider"}),accountId:o6().meta({description:"The account ID associated with the refresh token"}).optional(),userId:o6().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Get a valid access token, doing a refresh if needed",responses:{200:{description:"A Valid access token",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:n}=e.body,i=e.request,s=await dh(e);if(i&&!s)throw e.error("UNAUTHORIZED");let a=s?.user?.id||n;if(!a)throw new eC.APIError("BAD_REQUEST",{message:"Either userId or session is required"});if(!e.context.socialProviders.find(e=>e.id===t))throw new eC.APIError("BAD_REQUEST",{message:`Provider ${t} is not supported.`});let o=(await e.context.internalAdapter.findAccounts(a)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!o)throw new eC.APIError("BAD_REQUEST",{message:"Account not found"});let u=e.context.socialProviders.find(e=>e.id===t);if(!u)throw new eC.APIError("BAD_REQUEST",{message:`Provider ${t} not found.`});try{let t=null,r=o.accessTokenExpiresAt&&new Date(o.accessTokenExpiresAt).getTime()-Date.now()<5e3;o.refreshToken&&r&&u.refreshAccessToken&&(t=await u.refreshAccessToken(o.refreshToken),await e.context.internalAdapter.updateAccount(o.id,{accessToken:await fo(t.accessToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshToken:await fo(t.refreshToken,e.context),refreshTokenExpiresAt:t.refreshTokenExpiresAt}));let n={accessToken:await function(e,t){return e&&t.options.account?.encryptOAuthTokens?p6({key:t.secret,data:e}):e}(t?.accessToken??o.accessToken??"",e.context),accessTokenExpiresAt:t?.accessTokenExpiresAt??o.accessTokenExpiresAt??void 0,scopes:o.scope?.split(",")??[],idToken:t?.idToken??o.idToken??void 0};return e.json(n)}catch(e){throw new eC.APIError("BAD_REQUEST",{message:"Failed to get a valid access token",cause:e})}}),fx=c2("/refresh-token",{method:"POST",body:lh({providerId:o6().meta({description:"The provider ID for the OAuth provider"}),accountId:o6().meta({description:"The account ID associated with the refresh token"}).optional(),userId:o6().meta({description:"The user ID associated with the account"}).optional()}),metadata:{openapi:{description:"Refresh the access token using a refresh token",responses:{200:{description:"Access token refreshed successfully",content:{"application/json":{schema:{type:"object",properties:{tokenType:{type:"string"},idToken:{type:"string"},accessToken:{type:"string"},refreshToken:{type:"string"},accessTokenExpiresAt:{type:"string",format:"date-time"},refreshTokenExpiresAt:{type:"string",format:"date-time"}}}}}},400:{description:"Invalid refresh token or provider configuration"}}}}},async e=>{let{providerId:t,accountId:r,userId:n}=e.body,i=e.request,s=await dh(e);if(i&&!s)throw e.error("UNAUTHORIZED");let a=s?.user?.id||n;if(!a)throw new eC.APIError("BAD_REQUEST",{message:"Either userId or session is required"});let o=(await e.context.internalAdapter.findAccounts(a)).find(e=>r?e.id===r&&e.providerId===t:e.providerId===t);if(!o)throw new eC.APIError("BAD_REQUEST",{message:"Account not found"});let u=e.context.socialProviders.find(e=>e.id===t);if(!u)throw new eC.APIError("BAD_REQUEST",{message:`Provider ${t} not found.`});if(!u.refreshAccessToken)throw new eC.APIError("BAD_REQUEST",{message:`Provider ${t} does not support token refreshing.`});try{let t=await u.refreshAccessToken(o.refreshToken);return await e.context.internalAdapter.updateAccount(o.id,{accessToken:await fo(t.accessToken,e.context),refreshToken:await fo(t.refreshToken,e.context),accessTokenExpiresAt:t.accessTokenExpiresAt,refreshTokenExpiresAt:t.refreshTokenExpiresAt}),e.json(t)}catch(e){throw new eC.APIError("BAD_REQUEST",{message:"Failed to refresh access token",cause:e})}}),fD=c2("/account-info",{method:"POST",use:[dm],metadata:{openapi:{description:"Get the account info provided by the provider",responses:{200:{description:"Success",content:{"application/json":{schema:{type:"object",properties:{user:{type:"object",properties:{id:{type:"string"},name:{type:"string"},email:{type:"string"},image:{type:"string"},emailVerified:{type:"boolean"}},required:["id","emailVerified"]},data:{type:"object",properties:{},additionalProperties:!0}},required:["user","data"],additionalProperties:!1}}}}}}},body:lh({accountId:o6().meta({description:"The provider given account id for which to get the account info"})})},async e=>{let t=await e.context.internalAdapter.findAccount(e.body.accountId);if(!t||t.userId!==e.context.session.user.id)throw new eC.APIError("BAD_REQUEST",{message:"Account not found"});let r=e.context.socialProviders.find(e=>e.id===t.providerId);if(!r)throw new eC.APIError("INTERNAL_SERVER_ERROR",{message:`Provider account provider is ${t.providerId} but it is not configured`});let n=await fP({...e,body:{accountId:t.id,providerId:t.providerId},returnHeaders:!1});if(!n.accessToken)throw new eC.APIError("BAD_REQUEST",{message:"Access token not found"});let i=await r.getUserInfo({...n,accessToken:n.accessToken});return e.json(i)}),fk=dD((e,t,r)=>{if(Array.isArray(e[t])&&Array.isArray(r))return e[t]=r,!0});function fL(e,t){let r={};for(let[n,i]of Object.entries(e))r[n]=async e=>{let r=await t,n={...e,context:{...r,returned:void 0,responseHeaders:void 0,session:null},path:i.path,headers:e?.headers?new Headers(e?.headers):void 0},{beforeHooks:s,afterHooks:a}=function(e){let t=e.options.plugins||[],r=[],n=[];e.options.hooks?.before&&r.push({matcher:()=>!0,handler:e.options.hooks.before}),e.options.hooks?.after&&n.push({matcher:()=>!0,handler:e.options.hooks.after});let i=t.map(e=>{if(e.hooks?.before)return e.hooks.before}).filter(e=>void 0!==e).flat(),s=t.map(e=>{if(e.hooks?.after)return e.hooks.after}).filter(e=>void 0!==e).flat();return i.length&&r.push(...i),s.length&&n.push(...s),{beforeHooks:r,afterHooks:n}}(r),o=await fM(n,s);if("context"in o&&o.context&&"object"==typeof o.context){let{headers:e,...t}=o.context;e&&e.forEach((e,t)=>{n.headers.set(t,e)}),n=fk(t,n)}else if(o)return e?.asResponse?(0,eC.toResponse)(o,{headers:e?.headers}):e?.returnHeaders?{headers:e?.headers,response:o}:o;n.asResponse=!1,n.returnHeaders=!0;let u=await i(n).catch(e=>{if(e instanceof eC.APIError)return{response:e,headers:e.headers?new Headers(e.headers):null};throw e});if(u&&u instanceof Response)return u;n.context.returned=u.response,n.context.responseHeaders=u.headers;let l=await f$(n,a);if(l.response&&(u.response=l.response),u.response instanceof eC.APIError&&(0,cU.shouldPublishLog)(r.logger.level,"debug")&&(u.response.stack=u.response.errorStack),u.response instanceof eC.APIError&&!e?.asResponse)throw u.response;return e?.asResponse?(0,eC.toResponse)(u.response,{headers:u.headers}):e?.returnHeaders?{headers:u.headers,response:u.response}:u.response},r[n].path=i.path,r[n].options=i.options;return r}async function fM(e,t){let r={};for(let n of t)if(n.matcher(e)){let t=await n.handler({...e,returnHeaders:!1}).catch(t=>{throw t instanceof eC.APIError&&(0,cU.shouldPublishLog)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),t});if(t&&"object"==typeof t){if("context"in t&&"object"==typeof t.context){let{headers:e,...n}=t.context;e instanceof Headers&&(r.headers?e.forEach((e,t)=>{r.headers?.set(t,e)}):r.headers=e),r=fk(n,r);continue}return t}}return{context:r}}async function f$(e,t){for(let r of t)if(r.matcher(e)){let t=await r.handler(e).catch(t=>{if(t instanceof eC.APIError)return(0,cU.shouldPublishLog)(e.context.logger.level,"debug")&&(t.stack=t.errorStack),{response:t,headers:t.headers?new Headers(t.headers):null};throw t});t.headers&&t.headers.forEach((t,r)=>{e.context.responseHeaders?"set-cookie"===r.toLowerCase()?e.context.responseHeaders.append(r,t):e.context.responseHeaders.set(r,t):e.context.responseHeaders=new Headers({[r]:t})}),t.response&&(e.context.returned=t.response)}return{response:e.context.returned,headers:e.context.responseHeaders}}e.s(["g",()=>fU],22224);function fU(e,t){if(t.advanced?.ipAddress?.disableIpTracking)return null;if((0,cU.isTest)()||(0,cU.isDevelopment)())return"127.0.0.1";let r="headers"in e?e.headers:e;for(let e of t.advanced?.ipAddress?.ipAddressHeaders||["x-forwarded-for"]){let t="get"in r?r.get(e):r[e];if("string"==typeof t){var n;let e=t.split(",")[0].trim();if(n=e,cD.ipv4().safeParse(n).success||cD.ipv6().safeParse(n).success)return e}}return null}let fj=new Map;async function fB(e,t){if(!t.rateLimit.enabled)return;let r=new URL(e.url).pathname.replace(t.options.basePath||"/api/auth",""),n=t.rateLimit.window,i=t.rateLimit.max,s=fU(e,t.options);if(!s)return;let a=s+r,o=[{pathMatcher:e=>e.startsWith("/sign-in")||e.startsWith("/sign-up")||e.startsWith("/change-password")||e.startsWith("/change-email"),window:10,max:3}].find(e=>e.pathMatcher(r));for(let e of(o&&(n=o.window,i=o.max),t.options.plugins||[]))if(e.rateLimit){let t=e.rateLimit.find(e=>e.pathMatcher(r));if(t){n=t.window,i=t.max;break}}if(t.rateLimit.customRules){let s=Object.keys(t.rateLimit.customRules).find(e=>e.includes("*")?p5(e)(r):e===r);if(s){let r=t.rateLimit.customRules[s],a="function"==typeof r?await r(e):r;if(a&&(n=a.window,i=a.max),!1===a)return}}let u=function(e,t){if(e.options.rateLimit?.customStorage)return e.options.rateLimit.customStorage;let r=e.rateLimit.storage;if("secondary-storage"===r)return{get:async t=>{let r=await e.options.secondaryStorage?.get(t);return r?(0,cq.s)(r):void 0},set:async(r,n,i)=>{let s=t?.window??e.options.rateLimit?.window??10;await e.options.secondaryStorage?.set?.(r,JSON.stringify(n),s)}};if("memory"===r)return{get:async e=>fj.get(e),async set(e,t,r){fj.set(e,t)}};let n="rateLimit",i=e.adapter;return{get:async e=>{let t=(await i.findMany({model:n,where:[{field:"key",value:e}]}))[0];return"bigint"==typeof t?.lastRequest&&(t.lastRequest=Number(t.lastRequest)),t},set:async(t,r,s)=>{try{s?await i.updateMany({model:n,where:[{field:"key",value:t}],update:{count:r.count,lastRequest:r.lastRequest}}):await i.create({model:n,data:{key:t,count:r.count,lastRequest:r.lastRequest}})}catch(t){e.logger.error("Error setting rate limit",t)}}}}(t,{window:n}),l=await u.get(a),c=Date.now();if(l){var d,p,f,h;let e=c-l.lastRequest;if(d=i,p=n,f=l,Date.now()-f.lastRequest<1e3*p&&f.count>=d){return h=Math.ceil((l.lastRequest+1e3*n-Date.now())/1e3),new Response(JSON.stringify({message:"Too many requests. Please try again later."}),{status:429,statusText:"Too Many Requests",headers:{"X-Retry-After":h.toString()}})}e>1e3*n?await u.set(a,{...l,count:1,lastRequest:c},!0):await u.set(a,{...l,count:l.count+1,lastRequest:c},!0)}else await u.set(a,{key:a,count:1,lastRequest:c})}function fz(e,t){let r=new Map;e.plugins?.forEach(e=>{if(e.endpoints){for(let[t,n]of Object.entries(e.endpoints))if(n&&"path"in n){let i=n.path,s=[];n.options&&"method"in n.options&&(Array.isArray(n.options.method)?s=n.options.method:"string"==typeof n.options.method&&(s=[n.options.method])),0===s.length&&(s=["*"]),r.has(i)||r.set(i,[]),r.get(i).push({pluginId:e.id,endpointKey:t,methods:s})}}});let n=[];for(let[e,t]of r.entries())if(t.length>1){let r=new Map,i=!1;for(let e of t)for(let n of e.methods)r.has(n)||r.set(n,[]),r.get(n).push(e.pluginId),r.get(n).length>1&&(i=!0),"*"===n&&t.length>1?i=!0:"*"!==n&&r.has("*")&&(i=!0);if(i){let i=[...new Set(t.map(e=>e.pluginId))],s=[];for(let[e,n]of r.entries())(n.length>1||"*"===e&&t.length>1||"*"!==e&&r.has("*"))&&s.push(e);n.push({path:e,plugins:i,conflictingMethods:s})}}if(n.length>0){let e=n.map(e=>`  - "${e.path}" [${e.conflictingMethods.join(", ")}] used by plugins: ${e.plugins.join(", ")}`).join("\n");t.error(`Endpoint path conflicts detected! Multiple plugins are trying to use the same endpoint paths with conflicting HTTP methods:
${e}

To resolve this, you can:
	1. Use only one of the conflicting plugins
	2. Configure the plugins to use different paths (if supported)
	3. Ensure plugins use different HTTP methods for the same path
`)}}function fq(e,t){let r=t.plugins?.reduce((e,t)=>({...e,...t.endpoints}),{})??{},n=t.plugins?.map(t=>t.middlewares?.map(t=>{let r=async r=>{let n=await e;return t.middleware({...r,context:{...n,...r.context}})};return r.options=t.middleware.options,{path:t.path,middleware:r}})).filter(e=>void 0!==e).flat()||[];return{api:fL({...{signInSocial:fl,callbackOAuth:fp,getSession:df(),signOut:ff,signUpEmail:c2("/sign-up/email",{method:"POST",body:lA(o6(),lt()),metadata:{$Infer:{body:{}},openapi:{description:"Sign up a user using email and password",requestBody:{content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name of the user"},email:{type:"string",description:"The email of the user"},password:{type:"string",description:"The password of the user"},image:{type:"string",description:"The profile image URL of the user"},callbackURL:{type:"string",description:"The URL to use for email verification callback"},rememberMe:{type:"boolean",description:"If this is false, the session will not be remembered. Default is `true`."}},required:["name","email","password"]}}}},responses:{200:{description:"Successfully created user",content:{"application/json":{schema:{type:"object",properties:{token:{type:"string",nullable:!0,description:"Authentication token for the session"},user:{type:"object",properties:{id:{type:"string",description:"The unique identifier of the user"},email:{type:"string",format:"email",description:"The email address of the user"},name:{type:"string",description:"The name of the user"},image:{type:"string",format:"uri",nullable:!0,description:"The profile image URL of the user"},emailVerified:{type:"boolean",description:"Whether the email has been verified"},createdAt:{type:"string",format:"date-time",description:"When the user was created"},updatedAt:{type:"string",format:"date-time",description:"When the user was last updated"}},required:["id","email","name","emailVerified","createdAt","updatedAt"]}},required:["user"]}}}},422:{description:"Unprocessable Entity. User already exists or failed to create user.",content:{"application/json":{schema:{type:"object",properties:{message:{type:"string"}}}}}}}}}},async e=>{let t;if(!e.context.options.emailAndPassword?.enabled||e.context.options.emailAndPassword?.disableSignUp)throw new eC.APIError("BAD_REQUEST",{message:"Email and password sign up is not enabled"});let r=e.body,{name:n,email:i,password:s,image:a,callbackURL:o,rememberMe:u,...l}=r;if(!o5().safeParse(i).success)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.INVALID_EMAIL});let c=e.context.password.config.minPasswordLength;if(s.length<c)throw e.context.logger.error("Password is too short"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_SHORT});let d=e.context.password.config.maxPasswordLength;if(s.length>d)throw e.context.logger.error("Password is too long"),new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.PASSWORD_TOO_LONG});let p=await e.context.internalAdapter.findUserByEmail(i);if(p?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${i}`),new eC.APIError("UNPROCESSABLE_ENTITY",{message:cM.BASE_ERROR_CODES.USER_ALREADY_EXISTS_USE_ANOTHER_EMAIL});let f=await e.context.password.hash(s);try{let r=dN(e.context.options,l,"create");if(!(t=await e.context.internalAdapter.createUser({email:i.toLowerCase(),name:n,image:a,...r,emailVerified:!1},e)))throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.FAILED_TO_CREATE_USER})}catch(t){if((0,cU.isDevelopment)()&&e.context.logger.error("Failed to create user",t),t instanceof eC.APIError)throw t;throw e.context.logger?.error("Failed to create user",t),new eC.APIError("UNPROCESSABLE_ENTITY",{message:cM.BASE_ERROR_CODES.FAILED_TO_CREATE_USER,details:t})}if(!t)throw new eC.APIError("UNPROCESSABLE_ENTITY",{message:cM.BASE_ERROR_CODES.FAILED_TO_CREATE_USER});if(await e.context.internalAdapter.linkAccount({userId:t.id,providerId:"credential",accountId:t.id,password:f},e),e.context.options.emailVerification?.sendOnSignUp||e.context.options.emailAndPassword.requireEmailVerification){let n=await fe(e.context.secret,t.email,void 0,e.context.options.emailVerification?.expiresIn),i=`${e.context.baseURL}/verify-email?token=${n}&callbackURL=${r.callbackURL||"/"}`,s=e.request?[{user:t,url:i,token:n},e.request]:[{user:t,url:i,token:n}];await e.context.options.emailVerification?.sendVerificationEmail?.(...s)}if(!1===e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({token:null,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}});let h=await e.context.internalAdapter.createSession(t.id,e,!1===u);if(!h)throw new eC.APIError("BAD_REQUEST",{message:cM.BASE_ERROR_CODES.FAILED_TO_CREATE_SESSION});return await cJ(e,{session:h,user:t},!1===u),e.json({token:h.token,user:{id:t.id,email:t.email,name:t.name,image:t.image,emailVerified:t.emailVerified,createdAt:t.createdAt,updatedAt:t.updatedAt}})}),signInEmail:fc,forgetPassword:fg,resetPassword:fb,verifyEmail:fn,sendVerificationEmail:fr,changeEmail:fO,changePassword:fE,setPassword:fS,updateUser:fv(),deleteUser:fw,forgetPasswordCallback:f_,requestPasswordReset:fm,requestPasswordResetCallback:fy,listSessions:d_(),revokeSession:db,revokeSessions:dv,revokeOtherSessions:dE,linkSocialAccount:fC,listUserAccounts:fI,deleteUserCallback:fR,unlinkAccount:fN,refreshToken:fx,getAccessToken:fP,accountInfo:fD},...r,ok:fT,error:fA},e),middlewares:n}}let fK=(e,t)=>{let{api:r,middlewares:n}=fq(e,t),i=new URL(e.baseURL).pathname;return(0,eC.createRouter)(r,{routerContext:e,openapi:{disabled:!0},basePath:i,routerMiddleware:[{path:"/**",middleware:p9},...n],async onRequest(t){let r=e.options.disabledPaths||[],n=new URL(t.url).pathname.replace(i,"");if(r.includes(n))return new Response("Not Found",{status:404});for(let r of e.options.plugins||[])if(r.onRequest){let n=await r.onRequest(t,e);if(n&&"response"in n)return n.response;if(n&&"request"in n){let t=await fB(n.request,e);if(t)return t;return n.request}}return fB(t,e)},async onResponse(t){for(let r of e.options.plugins||[])if(r.onResponse){let n=await r.onResponse(t,e);if(n)return n.response}return t},onError(r){if(r instanceof eC.APIError&&"FOUND"===r.status)return;if(t.onAPIError?.throw)throw r;if(t.onAPIError?.onError)return void t.onAPIError.onError(r,e);let n=t.logger?.level,i="error"===n||"warn"===n||"debug"===n?cU.logger:void 0;if(t.logger?.disabled!==!0){if(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message&&(r.message.includes("no column")||r.message.includes("column")||r.message.includes("relation")||r.message.includes("table")||r.message.includes("does not exist")))return void e.logger?.error(r.message);r instanceof eC.APIError?("INTERNAL_SERVER_ERROR"===r.status&&e.logger.error(r.status,r),i?.error(r.message)):e.logger?.error(r&&"object"==typeof r&&"name"in r?r.name:"",r)}}})};e.s(["a",()=>g_,"c",()=>gy,"e",()=>gE],68985);var fF=e.i(23348);e.s(["c",()=>gh,"g",()=>gf,"k",()=>gm],39173);var fY=e.i(99980),fV=e.i(231),fG=e.i(70950);function fH(e,t){return fG.RawNode.createWithChildren([fG.RawNode.createWithSql(`${e} `),fV.IdentifierNode.create(t)])}var fZ=e.i(71723),fW=e.i(45792),fQ=e.i(45923);class fX{#_;#b=new f0;#v;#E;constructor(e){this.#_=(0,fW.freeze)({...e})}async init(){this.#v=(0,fW.isFunction)(this.#_.database)?await this.#_.database():this.#_.database,this.#E=new fJ(this.#v),this.#_.onCreateConnection&&await this.#_.onCreateConnection(this.#E)}async acquireConnection(){return await this.#b.lock(),this.#E}async beginTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(fH("savepoint",t),(0,fQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(fH("rollback to",t),(0,fQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(fH("release",t),(0,fQ.createQueryId)()))}async releaseConnection(){this.#b.unlock()}async destroy(){this.#v?.close()}}class fJ{#v;constructor(e){this.#v=e}executeQuery(e){let{sql:t,parameters:r}=e,n=this.#v.prepare(t);if(n.reader)return Promise.resolve({rows:n.all(r)});let{changes:i,lastInsertRowid:s}=n.run(r);return Promise.resolve({numAffectedRows:null!=i?BigInt(i):void 0,insertId:null!=s?BigInt(s):void 0,rows:[]})}async *streamQuery(e,t){let{sql:r,parameters:n,query:i}=e,s=this.#v.prepare(r);if(fY.SelectQueryNode.is(i))for(let e of s.iterate(n))yield{rows:[e]};else throw Error("Sqlite driver only supports streaming of select queries")}}class f0{#S;#w;async lock(){for(;this.#S;)await this.#S;this.#S=new Promise(e=>{this.#w=e})}unlock(){let e=this.#w;this.#S=void 0,this.#w=void 0,e?.()}}var f1=e.i(87448);let f4=/"/g;class f2 extends f1.DefaultQueryCompiler{visitOrAction(e){this.append("or "),this.append(e.action)}getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(f4,'""')}visitDefaultInsertValue(e){this.append("null")}}var f6=e.i(99210),f3=e.i(8089);class f8{#v;constructor(e){this.#v=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){return await this.#R(e)}async getMetadata(e){return{tables:await this.getTables(e)}}#O(e,t){let r=e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select(["name","sql","type"]).orderBy("name");return t.withInternalKyselyTables||(r=r.where("name","!=",f6.DEFAULT_MIGRATION_TABLE).where("name","!=",f6.DEFAULT_MIGRATION_LOCK_TABLE)),r}async #R(e){let t=await this.#O(this.#v,e).execute(),r=await this.#v.with("table_list",t=>this.#O(t,e)).selectFrom(["table_list as tl",f3.sql`pragma_table_info(tl.name)`.as("p")]).select(["tl.name as table","p.cid","p.name","p.type","p.notnull","p.dflt_value","p.pk"]).orderBy("tl.name").orderBy("p.cid").execute(),n={};for(let e of r)n[e.table]??=[],n[e.table].push(e);return t.map(({name:e,sql:t,type:r})=>{let i=t?.split(/[\(\),]/)?.find(e=>e.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=n[e]??[];if(!i){let e=s.filter(e=>e.pk>0);1===e.length&&"integer"===e[0].type.toLowerCase()&&(i=e[0].name)}return{name:e,isView:"view"===r,columns:s.map(e=>({name:e.name,dataType:e.type,isNullable:!e.notnull,isAutoIncrementing:e.name===i,hasDefaultValue:null!=e.dflt_value,comment:void 0}))}})}}class f5{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}class f9 extends f5{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,t){}async releaseMigrationLock(e,t){}}class f7{#_;constructor(e){this.#_=(0,fW.freeze)({...e})}createDriver(){return new fX(this.#_)}createQueryCompiler(){return new f2}createAdapter(){return new f9}createIntrospector(e){return new f8(e)}}function he(e,t){var r;if(r=e,(0,fW.isObject)(r)&&(0,fW.isString)(r.stack)&&t.stack){let r=t.stack.split("\n").slice(1).join("\n");e.stack+=`
${r}`}return e}let ht=Symbol();class hr{#_;#A=new WeakMap;#T;constructor(e){this.#_=(0,fW.freeze)({...e})}async init(){this.#T=(0,fW.isFunction)(this.#_.pool)?await this.#_.pool():this.#_.pool}async acquireConnection(){let e=await this.#I(),t=this.#A.get(e);return!t&&(t=new hn(e),this.#A.set(e,t),this.#_?.onCreateConnection&&await this.#_.onCreateConnection(t)),this.#_?.onReserveConnection&&await this.#_.onReserveConnection(t),t}async #I(){return new Promise((e,t)=>{this.#T.getConnection(async(r,n)=>{r?t(r):e(n)})})}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r=[];t.isolationLevel&&r.push(`isolation level ${t.isolationLevel}`),t.accessMode&&r.push(t.accessMode);let n=`set transaction ${r.join(", ")}`;await e.executeQuery(fZ.CompiledQuery.raw(n))}await e.executeQuery(fZ.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(fH("savepoint",t),(0,fQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(fH("rollback to",t),(0,fQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(fH("release savepoint",t),(0,fQ.createQueryId)()))}async releaseConnection(e){e[ht]()}async destroy(){return new Promise((e,t)=>{this.#T.end(r=>{r?t(r):e()})})}}class hn{#C;constructor(e){this.#C=e}async executeQuery(e){try{let t=await this.#N(e);if((0,fW.isObject)(t)&&"insertId"in t&&"affectedRows"in t){let{insertId:e,affectedRows:r,changedRows:n}=t;return{insertId:null!=e&&"0"!==e.toString()?BigInt(e):void 0,numAffectedRows:null!=r?BigInt(r):void 0,numChangedRows:null!=n?BigInt(n):void 0,rows:[]}}if(Array.isArray(t))return{rows:t};return{rows:[]}}catch(e){throw he(e,Error())}}#N(e){return new Promise((t,r)=>{this.#C.query(e.sql,e.parameters,(e,n)=>{e?r(e):t(n)})})}async *streamQuery(e,t){let r=this.#C.query(e.sql,e.parameters).stream({objectMode:!0});try{for await(let e of r)yield{rows:[e]}}catch(e){if(e&&"object"==typeof e&&"code"in e&&"ERR_STREAM_PREMATURE_CLOSE"===e.code)return;throw e}}[ht](){this.#C.release()}}var hi=f1;let hs=/`/g;class ha extends hi.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getExplainOptionAssignment(){return"="}getExplainOptionsDelimiter(){return" "}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return"`"}getRightIdentifierWrapper(){return"`"}sanitizeIdentifier(e){return e.replace(hs,"``")}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.using&&(this.append(" using "),this.visitNode(e.using)),e.table&&(this.append(" on "),this.visitNode(e.table)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.where&&(this.append(" "),this.visitNode(e.where))}}class ho{#v;constructor(e){this.#v=e}async getSchemas(){return(await this.#v.selectFrom("information_schema.schemata").select("schema_name").$castTo().execute()).map(e=>({name:e.SCHEMA_NAME}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#v.selectFrom("information_schema.columns as columns").innerJoin("information_schema.tables as tables",e=>e.onRef("columns.TABLE_CATALOG","=","tables.TABLE_CATALOG").onRef("columns.TABLE_SCHEMA","=","tables.TABLE_SCHEMA").onRef("columns.TABLE_NAME","=","tables.TABLE_NAME")).select(["columns.COLUMN_NAME","columns.COLUMN_DEFAULT","columns.TABLE_NAME","columns.TABLE_SCHEMA","tables.TABLE_TYPE","columns.IS_NULLABLE","columns.DATA_TYPE","columns.EXTRA","columns.COLUMN_COMMENT"]).where("columns.TABLE_SCHEMA","=",f3.sql`database()`).orderBy("columns.TABLE_NAME").orderBy("columns.ORDINAL_POSITION").$castTo();e.withInternalKyselyTables||(t=t.where("columns.TABLE_NAME","!=",f6.DEFAULT_MIGRATION_TABLE).where("columns.TABLE_NAME","!=",f6.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#P(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#P(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.TABLE_NAME);return r||(r=(0,fW.freeze)({name:t.TABLE_NAME,isView:"VIEW"===t.TABLE_TYPE,schema:t.TABLE_SCHEMA,columns:[]}),e.push(r)),r.columns.push((0,fW.freeze)({name:t.COLUMN_NAME,dataType:t.DATA_TYPE,isNullable:"YES"===t.IS_NULLABLE,isAutoIncrementing:t.EXTRA.toLowerCase().includes("auto_increment"),hasDefaultValue:null!==t.COLUMN_DEFAULT,comment:""===t.COLUMN_COMMENT?void 0:t.COLUMN_COMMENT})),e},[])}}let hu="ea586330-2c93-47c8-908d-981d9d270f9d";class hl extends f5{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}async acquireMigrationLock(e,t){await f3.sql`select get_lock(${f3.sql.lit(hu)}, ${f3.sql.lit(3600)})`.execute(e)}async releaseMigrationLock(e,t){await f3.sql`select release_lock(${f3.sql.lit(hu)})`.execute(e)}}class hc{#_;constructor(e){this.#_=e}createDriver(){return new hr(this.#_)}createQueryCompiler(){return new ha}createAdapter(){return new hl}createIntrospector(e){return new ho(e)}}let hd=Symbol();class hp{#_;#A=new WeakMap;#T;constructor(e){this.#_=(0,fW.freeze)({...e})}async init(){this.#T=(0,fW.isFunction)(this.#_.pool)?await this.#_.pool():this.#_.pool}async acquireConnection(){let e=await this.#T.connect(),t=this.#A.get(e);return!t&&(t=new hf(e,{cursor:this.#_.cursor??null}),this.#A.set(e,t),this.#_.onCreateConnection&&await this.#_.onCreateConnection(t)),this.#_.onReserveConnection&&await this.#_.onReserveConnection(t),t}async beginTransaction(e,t){if(t.isolationLevel||t.accessMode){let r="start transaction";t.isolationLevel&&(r+=` isolation level ${t.isolationLevel}`),t.accessMode&&(r+=` ${t.accessMode}`),await e.executeQuery(fZ.CompiledQuery.raw(r))}else await e.executeQuery(fZ.CompiledQuery.raw("begin"))}async commitTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("commit"))}async rollbackTransaction(e){await e.executeQuery(fZ.CompiledQuery.raw("rollback"))}async savepoint(e,t,r){await e.executeQuery(r(fH("savepoint",t),(0,fQ.createQueryId)()))}async rollbackToSavepoint(e,t,r){await e.executeQuery(r(fH("rollback to",t),(0,fQ.createQueryId)()))}async releaseSavepoint(e,t,r){await e.executeQuery(r(fH("release",t),(0,fQ.createQueryId)()))}async releaseConnection(e){e[hd]()}async destroy(){if(this.#T){let e=this.#T;this.#T=void 0,await e.end()}}}class hf{#x;#D;constructor(e,t){this.#x=e,this.#D=t}async executeQuery(e){try{let{command:t,rowCount:r,rows:n}=await this.#x.query(e.sql,[...e.parameters]);return{numAffectedRows:"INSERT"===t||"UPDATE"===t||"DELETE"===t||"MERGE"===t?BigInt(r):void 0,rows:n??[]}}catch(e){throw he(e,Error())}}async *streamQuery(e,t){if(!this.#D.cursor)throw Error("'cursor' is not present in your postgres dialect config. It's required to make streaming work in postgres.");if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=this.#x.query(new this.#D.cursor(e.sql,e.parameters.slice()));try{for(;;){let e=await r.read(t);if(0===e.length)break;yield{rows:e}}}finally{await r.close()}}[hd](){this.#x.release()}}class hh{#v;constructor(e){this.#v=e}async getSchemas(){return(await this.#v.selectFrom("pg_catalog.pg_namespace").select("nspname").$castTo().execute()).map(e=>({name:e.nspname}))}async getTables(e={withInternalKyselyTables:!1}){let t=this.#v.selectFrom("pg_catalog.pg_attribute as a").innerJoin("pg_catalog.pg_class as c","a.attrelid","c.oid").innerJoin("pg_catalog.pg_namespace as ns","c.relnamespace","ns.oid").innerJoin("pg_catalog.pg_type as typ","a.atttypid","typ.oid").innerJoin("pg_catalog.pg_namespace as dtns","typ.typnamespace","dtns.oid").select(["a.attname as column","a.attnotnull as not_null","a.atthasdef as has_default","c.relname as table","c.relkind as table_type","ns.nspname as schema","typ.typname as type","dtns.nspname as type_schema",f3.sql`col_description(a.attrelid, a.attnum)`.as("column_description"),f3.sql`pg_get_serial_sequence(quote_ident(ns.nspname) || '.' || quote_ident(c.relname), a.attname)`.as("auto_incrementing")]).where("c.relkind","in",["r","v","p"]).where("ns.nspname","!~","^pg_").where("ns.nspname","!=","information_schema").where("ns.nspname","!=","crdb_internal").where("a.attnum",">=",0).where("a.attisdropped","!=",!0).orderBy("ns.nspname").orderBy("c.relname").orderBy("a.attnum").$castTo();e.withInternalKyselyTables||(t=t.where("c.relname","!=",f6.DEFAULT_MIGRATION_TABLE).where("c.relname","!=",f6.DEFAULT_MIGRATION_LOCK_TABLE));let r=await t.execute();return this.#P(r)}async getMetadata(e){return{tables:await this.getTables(e)}}#P(e){return e.reduce((e,t)=>{let r=e.find(e=>e.name===t.table&&e.schema===t.schema);return r||(r=(0,fW.freeze)({name:t.table,isView:"v"===t.table_type,schema:t.schema,columns:[]}),e.push(r)),r.columns.push((0,fW.freeze)({name:t.column,dataType:t.type,dataTypeSchema:t.type_schema,isNullable:!t.not_null,isAutoIncrementing:null!==t.auto_incrementing,hasDefaultValue:t.has_default,comment:t.column_description??void 0})),e},[])}}var hm=f1;let hg=/"/g;class hy extends hm.DefaultQueryCompiler{sanitizeIdentifier(e){return e.replace(hg,'""')}}let h_=BigInt("3853314791062309107");class hb extends f5{get supportsTransactionalDdl(){return!0}get supportsReturning(){return!0}async acquireMigrationLock(e,t){await f3.sql`select pg_advisory_xact_lock(${f3.sql.lit(h_)})`.execute(e)}async releaseMigrationLock(e,t){}}class hv{#_;constructor(e){this.#_=e}createDriver(){return new hp(this.#_)}createQueryCompiler(){return new hy}createAdapter(){return new hb}createIntrospector(e){return new hh(e)}}class hE extends f5{get supportsCreateIfNotExists(){return!1}get supportsTransactionalDdl(){return!0}get supportsOutput(){return!0}async acquireMigrationLock(e){await f3.sql`exec sp_getapplock @DbPrincipal = ${f3.sql.lit("dbo")}, @Resource = ${f3.sql.lit(f6.DEFAULT_MIGRATION_TABLE)}, @LockMode = ${f3.sql.lit("Exclusive")}`.execute(e)}async releaseMigrationLock(){}}var hS=e.i(36090),hw=e.i(77040);let hR=Symbol(),hO=Symbol(),hA=Symbol();class hT{#_;#T;constructor(e){this.#_=(0,fW.freeze)({...e});let{tarn:t,tedious:r,validateConnections:n}=this.#_,{validateConnections:i,...s}=t.options;this.#T=new t.Pool({...s,create:async()=>{let e=await r.connectionFactory();return await new hI(e,r).connect()},destroy:async e=>{await e[hO]()},validate:!1===n||!1===i?void 0:e=>e[hA]()})}async init(){}async acquireConnection(){return await this.#T.acquire().promise}async beginTransaction(e,t){await e.beginTransaction(t)}async commitTransaction(e){await e.commitTransaction()}async rollbackTransaction(e){await e.rollbackTransaction()}async savepoint(e,t){await e.savepoint(t)}async rollbackToSavepoint(e,t){await e.rollbackTransaction(t)}async releaseConnection(e){(this.#_.resetConnectionsOnRelease||this.#_.tedious.resetConnectionOnRelease)&&await e[hR](),this.#T.release(e)}async destroy(){await this.#T.destroy()}}class hI{#E;#k;#L;constructor(e,t){this.#E=e,this.#k=!1,this.#L=t}async beginTransaction(e){let{isolationLevel:t}=e;await new Promise((e,r)=>this.#E.beginTransaction(t=>{t?r(t):e(void 0)},t?(0,hS.randomString)(8):void 0,t?this.#M(t):void 0))}async commitTransaction(){await new Promise((e,t)=>this.#E.commitTransaction(r=>{r?t(r):e(void 0)}))}async connect(){let{promise:e,reject:t,resolve:r}=new hw.Deferred;function n(){t(Error("The connection ended without ever completing the connection"))}return this.#E.connect(e=>{if(e)return t(e);r()}),this.#E.on("error",e=>{e instanceof Error&&"code"in e&&"ESOCKET"===e.code&&(this.#k=!0),console.error(e),t(e)}),this.#E.once("end",n),await e,this.#E.off("end",n),this}async executeQuery(e){try{let t=new hw.Deferred,r=new hC({compiledQuery:e,tedious:this.#L,onDone:t});this.#E.execSql(r.request);let{rowCount:n,rows:i}=await t.promise;return{numAffectedRows:void 0!==n?BigInt(n):void 0,rows:i}}catch(e){throw he(e,Error())}}async rollbackTransaction(e){await new Promise((t,r)=>this.#E.rollbackTransaction(e=>{e?r(e):t(void 0)},e))}async savepoint(e){await new Promise((t,r)=>this.#E.saveTransaction(e=>{e?r(e):t(void 0)},e))}async *streamQuery(e,t){if(!Number.isInteger(t)||t<=0)throw Error("chunkSize must be a positive integer");let r=new hC({compiledQuery:e,streamChunkSize:t,tedious:this.#L});this.#E.execSql(r.request);try{for(;;){let e=await r.readChunk();if(0===e.length||(yield{rows:e},e.length<t))break}}finally{await this.#$(r)}}#M(e){let{ISOLATION_LEVEL:t}=this.#L,r={"read committed":t.READ_COMMITTED,"read uncommitted":t.READ_UNCOMMITTED,"repeatable read":t.REPEATABLE_READ,serializable:t.SERIALIZABLE,snapshot:t.SNAPSHOT}[e];if(void 0===r)throw Error(`Unknown isolation level: ${e}`);return r}#$(e){return new Promise(t=>{e.request.once("requestCompleted",t),this.#E.cancel()||(e.request.off("requestCompleted",t),t())})}[hO](){return"closed"in this.#E&&this.#E.closed?Promise.resolve():new Promise(e=>{this.#E.once("end",e),this.#E.close()})}async [hR](){await new Promise((e,t)=>{this.#E.reset(r=>{if(r)return t(r);e()})})}async [hA](){if(this.#k||this.#U())return!1;try{let e=new hw.Deferred,t=new hC({compiledQuery:fZ.CompiledQuery.raw("select 1"),onDone:e,tedious:this.#L});return this.#E.execSql(t.request),await e.promise,!0}catch{return!1}}#U(){return"closed"in this.#E&&!!this.#E.closed}}class hC{#j;#B;#z;#q;#L;#K;constructor(e){let{compiledQuery:t,onDone:r,streamChunkSize:n,tedious:i}=e;if(this.#B=[],this.#z=n,this.#q={},this.#L=i,r){let e="onDone";this.#q[e]=(t,n)=>{if("chunkReady"!==t){if(delete this.#q[e],"error"===t)return r.reject(n);r.resolve({rowCount:this.#K,rows:this.#B})}}}this.#j=new this.#L.Request(t.sql,(e,t)=>{if(e)return Object.values(this.#q).forEach(t=>t("error",e instanceof AggregateError?e.errors:e));this.#K=t}),this.#F(t.parameters),this.#Y()}get request(){return this.#j}readChunk(){let e=this.readChunk.name;return new Promise((t,r)=>{this.#q[e]=(n,i)=>{if(delete this.#q[e],"error"===n)return r(i);t(this.#B.splice(0,this.#z))},this.#j.resume()})}#F(e){for(let t=0;t<e.length;t++){let r=e[t];this.#j.addParameter(String(t+1),this.#V(r),r)}}#Y(){let e=this.#z?()=>{this.#z<=this.#B.length&&(this.#j.pause(),Object.values(this.#q).forEach(e=>e("chunkReady")))}:()=>{},t=t=>{let r={};for(let e of t)r[e.metadata.colName]=e.value;this.#B.push(r),e()};this.#j.on("row",t),this.#j.once("requestCompleted",()=>{Object.values(this.#q).forEach(e=>e("completed")),this.#j.off("row",t)})}#V(e){if((0,fW.isNull)(e)||(0,fW.isUndefined)(e)||(0,fW.isString)(e))return this.#L.TYPES.NVarChar;if((0,fW.isBigInt)(e)||(0,fW.isNumber)(e)&&e%1==0)if(e<-0x80000000||e>0x7fffffff)return this.#L.TYPES.BigInt;else return this.#L.TYPES.Int;return(0,fW.isNumber)(e)?this.#L.TYPES.Float:(0,fW.isBoolean)(e)?this.#L.TYPES.Bit:(0,fW.isDate)(e)?this.#L.TYPES.DateTime:(0,fW.isBuffer)(e)?this.#L.TYPES.VarBinary:this.#L.TYPES.NVarChar}}class hN{#v;constructor(e){this.#v=e}async getSchemas(){return await this.#v.selectFrom("sys.schemas").select("name").execute()}async getTables(e={withInternalKyselyTables:!1}){let t=await this.#v.selectFrom("sys.tables as tables").leftJoin("sys.schemas as table_schemas","table_schemas.schema_id","tables.schema_id").innerJoin("sys.columns as columns","columns.object_id","tables.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","tables.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).$if(!e.withInternalKyselyTables,e=>e.where("tables.name","!=",f6.DEFAULT_MIGRATION_TABLE).where("tables.name","!=",f6.DEFAULT_MIGRATION_LOCK_TABLE)).select(["tables.name as table_name",e=>e.ref("tables.type").$castTo().as("table_type"),"table_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"]).unionAll(this.#v.selectFrom("sys.views as views").leftJoin("sys.schemas as view_schemas","view_schemas.schema_id","views.schema_id").innerJoin("sys.columns as columns","columns.object_id","views.object_id").innerJoin("sys.types as types","types.user_type_id","columns.user_type_id").leftJoin("sys.schemas as type_schemas","type_schemas.schema_id","types.schema_id").leftJoin("sys.extended_properties as comments",e=>e.onRef("comments.major_id","=","views.object_id").onRef("comments.minor_id","=","columns.column_id").on("comments.name","=","MS_Description")).select(["views.name as table_name","views.type as table_type","view_schemas.name as table_schema_name","columns.default_object_id as column_default_object_id","columns.generated_always_type_desc as column_generated_always_type","columns.is_computed as column_is_computed","columns.is_identity as column_is_identity","columns.is_nullable as column_is_nullable","columns.is_rowguidcol as column_is_rowguidcol","columns.name as column_name","types.is_nullable as type_is_nullable","types.name as type_name","type_schemas.name as type_schema_name","comments.value as column_comment"])).orderBy("table_schema_name").orderBy("table_name").orderBy("column_name").execute(),r={};for(let e of t){let t=`${e.table_schema_name}.${e.table_name}`;(r[t]=r[t]||(0,fW.freeze)({columns:[],isView:"V "===e.table_type,name:e.table_name,schema:e.table_schema_name??void 0})).columns.push((0,fW.freeze)({dataType:e.type_name,dataTypeSchema:e.type_schema_name??void 0,hasDefaultValue:e.column_default_object_id>0||"NOT_APPLICABLE"!==e.column_generated_always_type||e.column_is_identity||e.column_is_computed||e.column_is_rowguidcol,isAutoIncrementing:e.column_is_identity,isNullable:e.column_is_nullable&&e.type_is_nullable,name:e.column_name,comment:e.column_comment??void 0}))}return Object.values(r)}async getMetadata(e){return{tables:await this.getTables(e)}}}var hP=f1;let hx=/^[a-z0-9_]$/i;class hD extends hP.DefaultQueryCompiler{getCurrentParameterPlaceholder(){return`@${this.numParameters}`}visitOffset(e){super.visitOffset(e),this.append(" rows")}compileColumnAlterations(e){let t={};for(let r of e)t[r.kind]||(t[r.kind]=[]),t[r.kind].push(r);let r=!0;t.AddColumnNode&&(this.append("add "),this.compileList(t.AddColumnNode),r=!1),t.AlterColumnNode&&(r||this.append(", "),this.compileList(t.AlterColumnNode)),t.DropColumnNode&&(r||this.append(", "),this.append("drop column "),this.compileList(t.DropColumnNode)),t.ModifyColumnNode&&(r||this.append(", "),this.compileList(t.ModifyColumnNode)),t.RenameColumnNode&&(r||this.append(", "),this.compileList(t.RenameColumnNode))}visitAddColumn(e){this.visitNode(e.column)}visitDropColumn(e){this.visitNode(e.column)}visitMergeQuery(e){super.visitMergeQuery(e),this.append(";")}visitCollate(e){this.append("collate ");let{name:t}=e.collation;for(let e of t)if(!hx.test(e))throw Error(`Invalid collation: ${t}`);this.append(t)}announcesNewColumnDataType(){return!1}}class hk{#_;constructor(e){this.#_=e}createDriver(){return new hT(this.#_)}createQueryCompiler(){return new hD}createAdapter(){return new hE}createIntrospector(e){return new hN(e)}}let hL=(0,fW.freeze)({is:e=>"AlterTableNode"===e.kind,create:e=>(0,fW.freeze)({kind:"AlterTableNode",table:e}),cloneWithTableProps:(e,t)=>(0,fW.freeze)({...e,...t}),cloneWithColumnAlteration:(e,t)=>(0,fW.freeze)({...e,columnAlterations:e.columnAlterations?[...e.columnAlterations,t]:[t]})}),hM=(0,fW.freeze)({is:e=>"CreateIndexNode"===e.kind,create:e=>(0,fW.freeze)({kind:"CreateIndexNode",name:fV.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,fW.freeze)({...e,columns:[...e.columns||[],...t]})}),h$=(0,fW.freeze)({is:e=>"CreateSchemaNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"CreateSchemaNode",schema:fV.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});var hU=e.i(63038),hj=e.i(87623);let hB=(0,fW.freeze)({is:e=>"DropIndexNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"DropIndexNode",name:hj.SchemableIdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),hz=(0,fW.freeze)({is:e=>"DropSchemaNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"DropSchemaNode",schema:fV.IdentifierNode.create(e),...t}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),hq=(0,fW.freeze)({is:e=>"DropTableNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"DropTableNode",table:e,...t}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});var hK=e.i(52394);let hF=(0,fW.freeze)({is:e=>"AddColumnNode"===e.kind,create:e=>(0,fW.freeze)({kind:"AddColumnNode",column:e})});var hY=e.i(83818);let hV=(0,fW.freeze)({is:e=>"ColumnDefinitionNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"ColumnDefinitionNode",column:hY.ColumnNode.create(e),dataType:t}),cloneWithFrontModifier:(e,t)=>(0,fW.freeze)({...e,frontModifiers:e.frontModifiers?(0,fW.freeze)([...e.frontModifiers,t]):[t]}),cloneWithEndModifier:(e,t)=>(0,fW.freeze)({...e,endModifiers:e.endModifiers?(0,fW.freeze)([...e.endModifiers,t]):[t]}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),hG=(0,fW.freeze)({is:e=>"DropColumnNode"===e.kind,create:e=>(0,fW.freeze)({kind:"DropColumnNode",column:hY.ColumnNode.create(e)})}),hH=(0,fW.freeze)({is:e=>"RenameColumnNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"RenameColumnNode",column:hY.ColumnNode.create(e),renameTo:hY.ColumnNode.create(t)})}),hZ=(0,fW.freeze)({is:e=>"CheckConstraintNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"CheckConstraintNode",expression:e,name:t?fV.IdentifierNode.create(t):void 0})}),hW=["no action","restrict","cascade","set null","set default"],hQ=(0,fW.freeze)({is:e=>"ReferencesNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"ReferencesNode",table:e,columns:(0,fW.freeze)([...t])}),cloneWithOnDelete:(e,t)=>(0,fW.freeze)({...e,onDelete:t}),cloneWithOnUpdate:(e,t)=>(0,fW.freeze)({...e,onUpdate:t})});var hX=e.i(5574),hJ=e.i(97179),h0=e.i(63899),h1=e.i(28887);function h4(e){return(0,h0.isOperationNodeSource)(e)?e.toOperationNode():h1.ValueNode.createImmediate(e)}let h2=(0,fW.freeze)({is:e=>"GeneratedNode"===e.kind,create:e=>(0,fW.freeze)({kind:"GeneratedNode",...e}),createWithExpression:e=>(0,fW.freeze)({kind:"GeneratedNode",always:!0,expression:e}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),h6=(0,fW.freeze)({is:e=>"DefaultValueNode"===e.kind,create:e=>(0,fW.freeze)({kind:"DefaultValueNode",defaultValue:e})});function h3(e){if(hW.includes(e))return e;throw Error(`invalid OnModifyForeignAction ${e}`)}class h8{#G;constructor(e){this.#G=e}autoIncrement(){return new h8(hV.cloneWith(this.#G,{autoIncrement:!0}))}identity(){return new h8(hV.cloneWith(this.#G,{identity:!0}))}primaryKey(){return new h8(hV.cloneWith(this.#G,{primaryKey:!0}))}references(e){let t=(0,hJ.parseStringReference)(e);if(!t.table||hX.SelectAllNode.is(t.column))throw Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new h8(hV.cloneWith(this.#G,{references:hQ.create(t.table,[t.column])}))}onDelete(e){if(!this.#G.references)throw Error("on delete constraint can only be added for foreign keys");return new h8(hV.cloneWith(this.#G,{references:hQ.cloneWithOnDelete(this.#G.references,h3(e))}))}onUpdate(e){if(!this.#G.references)throw Error("on update constraint can only be added for foreign keys");return new h8(hV.cloneWith(this.#G,{references:hQ.cloneWithOnUpdate(this.#G.references,h3(e))}))}unique(){return new h8(hV.cloneWith(this.#G,{unique:!0}))}notNull(){return new h8(hV.cloneWith(this.#G,{notNull:!0}))}unsigned(){return new h8(hV.cloneWith(this.#G,{unsigned:!0}))}defaultTo(e){return new h8(hV.cloneWith(this.#G,{defaultTo:h6.create(h4(e))}))}check(e){return new h8(hV.cloneWith(this.#G,{check:hZ.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new h8(hV.cloneWith(this.#G,{generated:h2.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new h8(hV.cloneWith(this.#G,{generated:h2.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new h8(hV.cloneWith(this.#G,{generated:h2.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#G.generated)throw Error("stored() can only be called after generatedAlwaysAs");return new h8(hV.cloneWith(this.#G,{generated:h2.cloneWith(this.#G.generated,{stored:!0})}))}modifyFront(e){return new h8(hV.cloneWithFrontModifier(this.#G,e.toOperationNode()))}nullsNotDistinct(){return new h8(hV.cloneWith(this.#G,{nullsNotDistinct:!0}))}ifNotExists(){return new h8(hV.cloneWith(this.#G,{ifNotExists:!0}))}modifyEnd(e){return new h8(hV.cloneWithEndModifier(this.#G,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#G}}let h5=(0,fW.freeze)({is:e=>"ModifyColumnNode"===e.kind,create:e=>(0,fW.freeze)({kind:"ModifyColumnNode",column:e})});var h9=e.i(30163);let h7=(0,fW.freeze)({is:e=>"ForeignKeyConstraintNode"===e.kind,create:(e,t,r,n)=>(0,fW.freeze)({kind:"ForeignKeyConstraintNode",columns:e,references:hQ.create(t,r),name:n?fV.IdentifierNode.create(n):void 0}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});class me{#G;constructor(e){this.#G=e}onDelete(e){return new me(h7.cloneWith(this.#G,{onDelete:h3(e)}))}onUpdate(e){return new me(h7.cloneWith(this.#G,{onUpdate:h3(e)}))}deferrable(){return new me(h7.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new me(h7.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new me(h7.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new me(h7.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}let mt=(0,fW.freeze)({is:e=>"AddConstraintNode"===e.kind,create:e=>(0,fW.freeze)({kind:"AddConstraintNode",constraint:e})}),mr=(0,fW.freeze)({is:e=>"UniqueConstraintNode"===e.kind,create:(e,t,r)=>(0,fW.freeze)({kind:"UniqueConstraintNode",columns:(0,fW.freeze)(e.map(hY.ColumnNode.create)),name:t?fV.IdentifierNode.create(t):void 0,nullsNotDistinct:r}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),mn=(0,fW.freeze)({is:e=>"DropConstraintNode"===e.kind,create:e=>(0,fW.freeze)({kind:"DropConstraintNode",constraintName:fV.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),mi=(0,fW.freeze)({is:e=>"AlterColumnNode"===e.kind,create:(e,t,r)=>(0,fW.freeze)({kind:"AlterColumnNode",column:hY.ColumnNode.create(e),[t]:r})});class ms{#H;constructor(e){this.#H=e}setDataType(e){return new ma(mi.create(this.#H,"dataType",(0,h9.parseDataTypeExpression)(e)))}setDefault(e){return new ma(mi.create(this.#H,"setDefault",h4(e)))}dropDefault(){return new ma(mi.create(this.#H,"dropDefault",!0))}setNotNull(){return new ma(mi.create(this.#H,"setNotNull",!0))}dropNotNull(){return new ma(mi.create(this.#H,"dropNotNull",!0))}$call(e){return e(this)}}class ma{#Z;constructor(e){this.#Z=e}toOperationNode(){return this.#Z}}class mo{#W;constructor(e){this.#W=(0,fW.freeze)(e)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mu{#W;constructor(e){this.#W=(0,fW.freeze)(e)}onDelete(e){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.onDelete(e)})}onUpdate(e){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.onUpdate(e)})}deferrable(){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.deferrable()})}notDeferrable(){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.notDeferrable()})}initiallyDeferred(){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.initiallyDeferred()})}initiallyImmediate(){return new mu({...this.#W,constraintBuilder:this.#W.constraintBuilder.initiallyImmediate()})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(hL.cloneWithTableProps(this.#W.node,{addConstraint:mt.create(this.#W.constraintBuilder.toOperationNode())}),this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class ml{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifExists(){return new ml({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{dropConstraint:mn.cloneWith(this.#W.node.dropConstraint,{ifExists:!0})})})}cascade(){return new ml({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{dropConstraint:mn.cloneWith(this.#W.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new ml({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{dropConstraint:mn.cloneWith(this.#W.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}let mc=(0,fW.freeze)({is:e=>"PrimaryKeyConstraintNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"PrimaryKeyConstraintNode",columns:(0,fW.freeze)(e.map(hY.ColumnNode.create)),name:t?fV.IdentifierNode.create(t):void 0}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})}),md=(0,fW.freeze)({is:e=>"AddIndexNode"===e.kind,create:e=>(0,fW.freeze)({kind:"AddIndexNode",name:fV.IdentifierNode.create(e)}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t}),cloneWithColumns:(e,t)=>(0,fW.freeze)({...e,columns:[...e.columns||[],...t]})});class mp{#W;constructor(e){this.#W=(0,fW.freeze)(e)}unique(){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.cloneWith(this.#W.node.addIndex,{unique:!0})})})}column(e){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.cloneWithColumns(this.#W.node.addIndex,[(0,hJ.parseOrderedColumnName)(e)])})})}columns(e){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.cloneWithColumns(this.#W.node.addIndex,e.map(hJ.parseOrderedColumnName))})})}expression(e){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.cloneWithColumns(this.#W.node.addIndex,[e.toOperationNode()])})})}using(e){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.cloneWith(this.#W.node.addIndex,{using:fG.RawNode.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mf{#G;constructor(e){this.#G=e}nullsNotDistinct(){return new mf(mr.cloneWith(this.#G,{nullsNotDistinct:!0}))}deferrable(){return new mf(mr.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new mf(mr.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new mf(mr.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new mf(mr.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class mh{#G;constructor(e){this.#G=e}deferrable(){return new mh(mc.cloneWith(this.#G,{deferrable:!0}))}notDeferrable(){return new mh(mc.cloneWith(this.#G,{deferrable:!1}))}initiallyDeferred(){return new mh(mc.cloneWith(this.#G,{initiallyDeferred:!0}))}initiallyImmediate(){return new mh(mc.cloneWith(this.#G,{initiallyDeferred:!1}))}$call(e){return e(this)}toOperationNode(){return this.#G}}class mm{#G;constructor(e){this.#G=e}$call(e){return e(this)}toOperationNode(){return this.#G}}let mg=(0,fW.freeze)({is:e=>"RenameConstraintNode"===e.kind,create:(e,t)=>(0,fW.freeze)({kind:"RenameConstraintNode",oldName:fV.IdentifierNode.create(e),newName:fV.IdentifierNode.create(t)})});class my{#W;constructor(e){this.#W=(0,fW.freeze)(e)}renameTo(e){return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{renameTo:(0,hK.parseTable)(e)})})}setSchema(e){return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{setSchema:fV.IdentifierNode.create(e)})})}alterColumn(e,t){let r=t(new ms(e));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,r.toOperationNode())})}dropColumn(e){return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hG.create(e))})}renameColumn(e,t){return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hH.create(e,t))})}addColumn(e,t,r=fW.noop){let n=r(new h8(hV.create(e,(0,h9.parseDataTypeExpression)(t))));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hF.create(n.toOperationNode()))})}modifyColumn(e,t,r=fW.noop){let n=r(new h8(hV.create(e,(0,h9.parseDataTypeExpression)(t))));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,h5.create(n.toOperationNode()))})}addUniqueConstraint(e,t,r=fW.noop){let n=r(new mf(mr.create(t,e)));return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addConstraint:mt.create(n.toOperationNode())})})}addCheckConstraint(e,t,r=fW.noop){let n=r(new mm(hZ.create(t.toOperationNode(),e)));return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addConstraint:mt.create(n.toOperationNode())})})}addForeignKeyConstraint(e,t,r,n,i=fW.noop){let s=i(new me(h7.create(t.map(hY.ColumnNode.create),(0,hK.parseTable)(r),n.map(hY.ColumnNode.create),e)));return new mu({...this.#W,constraintBuilder:s})}addPrimaryKeyConstraint(e,t,r=fW.noop){let n=r(new mh(mc.create(t,e)));return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addConstraint:mt.create(n.toOperationNode())})})}dropConstraint(e){return new ml({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{dropConstraint:mn.create(e)})})}renameConstraint(e,t){return new ml({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{renameConstraint:mg.create(e,t)})})}addIndex(e){return new mp({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{addIndex:md.create(e)})})}dropIndex(e){return new mo({...this.#W,node:hL.cloneWithTableProps(this.#W.node,{dropIndex:hB.create(e)})})}$call(e){return e(this)}}class m_{#W;constructor(e){this.#W=(0,fW.freeze)(e)}alterColumn(e,t){let r=t(new ms(e));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,r.toOperationNode())})}dropColumn(e){return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hG.create(e))})}renameColumn(e,t){return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hH.create(e,t))})}addColumn(e,t,r=fW.noop){let n=r(new h8(hV.create(e,(0,h9.parseDataTypeExpression)(t))));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,hF.create(n.toOperationNode()))})}modifyColumn(e,t,r=fW.noop){let n=r(new h8(hV.create(e,(0,h9.parseDataTypeExpression)(t))));return new m_({...this.#W,node:hL.cloneWithColumnAlteration(this.#W.node,h5.create(n.toOperationNode()))})}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}var mb=e.i(47222),mv=e.i(43396),mE=e.i(49115),mS=e.i(37769);class mw extends mE.OperationNodeTransformer{transformPrimitiveValueList(e){return mS.ValueListNode.create(e.values.map(h1.ValueNode.createImmediate))}transformValue(e){return h1.ValueNode.createImmediate(e.value)}}class mR{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifNotExists(){return new mR({...this.#W,node:hM.cloneWith(this.#W.node,{ifNotExists:!0})})}unique(){return new mR({...this.#W,node:hM.cloneWith(this.#W.node,{unique:!0})})}nullsNotDistinct(){return new mR({...this.#W,node:hM.cloneWith(this.#W.node,{nullsNotDistinct:!0})})}on(e){return new mR({...this.#W,node:hM.cloneWith(this.#W.node,{table:(0,hK.parseTable)(e)})})}column(e){return new mR({...this.#W,node:hM.cloneWithColumns(this.#W.node,[(0,hJ.parseOrderedColumnName)(e)])})}columns(e){return new mR({...this.#W,node:hM.cloneWithColumns(this.#W.node,e.map(hJ.parseOrderedColumnName))})}expression(e){return new mR({...this.#W,node:hM.cloneWithColumns(this.#W.node,[e.toOperationNode()])})}using(e){return new mR({...this.#W,node:hM.cloneWith(this.#W.node,{using:fG.RawNode.createWithSql(e)})})}where(...e){let t=new mw;return new mR({...this.#W,node:mv.QueryNode.cloneWithWhere(this.#W.node,t.transformNode((0,mb.parseValueBinaryOperationOrExpression)(e),this.#W.queryId))})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mO{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifNotExists(){return new mO({...this.#W,node:h$.cloneWith(this.#W.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}var mA=e.i(37809);class mT{#W;constructor(e){this.#W=(0,fW.freeze)(e)}temporary(){return new mT({...this.#W,node:hU.CreateTableNode.cloneWith(this.#W.node,{temporary:!0})})}onCommit(e){return new mT({...this.#W,node:hU.CreateTableNode.cloneWith(this.#W.node,{onCommit:function(e){if(hU.ON_COMMIT_ACTIONS.includes(e))return e;throw Error(`invalid OnCommitAction ${e}`)}(e)})})}ifNotExists(){return new mT({...this.#W,node:hU.CreateTableNode.cloneWith(this.#W.node,{ifNotExists:!0})})}addColumn(e,t,r=fW.noop){let n=r(new h8(hV.create(e,(0,h9.parseDataTypeExpression)(t))));return new mT({...this.#W,node:hU.CreateTableNode.cloneWithColumn(this.#W.node,n.toOperationNode())})}addPrimaryKeyConstraint(e,t,r=fW.noop){let n=r(new mh(mc.create(t,e)));return new mT({...this.#W,node:hU.CreateTableNode.cloneWithConstraint(this.#W.node,n.toOperationNode())})}addUniqueConstraint(e,t,r=fW.noop){let n=r(new mf(mr.create(t,e)));return new mT({...this.#W,node:hU.CreateTableNode.cloneWithConstraint(this.#W.node,n.toOperationNode())})}addCheckConstraint(e,t,r=fW.noop){let n=r(new mm(hZ.create(t.toOperationNode(),e)));return new mT({...this.#W,node:hU.CreateTableNode.cloneWithConstraint(this.#W.node,n.toOperationNode())})}addForeignKeyConstraint(e,t,r,n,i=fW.noop){let s=i(new me(h7.create(t.map(hY.ColumnNode.create),(0,hK.parseTable)(r),n.map(hY.ColumnNode.create),e)));return new mT({...this.#W,node:hU.CreateTableNode.cloneWithConstraint(this.#W.node,s.toOperationNode())})}modifyFront(e){return new mT({...this.#W,node:hU.CreateTableNode.cloneWithFrontModifier(this.#W.node,e.toOperationNode())})}modifyEnd(e){return new mT({...this.#W,node:hU.CreateTableNode.cloneWithEndModifier(this.#W.node,e.toOperationNode())})}as(e){return new mT({...this.#W,node:hU.CreateTableNode.cloneWith(this.#W.node,{selectQuery:(0,mA.parseExpression)(e)})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mI{#W;constructor(e){this.#W=(0,fW.freeze)(e)}on(e){return new mI({...this.#W,node:hB.cloneWith(this.#W.node,{table:(0,hK.parseTable)(e)})})}ifExists(){return new mI({...this.#W,node:hB.cloneWith(this.#W.node,{ifExists:!0})})}cascade(){return new mI({...this.#W,node:hB.cloneWith(this.#W.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mC{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifExists(){return new mC({...this.#W,node:hz.cloneWith(this.#W.node,{ifExists:!0})})}cascade(){return new mC({...this.#W,node:hz.cloneWith(this.#W.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mN{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifExists(){return new mN({...this.#W,node:hq.cloneWith(this.#W.node,{ifExists:!0})})}cascade(){return new mN({...this.#W,node:hq.cloneWith(this.#W.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}var mP=e.i(42071),mx=e.i(89994);class mD{#Q=new mw;transformQuery(e){return this.#Q.transformNode(e.node,e.queryId)}transformResult(e){return Promise.resolve(e.result)}}class mk{#W;constructor(e){this.#W=(0,fW.freeze)(e)}temporary(){return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{temporary:!0})})}materialized(){return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{materialized:!0})})}ifNotExists(){return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{ifNotExists:!0})})}orReplace(){return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{orReplace:!0})})}columns(e){return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{columns:e.map(hJ.parseColumnName)})})}as(e){let t=e.withPlugin(new mD).toOperationNode();return new mk({...this.#W,node:mx.CreateViewNode.cloneWith(this.#W.node,{as:t})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}let mL=(0,fW.freeze)({is:e=>"DropViewNode"===e.kind,create:e=>(0,fW.freeze)({kind:"DropViewNode",name:hj.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});class mM{#W;constructor(e){this.#W=(0,fW.freeze)(e)}materialized(){return new mM({...this.#W,node:mL.cloneWith(this.#W.node,{materialized:!0})})}ifExists(){return new mM({...this.#W,node:mL.cloneWith(this.#W.node,{ifExists:!0})})}cascade(){return new mM({...this.#W,node:mL.cloneWith(this.#W.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}let m$=(0,fW.freeze)({is:e=>"CreateTypeNode"===e.kind,create:e=>(0,fW.freeze)({kind:"CreateTypeNode",name:e}),cloneWithEnum:(e,t)=>(0,fW.freeze)({...e,enum:mS.ValueListNode.create(t.map(h1.ValueNode.createImmediate))})});class mU{#W;constructor(e){this.#W=(0,fW.freeze)(e)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}asEnum(e){return new mU({...this.#W,node:m$.cloneWithEnum(this.#W.node,e)})}$call(e){return e(this)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}let mj=(0,fW.freeze)({is:e=>"DropTypeNode"===e.kind,create:e=>(0,fW.freeze)({kind:"DropTypeNode",name:e}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});class mB{#W;constructor(e){this.#W=(0,fW.freeze)(e)}ifExists(){return new mB({...this.#W,node:mj.cloneWith(this.#W.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}function mz(e){if(!e.includes("."))return hj.SchemableIdentifierNode.create(e);{let t=e.split(".").map(mq);if(2===t.length)return hj.SchemableIdentifierNode.createWithSchema(t[0],t[1]);throw Error(`invalid schemable identifier ${e}`)}}function mq(e){return e.trim()}let mK=(0,fW.freeze)({is:e=>"RefreshMaterializedViewNode"===e.kind,create:e=>(0,fW.freeze)({kind:"RefreshMaterializedViewNode",name:hj.SchemableIdentifierNode.create(e)}),cloneWith:(e,t)=>(0,fW.freeze)({...e,...t})});class mF{#W;constructor(e){this.#W=(0,fW.freeze)(e)}concurrently(){return new mF({...this.#W,node:mK.cloneWith(this.#W.node,{concurrently:!0,withNoData:!1})})}withData(){return new mF({...this.#W,node:mK.cloneWith(this.#W.node,{withNoData:!1})})}withNoData(){return new mF({...this.#W,node:mK.cloneWith(this.#W.node,{withNoData:!0,concurrently:!1})})}$call(e){return e(this)}toOperationNode(){return this.#W.executor.transformQuery(this.#W.node,this.#W.queryId)}compile(){return this.#W.executor.compileQuery(this.toOperationNode(),this.#W.queryId)}async execute(){await this.#W.executor.executeQuery(this.compile())}}class mY{#X;constructor(e){this.#X=e}createTable(e){return new mT({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hU.CreateTableNode.create((0,hK.parseTable)(e))})}dropTable(e){return new mN({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hq.create((0,hK.parseTable)(e))})}createIndex(e){return new mR({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hM.create(e)})}dropIndex(e){return new mI({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hB.create(e)})}createSchema(e){return new mO({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:h$.create(e)})}dropSchema(e){return new mC({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hz.create(e)})}alterTable(e){return new my({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:hL.create((0,hK.parseTable)(e))})}createView(e){return new mk({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:mx.CreateViewNode.create(e)})}refreshMaterializedView(e){return new mF({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:mK.create(e)})}dropView(e){return new mM({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:mL.create(e)})}createType(e){return new mU({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:m$.create(mz(e))})}dropType(e){return new mB({queryId:(0,fQ.createQueryId)(),executor:this.#X,node:mj.create(mz(e))})}withPlugin(e){return new mY(this.#X.withPlugin(e))}withoutPlugins(){return new mY(this.#X.withoutPlugins())}withSchema(e){return new mY(this.#X.withPluginAtFront(new mP.WithSchemaPlugin(e)))}}var mV=e.i(52121),mG=e.i(78586);class mH{ref(e){return new mV.DynamicReferenceBuilder(e)}table(e){return new mG.DynamicTableBuilder(e)}}class mZ{#J;constructor(e){this.#J=e}async provideConnection(e){let t=await this.#J.acquireConnection();try{return await e(t)}finally{await this.#J.releaseConnection(t)}}}var mW=e.i(96879),mQ=e.i(29374);class mX extends mQ.QueryExecutorBase{#ee;#et;#er;constructor(e,t,r,n=[]){super(n),this.#ee=e,this.#et=t,this.#er=r}get adapter(){return this.#et}compileQuery(e,t){return this.#ee.compileQuery(e,t)}provideConnection(e){return this.#er.provideConnection(e)}withPlugins(e){return new mX(this.#ee,this.#et,this.#er,[...this.plugins,...e])}withPlugin(e){return new mX(this.#ee,this.#et,this.#er,[...this.plugins,e])}withPluginAtFront(e){return new mX(this.#ee,this.#et,this.#er,[e,...this.plugins])}withConnectionProvider(e){return new mX(this.#ee,this.#et,e,[...this.plugins])}withoutPlugins(){return new mX(this.#ee,this.#et,this.#er,[])}}function mJ(){return"undefined"!=typeof performance&&(0,fW.isFunction)(performance.now)?performance.now():Date.now()}class m0{#J;#en;#ei;#es;#ea;#A=new WeakSet;constructor(e,t){this.#es=!1,this.#J=e,this.#en=t}async init(){if(this.#ea)throw Error("driver has already been destroyed");this.#ei||(this.#ei=this.#J.init().then(()=>{this.#es=!0}).catch(e=>(this.#ei=void 0,Promise.reject(e)))),await this.#ei}async acquireConnection(){if(this.#ea)throw Error("driver has already been destroyed");this.#es||await this.init();let e=await this.#J.acquireConnection();return this.#A.has(e)||(this.#eo()&&this.#eu(e),this.#A.add(e)),e}async releaseConnection(e){await this.#J.releaseConnection(e)}beginTransaction(e,t){return this.#J.beginTransaction(e,t)}commitTransaction(e){return this.#J.commitTransaction(e)}rollbackTransaction(e){return this.#J.rollbackTransaction(e)}savepoint(e,t,r){if(this.#J.savepoint)return this.#J.savepoint(e,t,r);throw Error("The `savepoint` method is not supported by this driver")}rollbackToSavepoint(e,t,r){if(this.#J.rollbackToSavepoint)return this.#J.rollbackToSavepoint(e,t,r);throw Error("The `rollbackToSavepoint` method is not supported by this driver")}releaseSavepoint(e,t,r){if(this.#J.releaseSavepoint)return this.#J.releaseSavepoint(e,t,r);throw Error("The `releaseSavepoint` method is not supported by this driver")}async destroy(){this.#ei&&(await this.#ei,this.#ea||(this.#ea=this.#J.destroy().catch(e=>(this.#ea=void 0,Promise.reject(e)))),await this.#ea)}#eo(){return this.#en.isLevelEnabled("query")||this.#en.isLevelEnabled("error")}#eu(e){let t=e.executeQuery,r=e.streamQuery,n=this;e.executeQuery=async r=>{let i,s=mJ();try{return await t.call(e,r)}catch(e){throw i=e,await n.#el(e,r,s),e}finally{i||await n.#ec(r,s)}},e.streamQuery=async function*(t,i){let s,a=mJ();try{for await(let n of r.call(e,t,i))yield n}catch(e){throw s=e,await n.#el(e,t,a),e}finally{s||await n.#ec(t,a,!0)}}}async #el(e,t,r){await this.#en.error(()=>({level:"error",error:e,query:t,queryDurationMillis:this.#ed(r)}))}async #ec(e,t,r=!1){await this.#en.query(()=>({level:"query",isStream:r,query:e,queryDurationMillis:this.#ed(t)}))}#ed(e){return mJ()-e}}let m1=()=>{};class m4{#E;#ep;constructor(e){this.#E=e}async provideConnection(e){for(;this.#ep;)await this.#ep.catch(m1);return this.#ep=this.#ef(e).finally(()=>{this.#ep=void 0}),this.#ep}async #ef(e){return await e(this.#E)}}let m2=["read only","read write"],m6=["read uncommitted","read committed","repeatable read","serializable","snapshot"];function m3(e){if(e.accessMode&&!m2.includes(e.accessMode))throw Error(`invalid transaction access mode ${e.accessMode}`);if(e.isolationLevel&&!m6.includes(e.isolationLevel))throw Error(`invalid transaction isolation level ${e.isolationLevel}`)}var m8=e.i(36168);(0,fW.freeze)(["query","error"]);class m5{#eh;#em;constructor(e){(0,fW.isFunction)(e)?(this.#em=e,this.#eh=(0,fW.freeze)({query:!0,error:!0})):(this.#em=m9,this.#eh=(0,fW.freeze)({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#eh[e]}async query(e){this.#eh.query&&await this.#em(e())}async error(e){this.#eh.error&&await this.#em(e())}}function m9(e){if("query"===e.level){let t=`kysely:query:${e.isStream?"stream:":""}`;console.log(`${t} ${e.query.sql}`),console.log(`${t} duration: ${e.queryDurationMillis.toFixed(1)}ms`)}else"error"===e.level&&(e.error instanceof Error?console.error(`kysely:error: ${e.error.stack??e.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:e.error,query:e.query.sql,queryDurationMillis:e.queryDurationMillis})}`))}var m7=e.i(70051),ge=e.i(74615),gt=e.i(11833),gr=e.i(94102);Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");class gn extends mW.QueryCreator{#W;constructor(e){let t,r;if(function(e){return(0,fW.isObject)(e)&&(0,fW.isObject)(e.config)&&(0,fW.isObject)(e.driver)&&(0,fW.isObject)(e.executor)&&(0,fW.isObject)(e.dialect)}(e))t={executor:e.executor},r={...e};else{let n=e.dialect,i=n.createDriver(),s=n.createQueryCompiler(),a=n.createAdapter(),o=new m0(i,new m5(e.log??[])),u=new mX(s,a,new mZ(o),e.plugins??[]);t={executor:u},r={config:e,executor:u,dialect:n,driver:o}}super(t),this.#W=(0,fW.freeze)(r)}get schema(){return new mY(this.#W.executor)}get dynamic(){return new mH}get introspection(){return this.#W.dialect.createIntrospector(this.withoutPlugins())}case(e){return new m7.CaseBuilder({node:ge.CaseNode.create((0,fW.isUndefined)(e)?void 0:(0,mA.parseExpression)(e))})}get fn(){return(0,m8.createFunctionModule)()}transaction(){return new ga({...this.#W})}startTransaction(){return new go({...this.#W})}connection(){return new gs({...this.#W})}withPlugin(e){return new gn({...this.#W,executor:this.#W.executor.withPlugin(e)})}withoutPlugins(){return new gn({...this.#W,executor:this.#W.executor.withoutPlugins()})}withSchema(e){return new gn({...this.#W,executor:this.#W.executor.withPluginAtFront(new mP.WithSchemaPlugin(e))})}withTables(){return new gn({...this.#W})}async destroy(){await this.#W.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#W.executor}executeQuery(e,t){void 0!==t&&(0,gr.logOnce)("Passing `queryId` in `db.executeQuery` is deprecated and will result in a compile-time error in the future.");let r=(0,fW.isObject)(e)&&(0,fW.isFunction)(e.compile)?e.compile():e;return this.getExecutor().executeQuery(r)}async [Symbol.asyncDispose](){await this.destroy()}}class gi extends gn{#W;constructor(e){super(e),this.#W=e}get isTransaction(){return!0}transaction(){throw Error("calling the transaction method for a Transaction is not supported")}connection(){throw Error("calling the connection method for a Transaction is not supported")}async destroy(){throw Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new gi({...this.#W,executor:this.#W.executor.withPlugin(e)})}withoutPlugins(){return new gi({...this.#W,executor:this.#W.executor.withoutPlugins()})}withSchema(e){return new gi({...this.#W,executor:this.#W.executor.withPluginAtFront(new mP.WithSchemaPlugin(e))})}withTables(){return new gi({...this.#W})}}class gs{#W;constructor(e){this.#W=(0,fW.freeze)(e)}async execute(e){return this.#W.executor.provideConnection(async t=>{let r=this.#W.executor.withConnectionProvider(new m4(t)),n=new gn({...this.#W,executor:r});return await e(n)})}}class ga{#W;constructor(e){this.#W=(0,fW.freeze)(e)}setAccessMode(e){return new ga({...this.#W,accessMode:e})}setIsolationLevel(e){return new ga({...this.#W,isolationLevel:e})}async execute(e){let{isolationLevel:t,accessMode:r,...n}=this.#W,i={isolationLevel:t,accessMode:r};return m3(i),this.#W.executor.provideConnection(async t=>{let r=this.#W.executor.withConnectionProvider(new m4(t)),s=new gi({...n,executor:r}),a=!1;try{await this.#W.driver.beginTransaction(t,i),a=!0;let r=await e(s);return await this.#W.driver.commitTransaction(t),r}catch(e){throw a&&await this.#W.driver.rollbackTransaction(t),e}})}}class go{#W;constructor(e){this.#W=(0,fW.freeze)(e)}setAccessMode(e){return new go({...this.#W,accessMode:e})}setIsolationLevel(e){return new go({...this.#W,isolationLevel:e})}async execute(){let{isolationLevel:e,accessMode:t,...r}=this.#W,n={isolationLevel:e,accessMode:t};m3(n);let i=await (0,gt.provideControlledConnection)(this.#W.executor);return await this.#W.driver.beginTransaction(i.connection,n),new gu({...r,connection:i,executor:this.#W.executor.withConnectionProvider(new m4(i.connection))})}}class gu extends gi{#W;#eg;#ey;constructor(e){let t={isCommitted:!1,isRolledBack:!1},{connection:r,...n}=e={...e,executor:new gd(e.executor,t)};super(n),this.#W=(0,fW.freeze)(e),this.#ey=t;let i=(0,fQ.createQueryId)();this.#eg=t=>e.executor.compileQuery(t,i)}get isCommitted(){return this.#ey.isCommitted}get isRolledBack(){return this.#ey.isRolledBack}commit(){return gc(this.#ey),new gl(async()=>{await this.#W.driver.commitTransaction(this.#W.connection.connection),this.#ey.isCommitted=!0,this.#W.connection.release()})}rollback(){return gc(this.#ey),new gl(async()=>{await this.#W.driver.rollbackTransaction(this.#W.connection.connection),this.#ey.isRolledBack=!0,this.#W.connection.release()})}savepoint(e){return gc(this.#ey),new gl(async()=>(await this.#W.driver.savepoint?.(this.#W.connection.connection,e,this.#eg),new gu({...this.#W})))}rollbackToSavepoint(e){return gc(this.#ey),new gl(async()=>(await this.#W.driver.rollbackToSavepoint?.(this.#W.connection.connection,e,this.#eg),new gu({...this.#W})))}releaseSavepoint(e){return gc(this.#ey),new gl(async()=>(await this.#W.driver.releaseSavepoint?.(this.#W.connection.connection,e,this.#eg),new gu({...this.#W})))}withPlugin(e){return new gu({...this.#W,executor:this.#W.executor.withPlugin(e)})}withoutPlugins(){return new gu({...this.#W,executor:this.#W.executor.withoutPlugins()})}withSchema(e){return new gu({...this.#W,executor:this.#W.executor.withPluginAtFront(new mP.WithSchemaPlugin(e))})}withTables(){return new gu({...this.#W})}}class gl{#e_;constructor(e){this.#e_=e}async execute(){return await this.#e_()}}function gc(e){if(e.isCommitted)throw Error("Transaction is already committed");if(e.isRolledBack)throw Error("Transaction is already rolled back")}class gd{#X;#ey;constructor(e,t){e instanceof gd?this.#X=e.#X:this.#X=e,this.#ey=t}get adapter(){return this.#X.adapter}get plugins(){return this.#X.plugins}transformQuery(e,t){return this.#X.transformQuery(e,t)}compileQuery(e,t){return this.#X.compileQuery(e,t)}provideConnection(e){return this.#X.provideConnection(e)}executeQuery(e){return gc(this.#ey),this.#X.executeQuery(e)}stream(e,t){return gc(this.#ey),this.#X.stream(e,t)}withConnectionProvider(e){return new gd(this.#X.withConnectionProvider(e),this.#ey)}withPlugin(e){return new gd(this.#X.withPlugin(e),this.#ey)}withPlugins(e){return new gd(this.#X.withPlugins(e),this.#ey)}withPluginAtFront(e){return new gd(this.#X.withPluginAtFront(e),this.#ey)}withoutPlugins(){return new gd(this.#X.withoutPlugins(),this.#ey)}}var gp=e.i(36964);function gf(e){if(!e)return null;if("dialect"in e)return gf(e.dialect);if("createDriver"in e){if(e instanceof f7)return"sqlite";if(e instanceof hc)return"mysql";if(e instanceof hv)return"postgres";if(e instanceof hk)return"mssql"}return"aggregate"in e?"sqlite":"getConnection"in e?"mysql":"connect"in e?"postgres":"fileControl"in e||"open"in e&&"close"in e&&"prepare"in e?"sqlite":null}let gh=async t=>{let r,n=t.database;if(!n)return{kysely:null,databaseType:null,transaction:void 0};if("db"in n)return{kysely:n.db,databaseType:n.type,transaction:n.transaction};if("dialect"in n)return{kysely:new gn({dialect:n.dialect}),databaseType:n.type,transaction:n.transaction};let i=gf(n);if("createDriver"in n&&(r=n),"aggregate"in n&&!("createSession"in n)&&(r=new f7({database:n})),"getConnection"in n&&(r=new hc(n)),"connect"in n&&(r=new hv({pool:n})),"fileControl"in n){let{BunSqliteDialect:t}=await e.A(16296);r=new t({database:n})}if("createSession"in n){let t;try{({DatabaseSync:t}=await import("node:sqlite"))}catch(e){if(null!==e&&"object"==typeof e&&"code"in e&&"ERR_UNKNOWN_BUILTIN_MODULE"!==e.code)throw e}if(t&&n instanceof t){let{NodeSqliteDialect:t}=await e.A(36752);r=new t({database:n})}}return{kysely:r?new gn({dialect:r}):null,databaseType:i,transaction:void 0}},gm=(e,t)=>{let r=null,n=e=>({getFieldName:r,schema:n,getDefaultModelName:i})=>{let s=async(n,i,s,a)=>{if(t?.type==="mysql"){await i.execute();let t=n.id?"id":a.length>0&&a[0]?.field?a[0].field:"id";if(!n.id&&0===a.length)return await e.selectFrom(s).selectAll().orderBy(r({model:s,field:t}),"desc").limit(1).executeTakeFirst();let o=n[t]||a[0]?.value;return await e.selectFrom(s).selectAll().orderBy(r({model:s,field:t}),"desc").where(r({model:s,field:t}),"=",o).limit(1).executeTakeFirst()}return t?.type==="mssql"?await i.outputAll("inserted").executeTakeFirst():await i.returningAll().executeTakeFirst()};function a(e){function r(e){for(let n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let i=e[n];i instanceof Date&&t?.type==="mysql"||"object"==typeof i&&null!==i&&r(i)}}if(Array.isArray(e))for(let t=0;t<e.length;t++){let n=e[t];"object"==typeof n&&null!==n&&r(n)}else"object"==typeof e&&null!==e&&r(e);return e}function o(e,i){if(!i)return{and:null,or:null};let s=[],a=[];return i.forEach(i=>{let{field:o,value:u,operator:l="=",connector:c="AND"}=i,d=r({model:e,field:o});u=function(e,r,i){if("id"===i)return e;let{type:s="sqlite"}=t||{},a=n[r]?.fields[i];return(a||(a=Object.values(n).find(e=>e.modelName===r)),"boolean"===a.type&&("sqlite"===s||"mssql"===s)&&null!=e)?+!!e:"date"===a.type&&e&&e instanceof Date&&"sqlite"===s?e.toISOString():e}(u,e,o);let p=e=>"in"===l.toLowerCase()?e(d,"in",Array.isArray(u)?u:[u]):"not_in"===l.toLowerCase()?e(d,"not in",Array.isArray(u)?u:[u]):"contains"===l?e(d,"like",`%${u}%`):"starts_with"===l?e(d,"like",`${u}%`):"ends_with"===l?e(d,"like",`%${u}`):e(d,"eq"===l?"=":"ne"===l?"<>":"gt"===l?">":"gte"===l?">=":"lt"===l?"<":"lte"===l?"<=":l,u);"OR"===c?a.push(p):s.push(p)}),{and:s.length?s:null,or:a.length?a:null}}return{async create({data:t,model:r}){let n=e.insertInto(r).values(t);return a(await s(t,n,r,[]))},async findOne({model:t,where:r,select:n}){let{and:i,or:s}=o(t,r),u=e.selectFrom(t).selectAll();i&&(u=u.where(e=>e.and(i.map(t=>t(e))))),s&&(u=u.where(e=>e.or(s.map(t=>t(e)))));let l=await u.executeTakeFirst();return l?a(l):null},async findMany({model:n,where:i,limit:s,offset:u,sortBy:l}){let{and:c,or:d}=o(n,i),p=e.selectFrom(n);c&&(p=p.where(e=>e.and(c.map(t=>t(e))))),d&&(p=p.where(e=>e.or(d.map(t=>t(e))))),t?.type==="mssql"?u||(p=p.top(s||100)):p=p.limit(s||100),l&&(p=p.orderBy(r({model:n,field:l.field}),l.direction)),u&&(t?.type==="mssql"?(l||(p=p.orderBy(r({model:n,field:"id"}))),p=p.offset(u).fetch(s||100)):p=p.offset(u));let f=await p.selectAll().execute();return f?a(f):[]},async update({model:t,where:r,update:n}){let{and:i,or:u}=o(t,r),l=e.updateTable(t).set(n);return i&&(l=l.where(e=>e.and(i.map(t=>t(e))))),u&&(l=l.where(e=>e.or(u.map(t=>t(e))))),a(await s(n,l,t,r))},async updateMany({model:t,where:r,update:n}){let{and:i,or:s}=o(t,r),a=e.updateTable(t).set(n);return i&&(a=a.where(e=>e.and(i.map(t=>t(e))))),s&&(a=a.where(e=>e.or(s.map(t=>t(e))))),(await a.execute()).length},async count({model:t,where:r}){let{and:n,or:i}=o(t,r),s=e.selectFrom(t).select(e.fn.count("id").as("count"));n&&(s=s.where(e=>e.and(n.map(t=>t(e))))),i&&(s=s.where(e=>e.or(i.map(t=>t(e)))));let a=await s.execute();return"number"==typeof a[0].count?a[0].count:"bigint"==typeof a[0].count?Number(a[0].count):parseInt(a[0].count)},async delete({model:t,where:r}){let{and:n,or:i}=o(t,r),s=e.deleteFrom(t);n&&(s=s.where(e=>e.and(n.map(t=>t(e))))),i&&(s=s.where(e=>e.or(i.map(t=>t(e))))),await s.execute()},async deleteMany({model:t,where:r}){let{and:n,or:i}=o(t,r),s=e.deleteFrom(t);return n&&(s=s.where(e=>e.and(n.map(t=>t(e))))),i&&(s=s.where(e=>e.or(i.map(t=>t(e))))),(await s.execute()).length},options:t}},i=null;i={config:{adapterId:"kysely",adapterName:"Kysely Adapter",usePlural:t?.usePlural,debugLogs:t?.debugLogs,supportsBooleans:t?.type!=="sqlite"&&t?.type!=="mssql"&&t?.type!=="mysql"&&!!t?.type,supportsDates:t?.type!=="sqlite"&&t?.type!=="mssql"&&!!t?.type,supportsJSON:!1,transaction:!!t?.transaction&&(t=>e.transaction().execute(e=>t((0,gp.c)({config:i.config,adapter:n(e)})(r))))},adapter:n(e)};let s=(0,gp.c)(i);return e=>(r=e,s(e))};e.s(["m",()=>gg],23985);let gg=(e,t)=>{let r=null,n=(0,gp.c)({config:{adapterId:"memory",adapterName:"Memory Adapter",usePlural:!1,debugLogs:t?.debugLogs||!1,customTransformInput:t=>t.options.advanced?.database?.useNumberId&&"id"===t.field&&"create"===t.action?e[t.model].length+1:t.data,transaction:async t=>{let i=structuredClone(e);try{return await t(n(r))}catch(t){throw Object.keys(e).forEach(t=>{e[t]=i[t]}),t}}},adapter:({getFieldName:t,options:r,debugLog:n})=>{function i(t,r){let n=e[r];if(!n)throw cU.logger.error(`[MemoryAdapter] Model ${r} not found in the DB`,Object.keys(e)),Error(`Model ${r} not found`);let i=(e,t)=>{let{field:r,value:n,operator:i}=t;switch(i){case"in":if(!Array.isArray(n))throw Error("Value must be an array");return n.includes(e[r]);case"not_in":if(!Array.isArray(n))throw Error("Value must be an array");return!n.includes(e[r]);case"contains":return e[r].includes(n);case"starts_with":return e[r].startsWith(n);case"ends_with":return e[r].endsWith(n);case"ne":return e[r]!==n;case"gt":return null!=n&&e[r]>n;case"gte":return null!=n&&e[r]>=n;case"lt":return null!=n&&e[r]<n;case"lte":return null!=n&&e[r]<=n;default:return e[r]===n}};return n.filter(e=>{if(!t.length||0===t.length)return!0;let r=i(e,t[0]);for(let n of t){let t=i(e,n);r="OR"===n.connector?r||t:r&&t}return r})}return{create:async({model:t,data:n})=>(r.advanced?.database?.useNumberId&&(n.id=e[t].length+1),e[t]||(e[t]=[]),e[t].push(n),n),findOne:async({model:e,where:t})=>i(t,e)[0]||null,findMany:async({model:r,where:n,sortBy:s,limit:a,offset:o})=>{let u=e[r];return n&&(u=i(n,r)),s&&(u=u.sort((e,n)=>{let i=t({model:r,field:s.field}),a=e[i],o=n[i],u=0;return u=null==a&&null==o?0:null==a?-1:null==o?1:"string"==typeof a&&"string"==typeof o?a.localeCompare(o):a instanceof Date&&o instanceof Date?a.getTime()-o.getTime():"number"==typeof a&&"number"==typeof o?a-o:"boolean"==typeof a&&"boolean"==typeof o?a===o?0:a?1:-1:String(a).localeCompare(String(o)),"asc"===s.direction?u:-u})),void 0!==o&&(u=u.slice(o)),void 0!==a&&(u=u.slice(0,a)),u||[]},count:async({model:t,where:r})=>r?i(r,t).length:e[t].length,update:async({model:e,where:t,update:r})=>{let n=i(t,e);return n.forEach(e=>{Object.assign(e,r)}),n[0]||null},delete:async({model:t,where:r})=>{let n=e[t],s=i(r,t);e[t]=n.filter(e=>!s.includes(e))},deleteMany:async({model:t,where:r})=>{let n=e[t],s=i(r,t),a=0;return e[t]=n.filter(e=>s.includes(e)?(a++,!1):!s.includes(e)),a},updateMany({model:e,where:t,update:r}){let n=i(t,e);return n.forEach(e=>{Object.assign(e,r)}),n[0]||null}}}});return e=>(r=e,n(e))},gy=(e,t)=>{let r=t.logger,n=t.options,i=n.secondaryStorage,s=n.session?.expiresIn||604800,{createWithHooks:a,updateWithHooks:o,updateManyWithHooks:u}=function(e,t){let r=t.hooks;return{createWithHooks:async function(t,n,i,s,a){let o=t;for(let e of r||[]){let t=e[n]?.create?.before;if(t){let e=await t(o,s);if(!1===e)return null;"object"==typeof e&&"data"in e&&(o={...o,...e.data})}}let u=i?await i.fn(o):null,l=!i||i.executeMainFn?await (a||e).create({model:n,data:o,forceAllowId:!0}):u;for(let e of r||[]){let t=e[n]?.create?.after;t&&await t(l,s)}return l},updateWithHooks:async function(t,n,i,s,a,o){let u=t;for(let e of r||[]){let r=e[i]?.update?.before;if(r){let e=await r(t,a);if(!1===e)return null;u="object"==typeof e?e.data:e}}let l=s?await s.fn(u):null,c=!s||s.executeMainFn?await (o||e).update({model:i,update:u,where:n}):l;for(let e of r||[]){let t=e[i]?.update?.after;t&&await t(c,a)}return c},updateManyWithHooks:async function(t,n,i,s,a,o){let u=t;for(let e of r||[]){let r=e[i]?.update?.before;if(r){let e=await r(t,a);if(!1===e)return null;u="object"==typeof e?e.data:e}}let l=s?await s.fn(u):null,c=!s||s.executeMainFn?await (o||e).updateMany({model:i,update:u,where:n}):l;for(let e of r||[]){let t=e[i]?.update?.after;t&&await t(c,a)}return c}}}(e,t);async function l(e){if(!i)return;let t=await i.get(`active-sessions-${e.id}`);if(!t)return;let r=Date.now(),n=((0,cq.s)(t)||[]).filter(e=>e.expiresAt>r);await Promise.all(n.map(async({token:t})=>{let n=await i.get(t);if(!n)return;let s=(0,cq.s)(n);if(!s)return;let a=Math.max(Math.floor(new Date(s.session.expiresAt).getTime()-r)/1e3,0);await i.set(t,JSON.stringify({session:s.session,user:e}),Math.floor(a))}))}return{createOAuthUser:async(t,r,n)=>e.transaction(async e=>{let i=await a({createdAt:new Date,updatedAt:new Date,...t},"user",void 0,n,e),s=await a({...r,userId:i.id,createdAt:new Date,updatedAt:new Date},"account",void 0,n,e);return{user:i,account:s}}),createUser:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e,email:e.email?.toLowerCase()},"user",void 0,t,r),createAccount:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),listSessions:async(r,n)=>{if(i){let e=await i.get(`active-sessions-${r}`);if(!e)return[];let n=(0,cq.s)(e)||[],s=Date.now(),a=n.filter(e=>e.expiresAt>s),o=[];for(let e of a){let r=await i.get(e.token);if(r){let e=(0,cq.s)(r);if(!e)return[];let n=dC(t.options,{...e.session,expiresAt:new Date(e.session.expiresAt)});o.push(n)}}return o}return await (n||e).findMany({model:"session",where:[{field:"userId",value:r}]})},listUsers:async(t,r,n,i,s)=>await (s||e).findMany({model:"user",limit:t,offset:r,sortBy:n,where:i}),countTotalUsers:async(t,r)=>{let n=await (r||e).count({model:"user",where:t});return"string"==typeof n?parseInt(n):n},deleteUser:async(t,r)=>{i&&await i.delete(`active-sessions-${t}`),(!i||n.session?.storeSessionInDatabase)&&await (r||e).deleteMany({model:"session",where:[{field:"userId",value:t}]}),await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]}),await (r||e).delete({model:"user",where:[{field:"id",value:t}]})},createSession:async(t,r,o,u,l,c)=>{let d=r.headers||r.request?.headers,{id:p,...f}=u||{},h={ipAddress:(r.request||r.headers)&&fU(r.request||r.headers,r.context.options)||"",userAgent:d?.get("user-agent")||"",...f,expiresAt:o?c$(86400,"sec"):c$(s,"sec"),userId:t,token:(0,dS.g)(32),createdAt:new Date,updatedAt:new Date,...l?f:{}};return await a(h,"session",i?{fn:async r=>{let n=await i.get(`active-sessions-${t}`),s=[],a=Date.now();n&&(s=(s=(0,cq.s)(n)||[]).filter(e=>e.expiresAt>a));let o=s.sort((e,t)=>e.expiresAt-t.expiresAt),u=o.at(-1)?.expiresAt;o.push({token:h.token,expiresAt:h.expiresAt.getTime()}),(!u||u<h.expiresAt.getTime())&&(u=h.expiresAt.getTime());let l=Math.max(Math.floor((u-a)/1e3),0);l>0&&await i.set(`active-sessions-${t}`,JSON.stringify(o),l);let c=await e.findOne({model:"user",where:[{field:"id",value:t}]}),d=Math.max(Math.floor((h.expiresAt.getTime()-a)/1e3),0);return d>0&&await i.set(h.token,JSON.stringify({session:r,user:c}),d),r},executeMainFn:n.session?.storeSessionInDatabase}:void 0,r,c)},findSession:async(r,s)=>{if(i){let e=await i.get(r);if(!e&&!n.session?.storeSessionInDatabase)return null;if(e){let r=(0,cq.s)(e);return r?{session:dC(t.options,{...r.session,expiresAt:new Date(r.session.expiresAt),createdAt:new Date(r.session.createdAt),updatedAt:new Date(r.session.updatedAt)}),user:dI(t.options,{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)})}:null}}let a=await (s||e).findOne({model:"session",where:[{value:r,field:"token"}]});if(!a)return null;let o=await (s||e).findOne({model:"user",where:[{value:a.userId,field:"id"}]});return o?{session:dC(t.options,a),user:dI(t.options,o)}:null},findSessions:async(t,r)=>{if(i){let e=[];for(let r of t){let t=await i.get(r);if(t){let r=(0,cq.s)(t);if(!r)return[];let n={session:{...r.session,expiresAt:new Date(r.session.expiresAt)},user:{...r.user,createdAt:new Date(r.user.createdAt),updatedAt:new Date(r.user.updatedAt)}};e.push(n)}}return e}let n=await (r||e).findMany({model:"session",where:[{field:"token",value:t,operator:"in"}]}),s=n.map(e=>e.userId);if(!s.length)return[];let a=await (r||e).findMany({model:"user",where:[{field:"id",value:s,operator:"in"}]});return n.map(e=>{let t=a.find(t=>t.id===e.userId);return t?{session:e,user:t}:null})},updateSession:async(e,t,r,s)=>await o(t,[{field:"token",value:e}],"session",i?{async fn(t){let r=await i.get(e);if(!r)return null;{let e=(0,cq.s)(r);return e?{...e.session,...t}:null}},executeMainFn:n.session?.storeSessionInDatabase}:void 0,r,s),deleteSession:async(s,a)=>{if(i){let e=await i.get(s);if(e){let{session:t}=(0,cq.s)(e)??{};if(!t)return void r.error("Session not found in secondary storage");let n=t.userId,a=await i.get(`active-sessions-${n}`);if(a){let e=(0,cq.s)(a)||[],t=Date.now(),r=e.filter(e=>e.expiresAt>t&&e.token!==s),o=r.sort((e,t)=>e.expiresAt-t.expiresAt),u=o.at(-1)?.expiresAt;r.length>0&&u&&u>Date.now()?await i.set(`active-sessions-${n}`,JSON.stringify(r),Math.floor((u-t)/1e3)):await i.delete(`active-sessions-${n}`)}else r.error("Active sessions list not found in secondary storage")}if(await i.delete(s),!n.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (a||e).delete({model:"session",where:[{field:"token",value:s}]})},deleteAccounts:async(t,r)=>{await (r||e).deleteMany({model:"account",where:[{field:"userId",value:t}]})},deleteAccount:async(t,r)=>{await (r||e).delete({model:"account",where:[{field:"id",value:t}]})},deleteSessions:async(r,s)=>{if(i){if("string"==typeof r){let e=await i.get(`active-sessions-${r}`),t=e?(0,cq.s)(e):[];if(!t)return;for(let e of t)await i.delete(e.token)}else for(let e of r)await i.get(e)&&await i.delete(e);if(!n.session?.storeSessionInDatabase||t.options.session?.preserveSessionInDatabase)return}await (s||e).deleteMany({model:"session",where:[{field:Array.isArray(r)?"token":"userId",value:r,operator:Array.isArray(r)?"in":void 0}]})},findOAuthUser:async(t,r,n,i)=>{let s=await (i||e).findMany({model:"account",where:[{value:r,field:"accountId"}]}).then(e=>e.find(e=>e.providerId===n));if(s){let r=await (i||e).findOne({model:"user",where:[{value:s.userId,field:"id"}]});if(r)return{user:r,accounts:[s]};{let r=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});return r?{user:r,accounts:[s]}:null}}{let r=await (i||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!r)return null;{let t=await (i||e).findMany({model:"account",where:[{value:r.id,field:"userId"}]});return{user:r,accounts:t||[]}}}},findUserByEmail:async(t,r,n)=>{let i=await (n||e).findOne({model:"user",where:[{value:t.toLowerCase(),field:"email"}]});if(!i)return null;if(r?.includeAccounts){let t=await (n||e).findMany({model:"account",where:[{value:i.id,field:"userId"}]});return{user:i,accounts:t}}return{user:i,accounts:[]}},findUserById:async(t,r)=>await (r||e).findOne({model:"user",where:[{field:"id",value:t}]}),linkAccount:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"account",void 0,t,r),updateUser:async(e,t,r,n)=>{let i=await o(t,[{field:"id",value:e}],"user",void 0,r,n);return await l(i),await l(i),i},updateUserByEmail:async(e,t,r,n)=>{let i=await o(t,[{field:"email",value:e.toLowerCase()}],"user",void 0,r,n);return await l(i),await l(i),i},updatePassword:async(e,t,r,n)=>{await u({password:t},[{field:"userId",value:e},{field:"providerId",value:"credential"}],"account",void 0,r,n)},findAccounts:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),findAccount:async(t,r)=>await (r||e).findOne({model:"account",where:[{field:"accountId",value:t}]}),findAccountByProviderId:async(t,r,n)=>await (n||e).findOne({model:"account",where:[{field:"accountId",value:t},{field:"providerId",value:r}]}),findAccountByUserId:async(t,r)=>await (r||e).findMany({model:"account",where:[{field:"userId",value:t}]}),updateAccount:async(e,t,r,n)=>await o(t,[{field:"id",value:e}],"account",void 0,r,n),createVerificationValue:async(e,t,r)=>await a({createdAt:new Date,updatedAt:new Date,...e},"verification",void 0,t,r),findVerificationValue:async(t,r)=>{let i=await (r||e).findMany({model:"verification",where:[{field:"identifier",value:t}],sortBy:{field:"createdAt",direction:"desc"},limit:1});return n.verification?.disableCleanup||await (r||e).deleteMany({model:"verification",where:[{field:"expiresAt",value:new Date,operator:"lt"}]}),i[0]},deleteVerificationValue:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"id",value:t}]})},deleteVerificationByIdentifier:async(t,r)=>{await (r||e).delete({model:"verification",where:[{field:"identifier",value:t}]})},updateVerificationValue:async(e,t,r,n)=>await o(t,[{field:"id",value:e}],"verification",void 0,r,n)}};async function g_(e){if(!e.database){let t=Object.keys((0,fF.g)(e)).reduce((e,t)=>(e[t]=[],e),{});return cU.logger.warn("No database configuration provided. Using memory adapter in development"),gg(t)(e)}if("function"==typeof e.database)return e.database(e);let{kysely:t,databaseType:r,transaction:n}=await gh(e);if(!t)throw new cM.BetterAuthError("Failed to initialize database adapter");return gm(t,{type:r||"sqlite",debugLogs:"debugLogs"in e.database&&e.database.debugLogs,transaction:n})(e)}let gb={postgres:{string:["character varying","varchar","text"],number:["int4","integer","bigint","smallint","numeric","real","double precision"],boolean:["bool","boolean"],date:["timestamptz","timestamp","date"],json:["json","jsonb"]},mysql:{string:["varchar","text"],number:["integer","int","bigint","smallint","decimal","float","double"],boolean:["boolean","tinyint"],date:["timestamp","datetime","date"],json:["json"]},sqlite:{string:["TEXT"],number:["INTEGER","REAL"],boolean:["INTEGER","BOOLEAN"],date:["DATE","INTEGER"],json:["TEXT"]},mssql:{string:["varchar","nvarchar"],number:["int","bigint","smallint","decimal","float","double"],boolean:["bit","smallint"],date:["datetime2","date","datetime"],json:["varchar","nvarchar"]}};async function gv(e){try{let t=await f3.sql`SHOW search_path`.execute(e);if(t.rows[0]?.search_path)return t.rows[0].search_path.split(",").map(e=>e.trim()).map(e=>e.replace(/^["']|["']$/g,"")).filter(e=>!e.startsWith("$"))[0]||"public"}catch(e){}return"public"}async function gE(e){let t=function(e){let t=(0,fF.g)(e),r={};for(let e in t){let n=t[e],i=n.fields,s={};if(Object.entries(i).forEach(([e,r])=>{if(s[r.fieldName||e]=r,r.references){let n=t[r.references.model];n&&(s[r.fieldName||e].references={...r.references,model:n.modelName,field:r.references.field})}}),r[n.modelName]){r[n.modelName].fields={...r[n.modelName].fields,...s};continue}r[n.modelName]={fields:s,order:n.order||1/0}}return r}(e),r=(0,cU.createLogger)(e.logger),{kysely:n,databaseType:i}=await gh(e);i||(r.warn("Could not determine database type, defaulting to sqlite. Please provide a type in the database options to avoid this."),i="sqlite"),n||(r.error("Only kysely adapter is supported for migrations. You can use `generate` command to generate the schema, if you're using a different adapter."),process.exit(1));let s="public";if("postgres"===i){s=await gv(n),r.debug(`PostgreSQL migration: Using schema '${s}' (from search_path)`);try{(await f3.sql`
				SELECT schema_name 
				FROM information_schema.schemata 
				WHERE schema_name = ${s}
			`.execute(n)).rows[0]||r.warn(`Schema '${s}' does not exist. Tables will be inspected from available schemas. Consider creating the schema first or checking your database configuration.`)}catch(e){r.debug(`Could not verify schema existence: ${e instanceof Error?e.message:String(e)}`)}}let a=await n.introspection.getTables(),o=a;if("postgres"===i)try{let e=await f3.sql`
				SELECT table_name 
				FROM information_schema.tables 
				WHERE table_schema = ${s}
				AND table_type = 'BASE TABLE'
			`.execute(n),t=new Set(e.rows.map(e=>e.table_name));o=a.filter(e=>e.schema===s&&t.has(e.name)),r.debug(`Found ${o.length} table(s) in schema '${s}': ${o.map(e=>e.name).join(", ")||"(none)"}`)}catch(e){r.warn(`Could not filter tables by schema. Using all discovered tables. Error: ${e instanceof Error?e.message:String(e)}`)}let u=[],l=[];for(let[e,n]of Object.entries(t)){let t=o.find(t=>t.name===e);if(!t){let t=u.findIndex(t=>t.table===e),r={table:e,fields:n.fields,order:n.order||1/0},i=u.findIndex(e=>(e.order||1/0)>r.order);-1===i?-1===t?u.push(r):u[t].fields={...u[t].fields,...n.fields}:u.splice(i,0,r);continue}let s={};for(let[a,o]of Object.entries(n.fields)){let n=t.columns.find(e=>e.name===a);if(!n){s[a]=o;continue}!function(e,t,r){if("string[]"===t||"number[]"===t)return e.toLowerCase().includes("json");let n=gb[r];return(Array.isArray(t)?n.string.map(e=>e.toLowerCase()):n[t].map(e=>e.toLowerCase())).includes(e.toLowerCase().split("(")[0].trim())}(n.dataType,o.type,i)&&r.warn(`Field ${a} in table ${e} has a different type in the database. Expected ${o.type} but got ${n.dataType}.`)}Object.keys(s).length>0&&l.push({table:e,fields:s,order:n.order||1/0})}let c=[];function d(t,r){let n=t.type,s={string:{sqlite:"text",postgres:"text",mysql:t.unique?"varchar(255)":t.references?"varchar(36)":"text",mssql:t.unique||t.sortable?"varchar(255)":t.references?"varchar(36)":"varchar(8000)"},boolean:{sqlite:"integer",postgres:"boolean",mysql:"boolean",mssql:"smallint"},number:{sqlite:t.bigint?"bigint":"integer",postgres:t.bigint?"bigint":"integer",mysql:t.bigint?"bigint":"integer",mssql:t.bigint?"bigint":"integer"},date:{sqlite:"date",postgres:"timestamptz",mysql:"timestamp(3)",mssql:f3.sql`datetime2(3)`},json:{sqlite:"text",postgres:"jsonb",mysql:"json",mssql:"varchar(8000)"},id:{postgres:e.advanced?.database?.useNumberId?"serial":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"},foreignKeyId:{postgres:e.advanced?.database?.useNumberId?"integer":"text",mysql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",mssql:e.advanced?.database?.useNumberId?"integer":"varchar(36)",sqlite:e.advanced?.database?.useNumberId?"integer":"text"}};return"id"===r||t.references?.field==="id"?"id"===r?s.id[i]:s.foreignKeyId[i]:"sqlite"===i&&("string[]"===n||"number[]"===n)?"text":"string[]"===n||"number[]"===n?"jsonb":Array.isArray(n)?"text":s[n][i||"sqlite"]}if(l.length)for(let e of l)for(let[t,r]of Object.entries(e.fields)){let s=d(r,t),a=n.schema.alterTable(e.table).addColumn(t,s,e=>(e=!1!==r.required?e.notNull():e,r.references&&(e=e.references(`${r.references.model}.${r.references.field}`).onDelete(r.references.onDelete||"cascade")),r.unique&&(e=e.unique()),"date"===r.type&&"function"==typeof r.defaultValue&&("postgres"===i||"mysql"===i||"mssql"===i)&&(e="mysql"===i?e.defaultTo(f3.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(f3.sql`CURRENT_TIMESTAMP`)),e));c.push(a)}if(u.length)for(let t of u){let r=n.schema.createTable(t.table).addColumn("id",e.advanced?.database?.useNumberId?"postgres"===i?"serial":"integer":"mysql"===i||"mssql"===i?"varchar(36)":"text",t=>e.advanced?.database?.useNumberId?"postgres"===i||"sqlite"===i?t.primaryKey().notNull():"mssql"===i?t.identity().primaryKey().notNull():t.autoIncrement().primaryKey().notNull():t.primaryKey().notNull());for(let[e,n]of Object.entries(t.fields)){let t=d(n,e);r=r.addColumn(e,t,e=>(e=!1!==n.required?e.notNull():e,n.references&&(e=e.references(`${n.references.model}.${n.references.field}`).onDelete(n.references.onDelete||"cascade")),n.unique&&(e=e.unique()),"date"===n.type&&"function"==typeof n.defaultValue&&("postgres"===i||"mysql"===i||"mssql"===i)&&(e="mysql"===i?e.defaultTo(f3.sql`CURRENT_TIMESTAMP(3)`):e.defaultTo(f3.sql`CURRENT_TIMESTAMP`)),e))}c.push(r)}return{toBeCreated:u,toBeAdded:l,runMigrations:async function(){for(let e of c)await e.execute()},compileMigrations:async function(){return c.map(e=>e.compile().sql).join(";\n\n")+";"}}}async function gS(e,t){let r=await t.context.internalAdapter.findAccounts(e),n=r?.find(e=>"credential"===e.providerId),i=n?.password;if(!n||!i||!t.body.password)throw new eC.APIError("BAD_REQUEST",{message:"No password credential found"});if(!await t.context.password.verify({hash:i,password:t.body.password}))throw new eC.APIError("BAD_REQUEST",{message:"Invalid password"});return!0}async function gw(e){let t=await (0,dw.createHash)("SHA-256").digest(e);return o.base64.encode(t)}async function gR(){if(n)return n;try{let e="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!e)return;let t=e=>Function("mm","return import(mm)")(e),[{default:r},{default:i}]=await Promise.all([t("fs/promises"),t("path")]),s=await r.readFile(i.join(e,"package.json"),"utf-8");return n=JSON.parse(s)}catch{}}async function gO(e){if(n)return n.dependencies?.[e]||n.devDependencies?.[e]||n.peerDependencies?.[e];try{let t="undefined"!=typeof process&&"function"==typeof process.cwd?process.cwd():"";if(!t)throw Error("no-cwd");let r=e=>Function("mm","return import(mm)")(e),[{default:n},{default:i}]=await Promise.all([r("fs/promises"),r("path")]),s=i.join(t,"node_modules",e,"package.json"),a=await n.readFile(s,"utf-8");return JSON.parse(a).version||await gA(e)||void 0}catch{}return await gA(e)}async function gA(e){let t=await gR();if(t)return({...t.dependencies,...t.devDependencies,...t.peerDependencies})[e]}async function gT(){let e=await gR();return e?.name}e.s(["c",()=>gS],2340),e.s(["createTelemetry",()=>gK],81190);let gI=null;async function gC(e){if(gI)return gI;let t=await gT();return t?gI=await gw(e?e+t:t):e?gI=await gw(e):gI=(0,c6.createRandomStringGenerator)("a-z","A-Z","0-9")(32)}let gN=e=>Function("mm","return import(mm)")(e);function gP(){let e=(...e)=>e.some(e=>!!cU.env[e]);return e("CF_PAGES","CF_PAGES_URL","CF_ACCOUNT_ID")||"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent?"cloudflare":e("VERCEL","VERCEL_URL","VERCEL_ENV")?"vercel":e("NETLIFY","NETLIFY_URL")?"netlify":e("RENDER","RENDER_URL","RENDER_INTERNAL_HOSTNAME","RENDER_SERVICE_ID")?"render":e("AWS_LAMBDA_FUNCTION_NAME","AWS_EXECUTION_ENV","LAMBDA_TASK_ROOT")?"aws":e("GOOGLE_CLOUD_FUNCTION_NAME","GOOGLE_CLOUD_PROJECT","GCP_PROJECT","K_SERVICE")?"gcp":e("AZURE_FUNCTION_NAME","FUNCTIONS_WORKER_RUNTIME","WEBSITE_INSTANCE_ID","WEBSITE_SITE_NAME")?"azure":e("DENO_DEPLOYMENT_ID","DENO_REGION")?"deno-deploy":e("FLY_APP_NAME","FLY_REGION","FLY_ALLOC_ID")?"fly-io":e("RAILWAY_STATIC_URL","RAILWAY_ENVIRONMENT_NAME")?"railway":e("DYNO","HEROKU_APP_NAME")?"heroku":e("DO_DEPLOYMENT_ID","DO_APP_NAME","DIGITALOCEAN")?"digitalocean":e("KOYEB","KOYEB_DEPLOYMENT_ID","KOYEB_APP_NAME")?"koyeb":null}async function gx(){try{if("cloudflare"===gP())return"cloudflare";let e=await gN("os"),t=e.cpus();return{deploymentVendor:gP(),systemPlatform:e.platform(),systemRelease:e.release(),systemArchitecture:e.arch(),cpuCount:t.length,cpuModel:t.length?t[0].model:null,cpuSpeed:t.length?t[0].speed:null,memory:e.totalmem(),isWSL:await gM(),isDocker:await gL(),isTTY:"undefined"!=typeof process&&process.stdout?process.stdout.isTTY:null}}catch(e){return{systemPlatform:null,systemRelease:null,systemArchitecture:null,cpuCount:null,cpuModel:null,cpuSpeed:null,memory:null,isWSL:null,isDocker:null,isTTY:null}}}async function gD(){if("cloudflare"===gP())return!1;try{return(await gN("fs")).statSync("/.dockerenv"),!0}catch{return!1}}async function gk(){if("cloudflare"===gP())return!1;try{return(await gN("fs")).readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}async function gL(){return"cloudflare"!==gP()&&(void 0===i&&(i=await gD()||await gk()),i)}async function gM(){try{if("cloudflare"===gP()||"undefined"==typeof process||process?.platform!=="linux")return!1;let e=await gN("fs");if((await gN("os")).release().toLowerCase().includes("microsoft")){if(await gU())return!1;return!0}return!!e.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!await gU()}catch{return!1}}let g$=async()=>{if("cloudflare"===gP())return!1;try{return(await gN("fs")).statSync("/run/.containerenv"),!0}catch{return!1}};async function gU(){return void 0===s&&(s=await g$()||await gL()),s}let gj={pg:"postgresql",mysql:"mysql",mariadb:"mariadb",sqlite3:"sqlite","better-sqlite3":"sqlite","@prisma/client":"prisma",mongoose:"mongodb",mongodb:"mongodb","drizzle-orm":"drizzle"};async function gB(){for(let[e,t]of Object.entries(gj)){let r=await gO(e);if(r)return{name:t,version:r}}}let gz={next:"next",nuxt:"nuxt","@remix-run/server-runtime":"remix",astro:"astro","@sveltejs/kit":"sveltekit","solid-start":"solid-start","tanstack-start":"tanstack-start",hono:"hono",express:"express",elysia:"elysia",expo:"expo"};async function gq(){for(let[e,t]of Object.entries(gz)){let r=await gO(e);if(r)return{name:t,version:r}}}async function gK(e,t){let r,n=e.telemetry?.debug||(0,cU.getBooleanEnvVar)("BETTER_AUTH_TELEMETRY_DEBUG",!1),i=cU.ENV.BETTER_AUTH_TELEMETRY_ENDPOINT,s=async e=>{try{t?.customTrack?await t.customTrack(e):n?await Promise.resolve(cU.logger.info("telemetry event",JSON.stringify(e,null,2))):await C(i,{method:"POST",body:e})}catch{}},a=async()=>{let r=e.telemetry?.enabled!==void 0&&e.telemetry.enabled;return((0,cU.getBooleanEnvVar)("BETTER_AUTH_TELEMETRY",!1)||r)&&(t?.skipTestCheck||!(0,cU.isTest)())},o=await a();if(o){var u;r=await gC(e.baseURL),s({type:"init",payload:{config:{database:void 0,adapter:u?.adapter,emailVerification:{sendVerificationEmail:!!e.emailVerification?.sendVerificationEmail,sendOnSignUp:!!e.emailVerification?.sendOnSignUp,sendOnSignIn:!!e.emailVerification?.sendOnSignIn,autoSignInAfterVerification:!!e.emailVerification?.autoSignInAfterVerification,expiresIn:e.emailVerification?.expiresIn,onEmailVerification:!!e.emailVerification?.onEmailVerification,afterEmailVerification:!!e.emailVerification?.afterEmailVerification},emailAndPassword:{enabled:!!e.emailAndPassword?.enabled,disableSignUp:!!e.emailAndPassword?.disableSignUp,requireEmailVerification:!!e.emailAndPassword?.requireEmailVerification,maxPasswordLength:e.emailAndPassword?.maxPasswordLength,minPasswordLength:e.emailAndPassword?.minPasswordLength,sendResetPassword:!!e.emailAndPassword?.sendResetPassword,resetPasswordTokenExpiresIn:e.emailAndPassword?.resetPasswordTokenExpiresIn,onPasswordReset:!!e.emailAndPassword?.onPasswordReset,password:{hash:!!e.emailAndPassword?.password?.hash,verify:!!e.emailAndPassword?.password?.verify},autoSignIn:!!e.emailAndPassword?.autoSignIn,revokeSessionsOnPasswordReset:!!e.emailAndPassword?.revokeSessionsOnPasswordReset},socialProviders:Object.keys(e.socialProviders||{}).map(t=>{let r=e.socialProviders?.[t];return r?{id:t,mapProfileToUser:!!r.mapProfileToUser,disableDefaultScope:!!r.disableDefaultScope,disableIdTokenSignIn:!!r.disableIdTokenSignIn,disableImplicitSignUp:r.disableImplicitSignUp,disableSignUp:r.disableSignUp,getUserInfo:!!r.getUserInfo,overrideUserInfoOnSignIn:!!r.overrideUserInfoOnSignIn,prompt:r.prompt,verifyIdToken:!!r.verifyIdToken,scope:r.scope,refreshAccessToken:!!r.refreshAccessToken}:{}}),plugins:e.plugins?.map(e=>e.id.toString()),user:{modelName:e.user?.modelName,fields:e.user?.fields,additionalFields:e.user?.additionalFields,changeEmail:{enabled:e.user?.changeEmail?.enabled,sendChangeEmailVerification:!!e.user?.changeEmail?.sendChangeEmailVerification}},verification:{modelName:e.verification?.modelName,disableCleanup:e.verification?.disableCleanup,fields:e.verification?.fields},session:{modelName:e.session?.modelName,additionalFields:e.session?.additionalFields,cookieCache:{enabled:e.session?.cookieCache?.enabled,maxAge:e.session?.cookieCache?.maxAge},disableSessionRefresh:e.session?.disableSessionRefresh,expiresIn:e.session?.expiresIn,fields:e.session?.fields,freshAge:e.session?.freshAge,preserveSessionInDatabase:e.session?.preserveSessionInDatabase,storeSessionInDatabase:e.session?.storeSessionInDatabase,updateAge:e.session?.updateAge},account:{modelName:e.account?.modelName,fields:e.account?.fields,encryptOAuthTokens:e.account?.encryptOAuthTokens,updateAccountOnSignIn:e.account?.updateAccountOnSignIn,accountLinking:{enabled:e.account?.accountLinking?.enabled,trustedProviders:e.account?.accountLinking?.trustedProviders,updateUserInfoOnLink:e.account?.accountLinking?.updateUserInfoOnLink,allowUnlinkingAll:e.account?.accountLinking?.allowUnlinkingAll}},hooks:{after:!!e.hooks?.after,before:!!e.hooks?.before},secondaryStorage:!!e.secondaryStorage,advanced:{cookiePrefix:!!e.advanced?.cookiePrefix,cookies:!!e.advanced?.cookies,crossSubDomainCookies:{domain:!!e.advanced?.crossSubDomainCookies?.domain,enabled:e.advanced?.crossSubDomainCookies?.enabled,additionalCookies:e.advanced?.crossSubDomainCookies?.additionalCookies},database:{useNumberId:!!e.advanced?.database?.useNumberId,generateId:e.advanced?.database?.generateId,defaultFindManyLimit:e.advanced?.database?.defaultFindManyLimit},useSecureCookies:e.advanced?.useSecureCookies,ipAddress:{disableIpTracking:e.advanced?.ipAddress?.disableIpTracking,ipAddressHeaders:e.advanced?.ipAddress?.ipAddressHeaders},disableCSRFCheck:e.advanced?.disableCSRFCheck,cookieAttributes:{expires:e.advanced?.defaultCookieAttributes?.expires,secure:e.advanced?.defaultCookieAttributes?.secure,sameSite:e.advanced?.defaultCookieAttributes?.sameSite,domain:!!e.advanced?.defaultCookieAttributes?.domain,path:e.advanced?.defaultCookieAttributes?.path,httpOnly:e.advanced?.defaultCookieAttributes?.httpOnly}},trustedOrigins:e.trustedOrigins?.length,rateLimit:{storage:e.rateLimit?.storage,modelName:e.rateLimit?.modelName,window:e.rateLimit?.window,customStorage:!!e.rateLimit?.customStorage,enabled:e.rateLimit?.enabled,max:e.rateLimit?.max},onAPIError:{errorURL:e.onAPIError?.errorURL,onError:!!e.onAPIError?.onError,throw:e.onAPIError?.throw},logger:{disabled:e.logger?.disabled,level:e.logger?.level,log:!!e.logger?.log},databaseHooks:{user:{create:{after:!!e.databaseHooks?.user?.create?.after,before:!!e.databaseHooks?.user?.create?.before},update:{after:!!e.databaseHooks?.user?.update?.after,before:!!e.databaseHooks?.user?.update?.before}},session:{create:{after:!!e.databaseHooks?.session?.create?.after,before:!!e.databaseHooks?.session?.create?.before},update:{after:!!e.databaseHooks?.session?.update?.after,before:!!e.databaseHooks?.session?.update?.before}},account:{create:{after:!!e.databaseHooks?.account?.create?.after,before:!!e.databaseHooks?.account?.create?.before},update:{after:!!e.databaseHooks?.account?.update?.after,before:!!e.databaseHooks?.account?.update?.before}},verification:{create:{after:!!e.databaseHooks?.verification?.create?.after,before:!!e.databaseHooks?.verification?.create?.before},update:{after:!!e.databaseHooks?.verification?.update?.after,before:!!e.databaseHooks?.verification?.update?.before}}}},runtime:"undefined"!=typeof Deno?{name:"deno",version:Deno?.version?.deno??null}:"undefined"!=typeof Bun?{name:"bun",version:Bun?.version??null}:"undefined"!=typeof process&&process?.versions?.node?{name:"node",version:process.versions.node??null}:{name:"edge",version:null},database:await gB(),framework:await gq(),environment:"production"===(0,cU.getEnvVar)("NODE_ENV")?"production":"false"!==cU.env.CI&&("BUILD_ID"in cU.env||"BUILD_NUMBER"in cU.env||"CI"in cU.env||"CI_APP_ID"in cU.env||"CI_BUILD_ID"in cU.env||"CI_BUILD_NUMBER"in cU.env||"CI_NAME"in cU.env||"CONTINUOUS_INTEGRATION"in cU.env||"RUN_ID"in cU.env)?"ci":(0,cU.isTest)()?"test":"development",systemInfo:await gx(),packageManager:function(){let e=cU.env.npm_config_user_agent;if(!e)return;let t=e.split(" ")[0],r=t.lastIndexOf("/"),n=t.substring(0,r);return{name:"npminstall"===n?"cnpm":n,version:t.substring(r+1)}}()},anonymousId:r})}return{publish:async t=>{o&&(r||(r=await gC(e.baseURL)),await s({type:t.type,payload:t.payload,anonymousId:r}))}}}let gF="better-auth-secret-123456789";function gY(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}let gV=async e=>{var t;let r,n=await g_(e),i=e.plugins||[],s=(t=e,t.advanced?.crossSubDomainCookies?.enabled,[]),a=(0,cU.createLogger)(e.logger),o=cF(e.baseURL,e.basePath),u=e.secret||cU.env.BETTER_AUTH_SECRET||cU.env.AUTH_SECRET||gF;u===gF&&cU.isProduction&&a.error("You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config."),fz(e={...e,secret:u,baseURL:o?new URL(o).origin:"",basePath:e.basePath||"/api/auth",plugins:i.concat(s)},a);let l=cQ(e),c=(0,fF.g)(e),d=Object.entries(e.socialProviders||{}).map(([e,t])=>{if(null==t||!1===t.enabled)return null;t.clientId||a.warn(`Social provider ${e} is missing clientId or clientSecret`);let r=dc[e](t);return r.disableImplicitSignUp=t.disableImplicitSignUp,r}).filter(e=>null!==e),{publish:p}=await gK(e,{adapter:n.id,database:"function"==typeof e.database?"adapter":gf(e.database)||"unknown"}),f={appName:e.appName||"Better Auth",socialProviders:d,options:e,tables:c,trustedOrigins:function(e){let t=cF(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&Array.isArray(e.trustedOrigins)&&r.push(...e.trustedOrigins);let n=cU.env.BETTER_AUTH_TRUSTED_ORIGINS;if(n&&r.push(...n.split(",")),r.filter(e=>!e).length)throw new cM.BetterAuthError("A provided trusted origin is invalid, make sure your trusted origins list is properly defined.");return r}(e),baseURL:o||"",sessionConfig:{updateAge:e.session?.updateAge!==void 0?e.session.updateAge:86400,expiresIn:e.session?.expiresIn||604800,freshAge:e.session?.freshAge===void 0?86400:e.session.freshAge},secret:u,rateLimit:{...e.rateLimit,enabled:e.rateLimit?.enabled??cU.isProduction,window:e.rateLimit?.window||10,max:e.rateLimit?.max||100,storage:e.rateLimit?.storage||(e.secondaryStorage?"secondary-storage":"memory")},authCookies:l,logger:a,generateId:({model:t,size:r})=>"function"==typeof e.advanced?.generateId?e.advanced.generateId({model:t,size:r}):"function"==typeof e?.advanced?.database?.generateId?e.advanced.database.generateId({model:t,size:r}):(0,dS.g)(r),session:null,secondaryStorage:e.secondaryStorage,password:{hash:e.emailAndPassword?.password?.hash||p1,verify:e.emailAndPassword?.password?.verify||p4,config:{minPasswordLength:e.emailAndPassword?.minPasswordLength||8,maxPasswordLength:e.emailAndPassword?.maxPasswordLength||128},checkPassword:gS},setNewSession(e){this.newSession=e},newSession:null,adapter:n,internalAdapter:gy(n,{options:e,logger:a,hooks:e.databaseHooks?[e.databaseHooks]:[]}),createAuthCookie:cW(e),async runMigrations(){if(!e.database||"updateMany"in e.database)throw new cM.BetterAuthError("Database is not provided or it's an adapter. Migrations are only supported with a database instance.");let{runMigrations:t}=await gE(e);await t()},publishTelemetry:p,skipCSRFCheck:!!e.advanced?.disableCSRFCheck,skipOriginCheck:e.advanced?.disableOriginCheck!==void 0?e.advanced.disableOriginCheck:!!(0,cU.isTest)()},h=gG(f);return gY(h)?{context:r}=await h:{context:r}=h,r};async function gG(e){let t=e.options,r=t.plugins||[],n=e,i=[];for(let e of r)if(e.init){let r,s=e.init(n);if("object"==typeof(r=gY(s)?await s:s)){if(r.options){let{databaseHooks:e,...n}=r.options;e&&i.push(e),t=dk(t,n)}r.context&&(n={...n,...r.context})}}return i.push(t.databaseHooks),n.internalAdapter=gy(e.adapter,{options:t,logger:e.logger,hooks:i.filter(e=>void 0!==e),generateId:e.generateId}),n.options=t,{context:n}}let gH=e=>{let t=gV(e),{api:r}=fq(t,e),n=e.plugins?.reduce((e,t)=>t.$ERROR_CODES?{...e,...t.$ERROR_CODES}:e,{});return{handler:async r=>{let n=await t,i=n.options.basePath||"/api/auth";if(!n.options.baseURL){let e=cF(void 0,i,r);if(e)n.baseURL=e,n.options.baseURL=cY(n.baseURL)||void 0;else throw new cM.BetterAuthError("Could not get base URL from request. Please provide a valid base URL.")}n.trustedOrigins=[...e.trustedOrigins?Array.isArray(e.trustedOrigins)?e.trustedOrigins:await e.trustedOrigins(r):[],n.options.baseURL];let{handler:s}=fK(n,e);return s(r)},api:r,options:e,$context:t,$Infer:{},$ERROR_CODES:{...n,...cM.BASE_ERROR_CODES}}}},3056,e=>{"use strict";e.s([],3056),e.i(68441),e.i(91588),e.i(19014),e.i(31786),e.i(4376),e.i(14033),e.i(65965),e.i(81190),e.i(16043),e.i(12701),e.i(57308),e.i(93982),e.i(26246),e.i(66129),e.i(76372),e.i(2316),e.i(95360),e.i(53320),e.i(18655),e.i(51386),e.i(39859),e.i(91332),e.i(26266),e.i(56685),e.i(21176),e.i(84331),e.i(41903),e.i(22224),e.i(32671),e.i(83252),e.i(68985),e.i(23348),e.i(39173),e.i(36964),e.i(23985),e.i(57250),e.i(2340)},18918,e=>{"use strict";e.s(["betterAuth",()=>t.b]);var t=e.i(4376)},94752,e=>{"use strict";e.s(["drizzleAdapter",()=>a],94752);var t=e.i(36964);e.i(2316),e.i(51386),e.i(68441),e.i(23348),e.i(65965),e.i(56685),e.i(16043),e.i(21176),e.i(93982),e.i(84331);var r=e.i(19014);e.i(41903),t.c,e.i(38031),e.i(19829);var n=e.i(82108),i=e.i(91574),s=e.i(79586);let a=(e,a)=>{let o=null,u=e=>({getFieldName:t,debugLog:o})=>{function u(t){let n=a.schema||e._.fullSchema;if(!n)throw new r.BetterAuthError("Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.");let i=n[t];if(!i)throw new r.BetterAuthError(`[# Drizzle Adapter]: The model "${t}" was not found in the schema object. Please pass the schema directly to the adapter options.`);return i}let l=async(t,o,l,d)=>{if("mysql"!==a.provider)return(await o.returning())[0];await o.execute();let p=u(t),f=o.config?.values;if(d?.length){let r=c(d.map(e=>void 0!==l[e.field]?{...e,value:l[e.field]}:e),t);return(await e.select().from(p).where(...r))[0]}if(f&&f[0]?.id?.value){let t=f[0]?.id?.value;return t||(t=(await e.select({id:n.sql`LAST_INSERT_ID()`}).from(p).orderBy((0,i.desc)(p.id)).limit(1))[0].id),(await e.select().from(p).where((0,s.eq)(p.id,t)).limit(1).execute())[0]}if(l.id)return(await e.select().from(p).where((0,s.eq)(p.id,l.id)).limit(1).execute())[0];if(!("id"in p))throw new r.BetterAuthError(`The model "${t}" does not have an "id" field. Please use the "id" field as your primary key.`);return(await e.select().from(p).orderBy((0,i.desc)(p.id)).limit(1).execute())[0]};function c(e,n){let i=u(n);if(!e)return[];if(1===e.length){let a=e[0];if(!a)return[];let o=t({model:n,field:a.field});if(!i[o])throw new r.BetterAuthError(`The field "${a.field}" does not exist in the schema for the model "${n}". Please update your schema.`);if("in"===a.operator){if(!Array.isArray(a.value))throw new r.BetterAuthError(`The value for the field "${a.field}" must be an array when using the "in" operator.`);return[(0,s.inArray)(i[o],a.value)]}if("not_in"===a.operator){if(!Array.isArray(a.value))throw new r.BetterAuthError(`The value for the field "${a.field}" must be an array when using the "not_in" operator.`);return[(0,s.notInArray)(i[o],a.value)]}return"contains"===a.operator?[(0,s.like)(i[o],`%${a.value}%`)]:"starts_with"===a.operator?[(0,s.like)(i[o],`${a.value}%`)]:"ends_with"===a.operator?[(0,s.like)(i[o],`%${a.value}`)]:"lt"===a.operator?[(0,s.lt)(i[o],a.value)]:"lte"===a.operator?[(0,s.lte)(i[o],a.value)]:"ne"===a.operator?[(0,s.ne)(i[o],a.value)]:"gt"===a.operator?[(0,s.gt)(i[o],a.value)]:"gte"===a.operator?[(0,s.gte)(i[o],a.value)]:[(0,s.eq)(i[o],a.value)]}let a=e.filter(e=>"AND"===e.connector||!e.connector),o=e.filter(e=>"OR"===e.connector),l=(0,s.and)(...a.map(e=>{let a=t({model:n,field:e.field});if("in"===e.operator){if(!Array.isArray(e.value))throw new r.BetterAuthError(`The value for the field "${e.field}" must be an array when using the "in" operator.`);return(0,s.inArray)(i[a],e.value)}if("not_in"===e.operator){if(!Array.isArray(e.value))throw new r.BetterAuthError(`The value for the field "${e.field}" must be an array when using the "not_in" operator.`);return(0,s.notInArray)(i[a],e.value)}return(0,s.eq)(i[a],e.value)})),c=(0,s.or)(...o.map(e=>{let r=t({model:n,field:e.field});return(0,s.eq)(i[r],e.value)})),d=[];return a.length&&d.push(l),o.length&&d.push(c),d}return{async create({model:t,data:n}){let i=u(t);if(!i)throw new r.BetterAuthError("Drizzle adapter failed to initialize. Schema not found. Please provide a schema object in the adapter options object.");for(let e in n)if(!i[e])throw new r.BetterAuthError(`The field "${e}" does not exist in the "${t}" schema. Please update your drizzle schema or re-generate using "npx @better-auth/cli generate".`);let s=e.insert(i).values(n);return await l(t,s,n)},async findOne({model:t,where:r}){let n=u(t),i=c(r,t),s=await e.select().from(n).where(...i);return s.length?s[0]:null},async findMany({model:r,where:n,sortBy:s,limit:a,offset:o}){let l=u(r),d=n?c(n,r):[],p=s?.direction==="desc"?i.desc:i.asc,f=e.select().from(l).limit(a||100).offset(o||0);return s?.field&&f.orderBy(p(l[t({model:r,field:s?.field})])),await f.where(...d)},async count({model:t,where:r}){let i=u(t),s=r?c(r,t):[];return(await e.select({count:n.sql`count(${n.sql.raw("*")})`.mapWith(Number)}).from(i).where(...s))[0].count},async update({model:t,where:r,update:n}){let i=u(t),s=c(r,t),a=e.update(i).set(n).where(...s);return await l(t,a,n,r)},async updateMany({model:t,where:r,update:n}){let i=u(t),s=c(r,t),a=e.update(i).set(n).where(...s);return await a},async delete({model:t,where:r}){let n=u(t),i=c(r,t),s=e.delete(n).where(...i);return await s},async deleteMany({model:t,where:r}){let n=u(t),i=c(r,t),s=e.delete(n).where(...i);return await s},options:a}},l=null;l={config:{adapterId:"drizzle",adapterName:"Drizzle Adapter",usePlural:a.usePlural??!1,debugLogs:a.debugLogs??!1,transaction:!!a.transaction&&(r=>e.transaction(e=>r((0,t.c)({config:l.config,adapter:u(e)})(o))))},adapter:u(e)};let c=(0,t.c)(l);return e=>(o=e,c(e))}},3337,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.VerbatimString=void 0,r.VerbatimString=class extends String{format;constructor(e,t){super(t),this.format=e}}},77816,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MultiErrorReply=r.CommandTimeoutDuringMaintenanceError=r.SocketTimeoutDuringMaintenanceError=r.TimeoutError=r.BlobError=r.SimpleError=r.ErrorReply=r.ReconnectStrategyError=r.RootNodesUnavailableError=r.SocketClosedUnexpectedlyError=r.DisconnectsClientError=r.ClientOfflineError=r.ClientClosedError=r.SocketTimeoutError=r.ConnectionTimeoutError=r.WatchError=r.AbortError=void 0,r.AbortError=class extends Error{constructor(){super("The command was aborted")}},r.WatchError=class extends Error{constructor(e="One (or more) of the watched keys has been changed"){super(e)}},r.ConnectionTimeoutError=class extends Error{constructor(){super("Connection timeout")}},r.SocketTimeoutError=class extends Error{constructor(e){super(`Socket timeout timeout. Expecting data, but didn't receive any in ${e}ms.`)}},r.ClientClosedError=class extends Error{constructor(){super("The client is closed")}},r.ClientOfflineError=class extends Error{constructor(){super("The client is offline")}},r.DisconnectsClientError=class extends Error{constructor(){super("Disconnects client")}},r.SocketClosedUnexpectedlyError=class extends Error{constructor(){super("Socket closed unexpectedly")}},r.RootNodesUnavailableError=class extends Error{constructor(){super("All the root nodes are unavailable")}},r.ReconnectStrategyError=class extends Error{originalError;socketError;constructor(e,t){super(e.message),this.originalError=e,this.socketError=t}};class n extends Error{}r.ErrorReply=n,r.SimpleError=class extends n{},r.BlobError=class extends n{};class i extends Error{}r.TimeoutError=i,r.SocketTimeoutDuringMaintenanceError=class extends i{constructor(e){super(`Socket timeout during maintenance. Expecting data, but didn't receive any in ${e}ms.`)}},r.CommandTimeoutDuringMaintenanceError=class extends i{constructor(e){super(`Command timeout during maintenance. Waited to write command for more than ${e}ms.`)}},r.MultiErrorReply=class extends n{replies;errorIndexes;constructor(e,t){super(`${t.length} commands failed, see .replies and .errorIndexes for more information`),this.replies=e,this.errorIndexes=t}*errors(){for(let e of this.errorIndexes)yield this.replies[e]}}},85366,(e,t,r)=>{"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),r.Decoder=r.PUSH_TYPE_MAPPING=r.RESP_TYPES=void 0;let i=e.r(3337),s=e.r(77816);r.RESP_TYPES={NULL:95,BOOLEAN:35,NUMBER:58,BIG_NUMBER:40,DOUBLE:44,SIMPLE_STRING:43,BLOB_STRING:36,VERBATIM_STRING:61,SIMPLE_ERROR:45,BLOB_ERROR:33,ARRAY:42,SET:126,MAP:37,PUSH:62};let a={"\r":13,t:116,"+":43,"-":45,0:48,".":46,i:105,n:110,E:69,e:101};r.PUSH_TYPE_MAPPING={[r.RESP_TYPES.BLOB_STRING]:Buffer};class o{onReply;onErrorReply;onPush;getTypeMapping;#eb=0;#ev;constructor(e){this.onReply=e.onReply,this.onErrorReply=e.onErrorReply,this.onPush=e.onPush,this.getTypeMapping=e.getTypeMapping}reset(){this.#eb=0,this.#ev=void 0}write(e){if(this.#eb>=e.length||this.#ev&&(this.#ev(e)||this.#eb>=e.length)){this.#eb-=e.length;return}do{let t=e[this.#eb];if(++this.#eb===e.length){this.#ev=this.#eE.bind(this,t);break}if(this.#eS(t,e))break}while(this.#eb<e.length)this.#eb-=e.length}#eE(e,t){return this.#ev=void 0,this.#eS(e,t)}#eS(e,t){switch(e){case r.RESP_TYPES.NULL:return this.onReply(this.#ew()),!1;case r.RESP_TYPES.BOOLEAN:return this.#eR(this.onReply,this.#eO(t));case r.RESP_TYPES.NUMBER:return this.#eR(this.onReply,this.#eA(this.getTypeMapping()[r.RESP_TYPES.NUMBER],t));case r.RESP_TYPES.BIG_NUMBER:return this.#eR(this.onReply,this.#eT(this.getTypeMapping()[r.RESP_TYPES.BIG_NUMBER],t));case r.RESP_TYPES.DOUBLE:return this.#eR(this.onReply,this.#eI(this.getTypeMapping()[r.RESP_TYPES.DOUBLE],t));case r.RESP_TYPES.SIMPLE_STRING:return this.#eR(this.onReply,this.#eC(this.getTypeMapping()[r.RESP_TYPES.SIMPLE_STRING],t));case r.RESP_TYPES.BLOB_STRING:return this.#eR(this.onReply,this.#eN(this.getTypeMapping()[r.RESP_TYPES.BLOB_STRING],t));case r.RESP_TYPES.VERBATIM_STRING:return this.#eR(this.onReply,this.#eP(this.getTypeMapping()[r.RESP_TYPES.VERBATIM_STRING],t));case r.RESP_TYPES.SIMPLE_ERROR:return this.#eR(this.onErrorReply,this.#ex(t));case r.RESP_TYPES.BLOB_ERROR:return this.#eR(this.onErrorReply,this.#eD(t));case r.RESP_TYPES.ARRAY:return this.#eR(this.onReply,this.#ek(this.getTypeMapping(),t));case r.RESP_TYPES.SET:return this.#eR(this.onReply,this.#eL(this.getTypeMapping(),t));case r.RESP_TYPES.MAP:return this.#eR(this.onReply,this.#eM(this.getTypeMapping(),t));case r.RESP_TYPES.PUSH:return this.#eR(this.onPush,this.#ek(r.PUSH_TYPE_MAPPING,t));default:throw Error(`Unknown RESP type ${e} "${String.fromCharCode(e)}"`)}}#eR(e,t){return"function"==typeof t?(this.#ev=this.#e$.bind(this,e,t),!0):(e(t),!1)}#e$(e,t,r){return this.#ev=void 0,this.#eR(e,t(r))}#ew(){return this.#eb+=2,null}#eO(e){let t=e[this.#eb]===a.t;return this.#eb+=3,t}#eA(e,t){if(e===String)return this.#eC(String,t);switch(t[this.#eb]){case a["+"]:return this.#eU(!1,t);case a["-"]:return this.#eU(!0,t);default:return this.#ej(!1,this.#eB.bind(this,0),t)}}#eU(e,t){let r=this.#eB.bind(this,0);return++this.#eb===t.length?this.#ej.bind(this,e,r):this.#ej(e,r,t)}#ej(e,t,r){let n=t(r);return"function"==typeof n?this.#ej.bind(this,e,n):e?-n:n}#eB(e,t){let r=this.#eb;do{let n=t[r];if(n===a["\r"])return this.#eb=r+2,e;e=10*e+n-a["0"]}while(++r<t.length)return this.#eb=r,this.#eB.bind(this,e)}#eT(e,t){if(e===String)return this.#eC(String,t);switch(t[this.#eb]){case a["+"]:return this.#ez(!1,t);case a["-"]:return this.#ez(!0,t);default:return this.#eq(!1,this.#eK.bind(this,0n),t)}}#ez(e,t){let r=this.#eK.bind(this,0n);return++this.#eb===t.length?this.#eq.bind(this,e,r):this.#eq(e,r,t)}#eq(e,t,r){let n=t(r);return"function"==typeof n?this.#eq.bind(this,e,n):e?-n:n}#eK(e,t){let r=this.#eb;do{let n=t[r];if(n===a["\r"])return this.#eb=r+2,e;e=10n*e+BigInt(n-a["0"])}while(++r<t.length)return this.#eb=r,this.#eK.bind(this,e)}#eI(e,t){if(e===String)return this.#eC(String,t);switch(t[this.#eb]){case a.n:return this.#eb+=5,NaN;case a["+"]:return this.#eF(!1,t);case a["-"]:return this.#eF(!0,t);default:return this.#eY(!1,0,t)}}#eF(e,t){return++this.#eb===t.length?this.#eY.bind(this,e,0):this.#eY(e,0,t)}#eY(e,t,r){return r[this.#eb]===a.i?(this.#eb+=5,e?-1/0:1/0):this.#eV(e,t,r)}#eV(e,t,r){let n=this.#eb;do{let i=r[n];switch(i){case a["."]:return this.#eb=n+1,this.#eb<r.length?this.#eG(e,0,t,r):this.#eG.bind(this,e,0,t);case a.E:case a.e:this.#eb=n+1;let s=e?-t:t;return this.#eb<r.length?this.#eH(s,r):this.#eH.bind(this,s);case a["\r"]:return this.#eb=n+2,e?-t:t;default:t=10*t+i-a["0"]}}while(++n<r.length)return this.#eb=n,this.#eV.bind(this,e,t)}static #eZ=[.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17];#eG(e,t,r,i){let s=this.#eb;do{let o=i[s];switch(o){case a.E:case a.e:this.#eb=s+1;let u=e?-r:r;return this.#eb===i.length?this.#eH.bind(this,u):this.#eH(u,i);case a["\r"]:return this.#eb=s+2,e?-r:r}t<n.#eZ.length&&(r+=(o-a["0"])*n.#eZ[t++])}while(++s<i.length)return this.#eb=s,this.#eG.bind(this,e,t,r)}#eH(e,t){switch(t[this.#eb]){case a["+"]:return++this.#eb===t.length?this.#eW.bind(this,!1,e,0):this.#eW(!1,e,0,t);case a["-"]:return++this.#eb===t.length?this.#eW.bind(this,!0,e,0):this.#eW(!0,e,0,t)}return this.#eW(!1,e,0,t)}#eW(e,t,r,n){let i=this.#eb;do{let s=n[i];if(s===a["\r"])return this.#eb=i+2,t*10**(e?-r:r);r=10*r+s-a["0"]}while(++i<n.length)return this.#eb=i,this.#eW.bind(this,e,t,r)}#eQ(e,t){for(;e[t]!==a["\r"];)if(++t===e.length)return this.#eb=e.length,-1;return this.#eb=t+2,t}#eC(e,t){let r=this.#eb,n=this.#eQ(t,r);if(-1===n)return this.#eX.bind(this,[t.subarray(r)],e);let i=t.subarray(r,n);return e===Buffer?i:i.toString()}#eX(e,t,r){let n=this.#eb,i=this.#eQ(r,n);if(-1===i)return e.push(r.subarray(n)),this.#eX.bind(this,e,t);e.push(r.subarray(n,i));let s=Buffer.concat(e);return t===Buffer?s:s.toString()}#eN(e,t){if(t[this.#eb]===a["-"])return this.#eb+=4,null;let r=this.#eB(0,t);return"function"==typeof r?this.#eJ.bind(this,r,e):this.#eb>=t.length?this.#e0.bind(this,r,e):this.#e0(r,e,t)}#eJ(e,t,r){let n=e(r);return"function"==typeof n?this.#eJ.bind(this,n,t):this.#eb>=r.length?this.#e0.bind(this,n,t):this.#e0(n,t,r)}#e1(e,t,r,n){let i=this.#eb+e;if(i>=n.length){let i=n.subarray(this.#eb);return this.#eb=n.length,this.#e4.bind(this,e-i.length,[i],t,r)}let s=n.subarray(this.#eb,i);return this.#eb=i+t,r===Buffer?s:s.toString()}#e4(e,t,r,n,i){let s=this.#eb+e;if(s>=i.length){let s=i.subarray(this.#eb);return t.push(s),this.#eb=i.length,this.#e4.bind(this,e-s.length,t,r,n)}t.push(i.subarray(this.#eb,s)),this.#eb=s+r;let a=Buffer.concat(t);return n===Buffer?a:a.toString()}#e0(e,t,r){return this.#e1(e,2,t,r)}#eP(e,t){return this.#e2(this.#eB.bind(this,0),e,t)}#e2(e,t,r){let n=e(r);return"function"==typeof n?this.#e2.bind(this,n,t):this.#e6(n,t,r)}#e6(e,t,r){let n=e-4;return t===i.VerbatimString?this.#e3(n,r):(this.#eb+=4,this.#eb>=r.length?this.#e0.bind(this,n,t):this.#e0(n,t,r))}#e3(e,t){let r=this.#e1.bind(this,3,1,String);return this.#eb>=t.length?this.#e8.bind(this,e,r):this.#e8(e,r,t)}#e8(e,t,r){let n=t(r);return"function"==typeof n?this.#e8.bind(this,e,n):this.#e5(e,n,r)}#e5(e,t,r){return this.#e9(t,this.#e0.bind(this,e,String),r)}#e9(e,t,r){let n=t(r);return"function"==typeof n?this.#e9.bind(this,e,n):new i.VerbatimString(e,n)}#ex(e){let t=this.#eC(String,e);return"function"==typeof t?this.#e7.bind(this,t):new s.SimpleError(t)}#e7(e,t){let r=e(t);return"function"==typeof r?this.#e7.bind(this,r):new s.SimpleError(r)}#eD(e){let t=this.#eN(String,e);return"function"==typeof t?this.#te.bind(this,t):new s.BlobError(t)}#te(e,t){let r=e(t);return"function"==typeof r?this.#te.bind(this,r):new s.BlobError(r)}#tt(e,t){let r=t[this.#eb];return++this.#eb===t.length?this.#tr.bind(this,r,e):this.#tr(r,e,t)}#tr(e,t,n){switch(e){case r.RESP_TYPES.NULL:return this.#ew();case r.RESP_TYPES.BOOLEAN:return this.#eO(n);case r.RESP_TYPES.NUMBER:return this.#eA(t[r.RESP_TYPES.NUMBER],n);case r.RESP_TYPES.BIG_NUMBER:return this.#eT(t[r.RESP_TYPES.BIG_NUMBER],n);case r.RESP_TYPES.DOUBLE:return this.#eI(t[r.RESP_TYPES.DOUBLE],n);case r.RESP_TYPES.SIMPLE_STRING:return this.#eC(t[r.RESP_TYPES.SIMPLE_STRING],n);case r.RESP_TYPES.BLOB_STRING:return this.#eN(t[r.RESP_TYPES.BLOB_STRING],n);case r.RESP_TYPES.VERBATIM_STRING:return this.#eP(t[r.RESP_TYPES.VERBATIM_STRING],n);case r.RESP_TYPES.SIMPLE_ERROR:return this.#ex(n);case r.RESP_TYPES.BLOB_ERROR:return this.#eD(n);case r.RESP_TYPES.ARRAY:return this.#ek(t,n);case r.RESP_TYPES.SET:return this.#eL(t,n);case r.RESP_TYPES.MAP:return this.#eM(t,n);default:throw Error(`Unknown RESP type ${e} "${String.fromCharCode(e)}"`)}}#ek(e,t){return t[this.#eb]===a["-"]?(this.#eb+=4,null):this.#tn(this.#eB(0,t),e,t)}#tn(e,t,r){return"function"==typeof e?this.#ti.bind(this,e,t):this.#ts(Array(e),0,t,r)}#ti(e,t,r){return this.#tn(e(r),t,r)}#ts(e,t,r,n){for(let i=t;i<e.length;i++){if(this.#eb>=n.length)return this.#ts.bind(this,e,i,r);let t=this.#tt(r,n);if("function"==typeof t)return this.#ta.bind(this,e,i,t,r);e[i]=t}return e}#ta(e,t,r,n,i){let s=r(i);return"function"==typeof s?this.#ta.bind(this,e,t,s,n):(e[t++]=s,this.#ts(e,t,n,i))}#eL(e,t){let r=this.#eB(0,t);return"function"==typeof r?this.#to.bind(this,r,e):this.#tu(r,e,t)}#to(e,t,r){let n=e(r);return"function"==typeof n?this.#to.bind(this,n,t):this.#tu(n,t,r)}#tu(e,t,n){return t[r.RESP_TYPES.SET]===Set?this.#tl(new Set,e,t,n):this.#ts(Array(e),0,t,n)}#tl(e,t,r,n){for(;t>0;){if(this.#eb>=n.length)return this.#tl.bind(this,e,t,r);let i=this.#tt(r,n);if("function"==typeof i)return this.#tc.bind(this,e,t,i,r);e.add(i),--t}return e}#tc(e,t,r,n,i){let s=r(i);return"function"==typeof s?this.#tc.bind(this,e,t,s,n):(e.add(s),this.#tl(e,t-1,n,i))}#eM(e,t){let r=this.#eB(0,t);return"function"==typeof r?this.#td.bind(this,r,e):this.#tp(r,e,t)}#td(e,t,r){let n=e(r);return"function"==typeof n?this.#td.bind(this,n,t):this.#tp(n,t,r)}#tp(e,t,n){switch(t[r.RESP_TYPES.MAP]){case Map:return this.#tf(new Map,e,t,n);case Array:return this.#ts(Array(2*e),0,t,n);default:return this.#th(Object.create(null),e,t,n)}}#tf(e,t,r,n){for(;t>0;){if(this.#eb>=n.length)return this.#tf.bind(this,e,t,r);let i=this.#tm(r,n);if("function"==typeof i)return this.#tg.bind(this,e,t,i,r);if(this.#eb>=n.length)return this.#ty.bind(this,e,t,i,this.#tt.bind(this,r),r);let s=this.#tt(r,n);if("function"==typeof s)return this.#ty.bind(this,e,t,i,s,r);e.set(i,s),--t}return e}#tm(e,t){let r=t[this.#eb];return++this.#eb===t.length?this.#t_.bind(this,r,e):this.#t_(r,e,t)}#t_(e,t,n){switch(e){case r.RESP_TYPES.SIMPLE_STRING:return this.#eC(String,n);case r.RESP_TYPES.BLOB_STRING:return this.#eN(String,n);default:return this.#tr(e,t,n)}}#tg(e,t,r,n,i){let s=r(i);if("function"==typeof s)return this.#tg.bind(this,e,t,s,n);if(this.#eb>=i.length)return this.#ty.bind(this,e,t,s,this.#tt.bind(this,n),n);let a=this.#tt(n,i);return"function"==typeof a?this.#ty.bind(this,e,t,s,a,n):(e.set(s,a),this.#tf(e,t-1,n,i))}#ty(e,t,r,n,i,s){let a=n(s);return"function"==typeof a?this.#ty.bind(this,e,t,r,a,i):(e.set(r,a),this.#tf(e,t-1,i,s))}#th(e,t,r,n){for(;t>0;){if(this.#eb>=n.length)return this.#th.bind(this,e,t,r);let i=this.#tm(r,n);if("function"==typeof i)return this.#tb.bind(this,e,t,i,r);if(this.#eb>=n.length)return this.#tv.bind(this,e,t,i,this.#tt.bind(this,r),r);let s=this.#tt(r,n);if("function"==typeof s)return this.#tv.bind(this,e,t,i,s,r);e[i]=s,--t}return e}#tb(e,t,r,n,i){let s=r(i);if("function"==typeof s)return this.#tb.bind(this,e,t,s,n);if(this.#eb>=i.length)return this.#tv.bind(this,e,t,s,this.#tt.bind(this,n),n);let a=this.#tt(n,i);return"function"==typeof a?this.#tv.bind(this,e,t,s,a,n):(e[s]=a,this.#th(e,t-1,n,i))}#tv(e,t,r,n,i,s){let a=n(s);return"function"==typeof a?this.#tv.bind(this,e,t,r,a,i):(e[r]=a,this.#th(e,t-1,i,s))}}r.Decoder=o,n=o},19029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.scriptSha1=r.defineScript=void 0;let n=e.r(66680);function i(e){return(0,n.createHash)("sha1").update(e).digest("hex")}r.defineScript=function(e){return{...e,SHA1:i(e.SCRIPT)}},r.scriptSha1=i},3719,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","CAT"),t&&e.push(t)},transformReply:void 0}},58652,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","DELUSER"),e.pushVariadic(t)},transformReply:void 0}},44588,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ACL","DRYRUN",t,...r)},transformReply:void 0}},4785,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","GENPASS"),t&&e.push(t.toString())},transformReply:void 0}},25819,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","GETUSER",t)},transformReply:{2:e=>({flags:e[1],passwords:e[3],commands:e[5],keys:e[7],channels:e[9],selectors:e[11]?.map(e=>({commands:e[1],keys:e[3],channels:e[5]}))}),3:void 0}}},81721,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","LIST")},transformReply:void 0}},67619,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","LOAD")},transformReply:void 0}},85454,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BasicCommandParser=void 0,r.BasicCommandParser=class{#tE=[];#tS=[];preserve;get redisArgs(){return this.#tE}get keys(){return this.#tS}get firstKey(){return this.#tS[0]}get cacheKey(){let e=Array(2*this.#tE.length);for(let t=0;t<this.#tE.length;t++)e[t]=this.#tE[t].length,e[t+this.#tE.length]=this.#tE[t];return e.join("_")}push(...e){this.#tE.push(...e)}pushVariadic(e){if(Array.isArray(e))for(let t of e)this.push(t);else this.push(e)}pushVariadicWithLength(e){Array.isArray(e)?this.#tE.push(e.length.toString()):this.#tE.push("1"),this.pushVariadic(e)}pushVariadicNumber(e){if(Array.isArray(e))for(let t of e)this.push(t.toString());else this.push(e.toString())}pushKey(e){this.#tS.push(e),this.#tE.push(e)}pushKeysLength(e){Array.isArray(e)?this.#tE.push(e.length.toString()):this.#tE.push("1"),this.pushKeys(e)}pushKeys(e){Array.isArray(e)?(this.#tS.push(...e),this.#tE.push(...e)):(this.#tS.push(e),this.#tE.push(e))}}},82274,(e,t,r)=>{"use strict";var n,i,s;Object.defineProperty(r,"__esModule",{value:!0}),r.transformRedisJsonNullReply=r.transformRedisJsonReply=r.transformRedisJsonArgument=r.transformStreamsMessagesReplyResp3=r.transformStreamsMessagesReplyResp2=r.transformStreamMessagesReply=r.transformStreamMessageNullReply=r.transformStreamMessageReply=r.parseArgs=r.parseZKeysArguments=r.transformRangeReply=r.parseSlotRangesArguments=r.transformFunctionListItemReply=r.RedisFunctionFlags=r.transformCommandReply=r.CommandCategories=r.CommandFlags=r.parseOptionalVariadicArgument=r.pushVariadicArgument=r.pushVariadicNumberArguments=r.pushVariadicArguments=r.pushEvalArguments=r.evalFirstKeyIndex=r.transformPXAT=r.transformEXAT=r.transformSortedSetReply=r.transformTuplesReply=r.createTransformTuplesReplyFunc=r.transformTuplesToMap=r.transformNullableDoubleReply=r.createTransformNullableDoubleReplyResp2Func=r.transformDoubleArrayReply=r.createTransformDoubleReplyResp2Func=r.transformDoubleReply=r.transformStringDoubleArgument=r.transformDoubleArgument=r.transformBooleanArrayReply=r.transformBooleanReply=r.isArrayReply=r.isNullReply=void 0;let a=e.r(85454),o=e.r(85366);function u(e){return null===e}function l(e){switch(e){case 1/0:return"+inf";case-1/0:return"-inf";default:return e.toString()}}function c(e,t){return n=>r.transformDoubleReply[2](n,e,t)}function d(e,t,r){switch(r?r[o.RESP_TYPES.MAP]:void 0){case Array:return e;case Map:{let t=new Map;for(let r=0;r<e.length;r+=2)t.set(e[r].toString(),e[r+1]);return t}default:{let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t}}}function p(e,t){e.push(t.start.toString(),t.end.toString())}function f(e){return"string"==typeof e||e instanceof Buffer}function h(e,t){let[r,n]=t;return{id:r,message:d(n,void 0,e)}}function m(e,t){return e.map(h.bind(void 0,t))}function g(e){return JSON.parse(e.toString())}r.isNullReply=u,r.isArrayReply=function(e){return Array.isArray(e)},r.transformBooleanReply={2:e=>1===e,3:void 0},r.transformBooleanArrayReply={2:e=>e.map(r.transformBooleanReply[2]),3:void 0},r.transformDoubleArgument=l,r.transformStringDoubleArgument=function(e){return"number"!=typeof e?e:l(e)},r.transformDoubleReply={2:(e,t,r)=>{if((r?r[o.RESP_TYPES.DOUBLE]:void 0)===String)return e;{let t;switch(e.toString()){case"inf":case"+inf":t=1/0;case"-inf":t=-1/0;case"nan":t=NaN;default:t=Number(e)}return t}},3:void 0},r.createTransformDoubleReplyResp2Func=c,r.transformDoubleArrayReply={2:(e,t,r)=>e.map(c(t,r)),3:void 0},r.createTransformNullableDoubleReplyResp2Func=function(e,t){return n=>r.transformNullableDoubleReply[2](n,e,t)},r.transformNullableDoubleReply={2:(e,t,n)=>null===e?null:r.transformDoubleReply[2](e,t,n),3:void 0},r.transformTuplesToMap=function(e,t){let r=Object.create(null);for(let n=0;n<e.length;n+=2)r[e[n].toString()]=t(e[n+1]);return r},r.createTransformTuplesReplyFunc=function(e,t){return r=>d(r,e,t)},r.transformTuplesReply=d,r.transformSortedSetReply={2:(e,t,n)=>{let i=[];for(let s=0;s<e.length;s+=2)i.push({value:e[s],score:r.transformDoubleReply[2](e[s+1],t,n)});return i},3:e=>e.map(e=>{let[t,r]=e;return{value:t,score:r}})},r.transformEXAT=function(e){return("number"==typeof e?e:Math.floor(e.getTime()/1e3)).toString()},r.transformPXAT=function(e){return("number"==typeof e?e:e.getTime()).toString()},r.evalFirstKeyIndex=function(e){return e?.keys?.[0]},r.pushEvalArguments=function(e,t){return t?.keys?e.push(t.keys.length.toString(),...t.keys):e.push("0"),t?.arguments&&e.push(...t.arguments),e},r.pushVariadicArguments=function(e,t){return Array.isArray(t)?e=e.concat(t):e.push(t),e},r.pushVariadicNumberArguments=function(e,t){if(Array.isArray(t))for(let r of t)e.push(r.toString());else e.push(t.toString());return e},r.pushVariadicArgument=function(e,t){return Array.isArray(t)?e.push(t.length.toString(),...t):e.push("1",t),e},r.parseOptionalVariadicArgument=function(e,t,r){void 0!==r&&(e.push(t),e.pushVariadicWithLength(r))},function(e){e.WRITE="write",e.READONLY="readonly",e.DENYOOM="denyoom",e.ADMIN="admin",e.PUBSUB="pubsub",e.NOSCRIPT="noscript",e.RANDOM="random",e.SORT_FOR_SCRIPT="sort_for_script",e.LOADING="loading",e.STALE="stale",e.SKIP_MONITOR="skip_monitor",e.ASKING="asking",e.FAST="fast",e.MOVABLEKEYS="movablekeys"}(n||(r.CommandFlags=n={})),function(e){e.KEYSPACE="@keyspace",e.READ="@read",e.WRITE="@write",e.SET="@set",e.SORTEDSET="@sortedset",e.LIST="@list",e.HASH="@hash",e.STRING="@string",e.BITMAP="@bitmap",e.HYPERLOGLOG="@hyperloglog",e.GEO="@geo",e.STREAM="@stream",e.PUBSUB="@pubsub",e.ADMIN="@admin",e.FAST="@fast",e.SLOW="@slow",e.BLOCKING="@blocking",e.DANGEROUS="@dangerous",e.CONNECTION="@connection",e.TRANSACTION="@transaction",e.SCRIPTING="@scripting"}(i||(r.CommandCategories=i={})),r.transformCommandReply=function([e,t,r,n,i,s,a]){return{name:e,arity:t,flags:new Set(r),firstKeyIndex:n,lastKeyIndex:i,step:s,categories:new Set(a)}},function(e){e.NO_WRITES="no-writes",e.ALLOW_OOM="allow-oom",e.ALLOW_STALE="allow-stale",e.NO_CLUSTER="no-cluster"}(s||(r.RedisFunctionFlags=s={})),r.transformFunctionListItemReply=function(e){return{libraryName:e[1],engine:e[3],functions:e[5].map(e=>({name:e[1],description:e[3],flags:e[5]}))}},r.parseSlotRangesArguments=function(e,t){if(Array.isArray(t))for(let r of t)p(e,r);else p(e,t)},r.transformRangeReply=function([e,t]){return{start:e,end:t}},r.parseZKeysArguments=function(e,t){if(Array.isArray(t)){if(e.push(t.length.toString()),t.length)if(f(t[0]))e.pushKeys(t);else{for(let r=0;r<t.length;r++)e.pushKey(t[r].key);e.push("WEIGHTS");for(let r=0;r<t.length;r++)e.push(l(t[r].weight))}}else e.push("1"),f(t)?e.pushKey(t):(e.pushKey(t.key),e.push("WEIGHTS",l(t.weight)))},r.parseArgs=function(e,...t){let r=new a.BasicCommandParser;e.parseCommand(r,...t);let n=r.redisArgs;return r.preserve&&(n.preserve=r.preserve),n},r.transformStreamMessageReply=h,r.transformStreamMessageNullReply=function(e,t){return u(t)?t:h(e,t)},r.transformStreamMessagesReply=m,r.transformStreamsMessagesReplyResp2=function(e,t,r){if(null===e)return null;r&&r[o.RESP_TYPES.MAP];{let t=[];for(let r=0;r<e.length;r++){let n=e[r];t.push({name:n[0],messages:m(n[1])})}return t}},r.transformStreamsMessagesReplyResp3=function(e){if(null===e)return null;if(e instanceof Map){let t=new Map;for(let[r,n]of e)t.set(r.toString(),m(n));return t}if(e instanceof Array){let t=[];for(let r=0;r<e.length;r+=2){let n=e[r],i=e[r+1];t.push(n),t.push(m(i))}return t}{let t=Object.create(null);for(let[r,n]of Object.entries(e))t[r]=m(n);return t}},r.transformRedisJsonArgument=function(e){return JSON.stringify(e)},r.transformRedisJsonReply=g,r.transformRedisJsonNullReply=function(e){return u(e)?e:g(e)}},31101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ACL","LOG"),void 0!=t&&e.push(t.toString())},transformReply:{2:(e,t,r)=>e.map(e=>({count:e[1],reason:e[3],context:e[5],object:e[7],username:e[9],"age-seconds":n.transformDoubleReply[2](e[11],t,r),"client-info":e[13],"entry-id":e[15],"timestamp-created":e[17],"timestamp-last-updated":e[19]})),3:void 0}}},93099,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:n(e.r(31101)).default.IS_READ_ONLY,parseCommand(e){e.push("ACL","LOG","RESET")},transformReply:void 0}},23856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","SAVE")},transformReply:void 0}},83886,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ACL","SETUSER",t),e.pushVariadic(r)},transformReply:void 0}},48185,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","USERS")},transformReply:void 0}},46332,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ACL","WHOAMI")},transformReply:void 0}},70489,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("APPEND",t,r)},transformReply:void 0}},68990,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ASKING_CMD=void 0,r.ASKING_CMD="ASKING",r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push(r.ASKING_CMD)},transformReply:void 0}},69534,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,{username:t,password:r}){e.push("AUTH"),void 0!==t&&e.push(t),e.push(r)},transformReply:void 0}},39959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("BGREWRITEAOF")},transformReply:void 0}},13318,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("BGSAVE"),t?.SCHEDULE&&e.push("SCHEDULE")},transformReply:void 0}},86846,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BITCOUNT"),e.pushKey(t),r&&(e.push(r.start.toString()),e.push(r.end.toString()),r.mode&&e.push(r.mode))},transformReply:void 0}},13944,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){for(let n of(e.push("BITFIELD_RO"),e.pushKey(t),r))e.push("GET"),e.push(n.encoding),e.push(n.offset.toString())},transformReply:void 0}},48412,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){for(let n of(e.push("BITFIELD"),e.pushKey(t),r))switch(n.operation){case"GET":e.push("GET",n.encoding,n.offset.toString());break;case"SET":e.push("SET",n.encoding,n.offset.toString(),n.value.toString());break;case"INCRBY":e.push("INCRBY",n.encoding,n.offset.toString(),n.increment.toString());break;case"OVERFLOW":e.push("OVERFLOW",n.behavior)}},transformReply:void 0}},92168,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("BITOP",t),e.pushKey(r),e.pushKeys(n)},transformReply:void 0}},5504,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n,i,s){e.push("BITPOS"),e.pushKey(t),e.push(r.toString()),void 0!==n&&e.push(n.toString()),void 0!==i&&e.push(i.toString()),s&&e.push(s)},transformReply:void 0}},67291,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i,s){e.push("BLMOVE"),e.pushKeys([t,r]),e.push(n,i,s.toString())},transformReply:void 0}},9386,(e,t,r)=>{"use strict";function n(e,t,r,n){e.pushKeysLength(t),e.push(r),n?.COUNT!==void 0&&e.push("COUNT",n.COUNT.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.parseLMPopArguments=void 0,r.parseLMPopArguments=n,r.default={IS_READ_ONLY:!1,parseCommand(e,...t){e.push("LMPOP"),n(e,...t)},transformReply:void 0}},80358,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(9386));r.default={IS_READ_ONLY:!1,parseCommand(e,t,...r){e.push("BLMPOP",t.toString()),(0,a.parseLMPopArguments)(e,...r)},transformReply:a.default.transformReply}},94750,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BLPOP"),e.pushKeys(t),e.push(r.toString())},transformReply:e=>null===e?null:{key:e[0],element:e[1]}}},1655,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BRPOP"),e.pushKeys(t),e.push(r.toString())},transformReply:n(e.r(94750)).default.transformReply}},43611,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("BRPOPLPUSH"),e.pushKeys([t,r]),e.push(n.toString())},transformReply:void 0}},39525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseZMPopArguments=void 0;let n=e.r(82274);function i(e,t,r,n){e.pushKeysLength(t),e.push(r),n?.COUNT&&e.push("COUNT",n.COUNT.toString())}r.parseZMPopArguments=i,r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("ZMPOP"),i(e,t,r,n)},transformReply:{2:(e,t,r)=>null===e?null:{key:e[0],members:e[1].map(e=>{let[i,s]=e;return{value:i,score:n.transformDoubleReply[2](s,t,r)}})},3:e=>null===e?null:{key:e[0],members:n.transformSortedSetReply[3](e[1])}}}},17624,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(39525));r.default={IS_READ_ONLY:!1,parseCommand(e,t,...r){e.push("BZMPOP",t.toString()),(0,a.parseZMPopArguments)(e,...r)},transformReply:a.default.transformReply}},70705,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BZPOPMAX"),e.pushKeys(t),e.push(r.toString())},transformReply:{2:(e,t,r)=>null===e?null:{key:e[0],value:e[1],score:n.transformDoubleReply[2](e[2],t,r)},3:e=>null===e?null:{key:e[0],value:e[1],score:e[2]}}}},62384,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(70705));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r){e.push("BZPOPMIN"),e.pushKeys(t),e.push(r.toString())},transformReply:i.default.transformReply}},85920,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","CACHING",t?"YES":"NO")},transformReply:void 0}},50725,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","GETNAME")},transformReply:void 0}},55085,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","GETREDIR")},transformReply:void 0}},19199,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","ID")},transformReply:void 0}},10589,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=/([^\s=]+)=([^\s]*)/g;r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","INFO")},transformReply(e){let t={};for(let r of e.toString().matchAll(n))t[r[1]]=r[2];let r={id:Number(t.id),addr:t.addr,fd:Number(t.fd),name:t.name,age:Number(t.age),idle:Number(t.idle),flags:t.flags,db:Number(t.db),sub:Number(t.sub),psub:Number(t.psub),multi:Number(t.multi),qbuf:Number(t.qbuf),qbufFree:Number(t["qbuf-free"]),argvMem:Number(t["argv-mem"]),obl:Number(t.obl),oll:Number(t.oll),omem:Number(t.omem),totMem:Number(t["tot-mem"]),events:t.events,cmd:t.cmd,user:t.user,libName:t["lib-name"],libVer:t["lib-ver"]};return void 0!==t.laddr&&(r.laddr=t.laddr),void 0!==t.redir&&(r.redir=Number(t.redir)),void 0!==t.ssub&&(r.ssub=Number(t.ssub)),void 0!==t["multi-mem"]&&(r.multiMem=Number(t["multi-mem"])),void 0!==t.resp&&(r.resp=Number(t.resp)),r}}},61450,(e,t,r)=>{"use strict";function n(e,t){if(t===r.CLIENT_KILL_FILTERS.SKIP_ME)return void e.push("SKIPME");switch(e.push(t.filter),t.filter){case r.CLIENT_KILL_FILTERS.ADDRESS:e.push(t.address);break;case r.CLIENT_KILL_FILTERS.LOCAL_ADDRESS:e.push(t.localAddress);break;case r.CLIENT_KILL_FILTERS.ID:e.push("number"==typeof t.id?t.id.toString():t.id);break;case r.CLIENT_KILL_FILTERS.TYPE:e.push(t.type);break;case r.CLIENT_KILL_FILTERS.USER:e.push(t.username);break;case r.CLIENT_KILL_FILTERS.SKIP_ME:e.push(t.skipMe?"yes":"no");break;case r.CLIENT_KILL_FILTERS.MAXAGE:e.push(t.maxAge.toString())}}Object.defineProperty(r,"__esModule",{value:!0}),r.CLIENT_KILL_FILTERS=void 0,r.CLIENT_KILL_FILTERS={ADDRESS:"ADDR",LOCAL_ADDRESS:"LADDR",ID:"ID",TYPE:"TYPE",USER:"USER",SKIP_ME:"SKIPME",MAXAGE:"MAXAGE"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){if(e.push("CLIENT","KILL"),Array.isArray(t))for(let r of t)n(e,r);else n(e,t)},transformReply:void 0}},3354,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(10589));r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","LIST"),t&&(void 0!==t.TYPE?e.push("TYPE",t.TYPE):(e.push("ID"),e.pushVariadic(t.ID)))},transformReply(e){let t=e.toString().split("\n"),r=t.length-1,n=[];for(let e=0;e<r;e++)n.push(i.default.transformReply(t[e]));return n}}},91617,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","NO-EVICT",t?"ON":"OFF")},transformReply:void 0}},22313,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","NO-TOUCH",t?"ON":"OFF")},transformReply:void 0}},57976,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLIENT","PAUSE",t.toString()),r&&e.push(r)},transformReply:void 0}},22567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLIENT","SETNAME",t)},transformReply:void 0}},30678,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){if(e.push("CLIENT","TRACKING",t?"ON":"OFF"),t){var n,i,s;if(r?.REDIRECT&&e.push("REDIRECT",r.REDIRECT.toString()),n=r,n?.BCAST===!0){if(e.push("BCAST"),r?.PREFIX)if(Array.isArray(r.PREFIX))for(let t of r.PREFIX)e.push("PREFIX",t);else e.push("PREFIX",r.PREFIX)}else{(i=r,i?.OPTIN===!0)?e.push("OPTIN"):(s=r,s?.OPTOUT===!0&&e.push("OPTOUT"))}r?.NOLOOP&&e.push("NOLOOP")}},transformReply:void 0}},55015,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","TRACKINGINFO")},transformReply:{2:e=>({flags:e[1],redirect:e[3],prefixes:e[5]}),3:void 0}}},66228,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLIENT","UNPAUSE")},transformReply:void 0}},40030,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","ADDSLOTS"),e.pushVariadicNumber(t)},transformReply:void 0}},63611,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","ADDSLOTSRANGE"),(0,n.parseSlotRangesArguments)(e,t)},transformReply:void 0}},5659,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","BUMPEPOCH")},transformReply:void 0}},8253,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","COUNT-FAILURE-REPORTS",t)},transformReply:void 0}},39202,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","COUNTKEYSINSLOT",t.toString())},transformReply:void 0}},16943,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","DELSLOTS"),e.pushVariadicNumber(t)},transformReply:void 0}},72319,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","DELSLOTSRANGE"),(0,n.parseSlotRangesArguments)(e,t)},transformReply:void 0}},28531,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FAILOVER_MODES=void 0,r.FAILOVER_MODES={FORCE:"FORCE",TAKEOVER:"TAKEOVER"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","FAILOVER"),t?.mode&&e.push(t.mode)},transformReply:void 0}},56364,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","FLUSHSLOTS")},transformReply:void 0}},34603,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","FORGET",t)},transformReply:void 0}},82105,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLUSTER","GETKEYSINSLOT",t.toString(),r.toString())},transformReply:void 0}},12726,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","INFO")},transformReply:void 0}},51370,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","KEYSLOT",t)},transformReply:void 0}},88296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","LINKS")},transformReply:{2:e=>e.map(e=>({direction:e[1],node:e[3],"create-time":e[5],events:e[7],"send-buffer-allocated":e[9],"send-buffer-used":e[11]})),3:void 0}}},27017,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CLUSTER","MEET",t,r.toString())},transformReply:void 0}},21656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","MYID")},transformReply:void 0}},86307,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","MYSHARDID")},transformReply:void 0}},97003,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","NODES")},transformReply:void 0}},38813,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","REPLICAS",t)},transformReply:void 0}},60071,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","REPLICATE",t)},transformReply:void 0}},36757,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","RESET"),t?.mode&&e.push(t.mode)},transformReply:void 0}},73556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","SAVECONFIG")},transformReply:void 0}},54334,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CLUSTER","SET-CONFIG-EPOCH",t.toString())},transformReply:void 0}},33740,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CLUSTER_SLOT_STATES=void 0,r.CLUSTER_SLOT_STATES={IMPORTING:"IMPORTING",MIGRATING:"MIGRATING",STABLE:"STABLE",NODE:"NODE"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("CLUSTER","SETSLOT",t.toString(),r),n&&e.push(n)},transformReply:void 0}},91242,(e,t,r)=>{"use strict";function n(e){let[t,r,n]=e;return{host:t,port:r,id:n}}Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CLUSTER","SLOTS")},transformReply:e=>e.map(([e,t,r,...i])=>({from:e,to:t,master:n(r),replicas:i.map(n)}))}},72220,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("COMMAND","COUNT")},transformReply:void 0}},42911,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","GETKEYS"),e.push(...t)},transformReply:void 0}},54844,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","GETKEYSANDFLAGS"),e.push(...t)},transformReply:e=>e.map(e=>{let[t,r]=e;return{key:t,flags:r}})}},66916,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","INFO",...t)},transformReply:e=>e.map(e=>e?(0,n.transformCommandReply)(e):null)}},75616,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.COMMAND_LIST_FILTER_BY=void 0,r.COMMAND_LIST_FILTER_BY={MODULE:"MODULE",ACLCAT:"ACLCAT",PATTERN:"PATTERN"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("COMMAND","LIST"),t?.FILTERBY&&e.push("FILTERBY",t.FILTERBY.type,t.FILTERBY.value)},transformReply:void 0}},5170,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("COMMAND")},transformReply:e=>e.map(n.transformCommandReply)}},86361,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("CONFIG","GET"),e.pushVariadic(t)},transformReply:{2:e.r(82274).transformTuplesReply,3:void 0}}},81270,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CONFIG","RESETSTAT")},transformReply:void 0}},12400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("CONFIG","REWRITE")},transformReply:void 0}},66326,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,...[t,r]){if(e.push("CONFIG","SET"),"string"==typeof t||t instanceof Buffer)e.push(t,r);else for(let[r,n]of Object.entries(t))e.push(r,n)},transformReply:void 0}},945,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("COPY"),e.pushKeys([t,r]),n?.DB&&e.push("DB",n.DB.toString()),n?.REPLACE&&e.push("REPLACE")},transformReply:void 0}},17886,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("DBSIZE")},transformReply:void 0}},51909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("DECR"),e.pushKey(t)},transformReply:void 0}},34203,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("DECRBY"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},19926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("DEL"),e.pushKeys(t)},transformReply:void 0}},73086,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("DUMP"),e.pushKey(t)},transformReply:void 0}},8377,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ECHO",t)},transformReply:void 0}},86826,(e,t,r)=>{"use strict";function n(e,t,r){e.push(t),r?.keys?e.pushKeysLength(r.keys):e.push("0"),r?.arguments&&e.push(...r.arguments)}Object.defineProperty(r,"__esModule",{value:!0}),r.parseEvalArguments=void 0,r.parseEvalArguments=n,r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("EVAL"),n(...e)},transformReply:void 0}},77029,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(86826));r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("EVAL_RO"),(0,a.parseEvalArguments)(...e)},transformReply:a.default.transformReply}},4790,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(86826));r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("EVALSHA_RO"),(0,a.parseEvalArguments)(...e)},transformReply:a.default.transformReply}},62792,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(86826));r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("EVALSHA"),(0,a.parseEvalArguments)(...e)},transformReply:a.default.transformReply}},95283,(e,t,r)=>{"use strict";function n(e,{longitude:t,latitude:r,member:n}){e.push(t.toString(),r.toString(),n)}Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){if(e.push("GEOADD"),e.pushKey(t),i?.condition?e.push(i.condition):i?.NX?e.push("NX"):i?.XX&&e.push("XX"),i?.CH&&e.push("CH"),Array.isArray(r))for(let t of r)n(e,t);else n(e,r)},transformReply:void 0}},21051,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n,i){e.push("GEODIST"),e.pushKey(t),e.push(r,n),i&&e.push(i)},transformReply:e=>null===e?null:Number(e)}},69016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GEOHASH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},60699,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GEOPOS"),e.pushKey(t),e.pushVariadic(r)},transformReply:e=>e.map(e=>null===e?null:{longitude:e[0],latitude:e[1]})}},94413,(e,t,r)=>{"use strict";function n(e,t,r,n,s){e.pushKey(t),"string"==typeof r||r instanceof Buffer?e.push("FROMMEMBER",r):e.push("FROMLONLAT",r.longitude.toString(),r.latitude.toString()),"radius"in n?e.push("BYRADIUS",n.radius.toString(),n.unit):e.push("BYBOX",n.width.toString(),n.height.toString(),n.unit),i(e,s)}function i(e,t){t?.SORT&&e.push(t.SORT),t?.COUNT&&("number"==typeof t.COUNT?e.push("COUNT",t.COUNT.toString()):(e.push("COUNT",t.COUNT.value.toString()),t.COUNT.ANY&&e.push("ANY")))}Object.defineProperty(r,"__esModule",{value:!0}),r.parseGeoSearchOptions=r.parseGeoSearchArguments=void 0,r.parseGeoSearchArguments=n,r.parseGeoSearchOptions=i,r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("GEOSEARCH"),n(e,t,r,i,s)},transformReply:void 0}},82653,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseGeoRadiusArguments=void 0;let n=e.r(94413);function i(e,t,r,i,s,a){e.pushKey(t),e.push(r.longitude.toString(),r.latitude.toString(),i.toString(),s),(0,n.parseGeoSearchOptions)(e,a)}r.parseGeoRadiusArguments=i,r.default={IS_READ_ONLY:!1,parseCommand:(...e)=>(e[0].push("GEORADIUS"),i(...e)),transformReply:void 0}},38822,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.GEO_REPLY_WITH=void 0;let i=n(e.r(94413));r.GEO_REPLY_WITH={DISTANCE:"WITHDIST",HASH:"WITHHASH",COORDINATES:"WITHCOORD"},r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r,n,s,a){i.default.parseCommand(e,t,r,n,a),e.push(...s),e.preserve=s},transformReply(e,t){let n=new Set(t),i=0,s=n.has(r.GEO_REPLY_WITH.DISTANCE)&&++i,a=n.has(r.GEO_REPLY_WITH.HASH)&&++i,o=n.has(r.GEO_REPLY_WITH.COORDINATES)&&++i;return e.map(e=>{let t={member:e[0]};if(s&&(t.distance=e[s]),a&&(t.hash=e[a]),o){let[r,n]=e[o];t.coordinates={longitude:r,latitude:n}}return t})}}},5045,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.parseGeoRadiusWithArguments=void 0;let o=s(e.r(82653)),u=a(e.r(38822));function l(e,t,r,n,i,s,a){(0,o.parseGeoRadiusArguments)(e,t,r,n,i,a),e.pushVariadic(s),e.preserve=s}r.parseGeoRadiusWithArguments=l,r.default={IS_READ_ONLY:o.default.IS_READ_ONLY,parseCommand(e,t,r,n,i,s,a){e.push("GEORADIUS"),l(e,t,r,n,i,s,a)},transformReply:u.default.transformReply}},40592,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(5045);r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUS_RO"),(0,i.parseGeoRadiusWithArguments)(...e)},transformReply:n(e.r(5045)).default.transformReply}},63963,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(82653));r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUS_RO"),(0,a.parseGeoRadiusArguments)(...e)},transformReply:a.default.transformReply}},79009,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(82653));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(e,t,r,n,i,s,o){e.push("GEORADIUS"),(0,a.parseGeoRadiusArguments)(e,t,r,n,i,o),o?.STOREDIST?e.push("STOREDIST"):e.push("STORE"),e.pushKey(s)},transformReply:void 0}},7509,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseGeoRadiusByMemberArguments=void 0;let n=e.r(94413);function i(e,t,r,i,s,a){e.pushKey(t),e.push(r,i.toString(),s),(0,n.parseGeoSearchOptions)(e,a)}r.parseGeoRadiusByMemberArguments=i,r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,s,a){e.push("GEORADIUSBYMEMBER"),i(e,t,r,n,s,a)},transformReply:void 0}},84845,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.parseGeoRadiusByMemberWithArguments=void 0;let i=n(e.r(7509)),s=e.r(94413),a=n(e.r(38822));function o(e,t,r,n,i,a,o){e.pushKey(t),e.push(r,n.toString(),i),(0,s.parseGeoSearchOptions)(e,o),e.push(...a),e.preserve=a}r.parseGeoRadiusByMemberWithArguments=o,r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r,n,i,s,a){e.push("GEORADIUSBYMEMBER"),o(e,t,r,n,i,s,a)},transformReply:a.default.transformReply}},28002,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(84845));r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUSBYMEMBER_RO"),(0,a.parseGeoRadiusByMemberWithArguments)(...e)},transformReply:a.default.transformReply}},35093,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(7509));r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(...e){e[0].push("GEORADIUSBYMEMBER_RO"),(0,a.parseGeoRadiusByMemberArguments)(...e)},transformReply:a.default.transformReply}},42429,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(7509));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(e,t,r,n,i,s,o){e.push("GEORADIUSBYMEMBER"),(0,a.parseGeoRadiusByMemberArguments)(e,t,r,n,i,o),o?.STOREDIST?e.push("STOREDIST"):e.push("STORE"),e.pushKey(s)},transformReply:void 0}},10572,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(94413);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,s,a){e.push("GEOSEARCHSTORE"),void 0!==t&&e.pushKey(t),(0,n.parseGeoSearchArguments)(e,r,i,s,a),a?.STOREDIST&&e.push("STOREDIST")},transformReply:void 0}},52913,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("GET"),e.pushKey(t)},transformReply:void 0}},36536,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GETBIT"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},89322,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("GETDEL"),e.pushKey(t)},transformReply:void 0}},64865,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){if(e.push("GETEX"),e.pushKey(t),"type"in r)switch(r.type){case"EX":case"PX":e.push(r.type,r.value.toString());break;case"EXAT":case"PXAT":e.push(r.type,(0,n.transformEXAT)(r.value));break;case"PERSIST":e.push("PERSIST")}else"EX"in r?e.push("EX",r.EX.toString()):"PX"in r?e.push("PX",r.PX.toString()):"EXAT"in r?e.push("EXAT",(0,n.transformEXAT)(r.EXAT)):"PXAT"in r?e.push("PXAT",(0,n.transformPXAT)(r.PXAT)):e.push("PERSIST")},transformReply:void 0}},22047,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("GETRANGE"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},91044,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("GETSET"),e.pushKey(t),e.push(r)},transformReply:void 0}},84833,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("EXISTS"),e.pushKeys(t)},transformReply:void 0}},25235,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("EXPIRE"),e.pushKey(t),e.push(r.toString()),n&&e.push(n)},transformReply:void 0}},53139,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t,r,i){e.push("EXPIREAT"),e.pushKey(t),e.push((0,n.transformEXAT)(r)),i&&e.push(i)},transformReply:void 0}},48600,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("EXPIRETIME"),e.pushKey(t)},transformReply:void 0}},15660,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.REDIS_FLUSH_MODES=void 0,r.REDIS_FLUSH_MODES={ASYNC:"ASYNC",SYNC:"SYNC"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FLUSHALL"),t&&e.push(t)},transformReply:void 0}},32491,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FLUSHDB"),t&&e.push(t)},transformReply:void 0}},70265,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(86826));r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("FCALL"),(0,a.parseEvalArguments)(...e)},transformReply:a.default.transformReply}},39,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(86826));r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("FCALL_RO"),(0,a.parseEvalArguments)(...e)},transformReply:a.default.transformReply}},89083,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","DELETE",t)},transformReply:void 0}},4919,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","DUMP")},transformReply:void 0}},63289,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","FLUSH"),t&&e.push(t)},transformReply:void 0}},54871,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","KILL")},transformReply:void 0}},627,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t){e.push("FUNCTION","LIST"),t?.LIBRARYNAME&&e.push("LIBRARYNAME",t.LIBRARYNAME)},transformReply:{2:e=>e.map(e=>({library_name:e[1],engine:e[3],functions:e[5].map(e=>({name:e[1],description:e[3],flags:e[5]}))})),3:void 0}}},86271,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(627));r.default={NOT_KEYED_COMMAND:i.default.NOT_KEYED_COMMAND,IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){i.default.parseCommand(...e),e[0].push("WITHCODE")},transformReply:{2:e=>e.map(e=>({library_name:e[1],engine:e[3],functions:e[5].map(e=>({name:e[1],description:e[3],flags:e[5]})),library_code:e[7]})),3:void 0}}},38035,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("FUNCTION","LOAD"),r?.REPLACE&&e.push("REPLACE"),e.push(t)},transformReply:void 0}},2091,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("FUNCTION","RESTORE",t),r?.mode&&e.push(r.mode)},transformReply:void 0}},11499,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FUNCTION","STATS")},transformReply:{2:e=>({running_script:function(e){return(0,n.isNullReply)(e)?null:{name:e[1],command:e[3],duration_ms:e[5]}}(e[1]),engines:function(e){let t=Object.create(null);for(let r=0;r<e.length;r++){let n=e[r],i=e[++r];t[n.toString()]={libraries_count:i[1],functions_count:i[3]}}return t}(e[3])}),3:void 0}}},52431,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("HDEL"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},35107,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("HELLO"),t&&(e.push(t.toString()),r?.AUTH&&e.push("AUTH",r.AUTH.username,r.AUTH.password),r?.SETNAME&&e.push("SETNAME",r.SETNAME))},transformReply:{2:e=>({server:e[1],version:e[3],proto:e[5],id:e[7],mode:e[9],role:e[11],modules:e[13]}),3:void 0}}},5912,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HEXISTS"),e.pushKey(t),e.push(r)},transformReply:void 0}},98650,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HASH_EXPIRATION=void 0,r.HASH_EXPIRATION={FIELD_NOT_EXISTS:-2,CONDITION_NOT_MET:0,UPDATED:1,DELETED:2},r.default={parseCommand(e,t,r,n,i){e.push("HEXPIRE"),e.pushKey(t),e.push(n.toString()),i&&e.push(i),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},84333,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t,r,i,s){e.push("HEXPIREAT"),e.pushKey(t),e.push((0,n.transformEXAT)(i)),s&&e.push(s),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},54539,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HASH_EXPIRATION_TIME=void 0,r.HASH_EXPIRATION_TIME={FIELD_NOT_EXISTS:-2,NO_EXPIRATION:-1},r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HEXPIRETIME"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},44023,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HGET"),e.pushKey(t),e.push(r)},transformReply:void 0}},36700,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HGETALL"),e.pushKey(t)},TRANSFORM_LEGACY_REPLY:!0,transformReply:{2:e.r(82274).transformTuplesReply,3:void 0}}},49422,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("HGETDEL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},82956,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("HGETEX"),e.pushKey(t),n?.expiration&&("string"==typeof n.expiration?e.push(n.expiration):"PERSIST"===n.expiration.type?e.push("PERSIST"):e.push(n.expiration.type,n.expiration.value.toString())),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},69669,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("HINCRBY"),e.pushKey(t),e.push(r,n.toString())},transformReply:void 0}},77904,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("HINCRBYFLOAT"),e.pushKey(t),e.push(r,n.toString())},transformReply:void 0}},28348,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HKEYS"),e.pushKey(t)},transformReply:void 0}},96115,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HLEN"),e.pushKey(t)},transformReply:void 0}},50470,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HMGET"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},37250,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("HPERSIST"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},85951,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n,i){e.push("HPEXPIRE"),e.pushKey(t),e.push(n.toString()),i&&e.push(i),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},7136,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("HPEXPIREAT"),e.pushKey(t),e.push((0,n.transformPXAT)(i)),s&&e.push(s),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},5673,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HPEXPIRETIME"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},47130,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HPTTL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},47433,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HRANDFIELD"),e.pushKey(t),e.push(r.toString(),"WITHVALUES")},transformReply:{2:e=>{let t=[],r=0;for(;r<e.length;)t.push({field:e[r++],value:e[r++]});return t},3:e=>e.map(e=>{let[t,r]=e;return{field:t,value:r}})}}},20136,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HRANDFIELD"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},86601,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("HRANDFIELD"),e.pushKey(t)},transformReply:void 0}},44477,(e,t,r)=>{"use strict";function n(e,t,r){e.push(t),r?.MATCH&&e.push("MATCH",r.MATCH),r?.COUNT&&e.push("COUNT",r.COUNT.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.pushScanArguments=r.parseScanArguments=void 0,r.parseScanArguments=n,r.pushScanArguments=function(e,t,r){return e.push(t.toString()),r?.MATCH&&e.push("MATCH",r.MATCH),r?.COUNT&&e.push("COUNT",r.COUNT.toString()),e},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SCAN"),n(e,t,r),r?.TYPE&&e.push("TYPE",r.TYPE)},transformReply:([e,t])=>({cursor:e,keys:t})}},15930,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(44477);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("HSCAN"),e.pushKey(t),(0,n.parseScanArguments)(e,r,i)},transformReply([e,t]){let r=[],n=0;for(;n<t.length;)r.push({field:t[n++],value:t[n++]});return{cursor:e,entries:r}}}},13794,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(15930));r.default={IS_READ_ONLY:!0,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("NOVALUES")},transformReply:([e,t])=>({cursor:e,fields:t})}},10745,(e,t,r)=>{"use strict";function n(e){return"number"==typeof e?e.toString():e}Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,...[t,r,i]){e.push("HSET"),e.pushKey(t),"string"==typeof r||"number"==typeof r||r instanceof Buffer?e.push(n(r),n(i)):r instanceof Map?function(e,t){for(let[r,i]of t.entries())e.push(n(r),n(i))}(e,r):Array.isArray(r)?function e(t,r){for(let i of r){if(Array.isArray(i)){e(t,i);continue}t.push(n(i))}}(e,r):function(e,t){for(let r of Object.keys(t))e.push(n(r),n(t[r]))}(e,r)},transformReply:void 0}},22515,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(85454);function i(e){return"number"==typeof e?e.toString():e}r.default={parseCommand(e,t,r,s){e.push("HSETEX"),e.pushKey(t),s?.mode&&e.push(s.mode),s?.expiration&&("string"==typeof s.expiration?e.push(s.expiration):"KEEPTTL"===s.expiration.type?e.push("KEEPTTL"):e.push(s.expiration.type,s.expiration.value.toString())),e.push("FIELDS"),r instanceof Map?function(e,t){for(let[r,n]of(e.push(t.size.toString()),t.entries()))e.push(i(r),i(n))}(e,r):Array.isArray(r)?function(e,t){let r=new n.BasicCommandParser;if(function e(t,r){for(let n of r){if(Array.isArray(n)){e(t,n);continue}t.push(i(n))}}(r,t),r.redisArgs.length%2!=0)throw Error("invalid number of arguments, expected key value ....[key value] pairs, got key without value");e.push((r.redisArgs.length/2).toString()),e.push(...r.redisArgs)}(e,r):function(e,t){let r=Object.keys(t).length;if(0==r)throw Error("object without keys");for(let n of(e.push(r.toString()),Object.keys(t)))e.push(i(n),i(t[n]))}(e,r)},transformReply:void 0}},98444,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("HSETNX"),e.pushKey(t),e.push(r,n)},transformReply:void 0}},17808,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HSTRLEN"),e.pushKey(t),e.push(r)},transformReply:void 0}},80583,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("HTTL"),e.pushKey(t),e.push("FIELDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},31532,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("HVALS"),e.pushKey(t)},transformReply:void 0}},74886,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("INCR"),e.pushKey(t)},transformReply:void 0}},68429,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("INCRBY"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},11629,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("INCRBYFLOAT"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},77824,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("INFO"),t&&e.push(t)},transformReply:void 0}},80727,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("KEYS",t)},transformReply:void 0}},8726,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LASTSAVE")},transformReply:void 0}},9821,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LATENCY","DOCTOR")},transformReply:void 0}},8673,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LATENCY_EVENTS=void 0,r.LATENCY_EVENTS={ACTIVE_DEFRAG_CYCLE:"active-defrag-cycle",AOF_FSYNC_ALWAYS:"aof-fsync-always",AOF_STAT:"aof-stat",AOF_REWRITE_DIFF_WRITE:"aof-rewrite-diff-write",AOF_RENAME:"aof-rename",AOF_WRITE:"aof-write",AOF_WRITE_ACTIVE_CHILD:"aof-write-active-child",AOF_WRITE_ALONE:"aof-write-alone",AOF_WRITE_PENDING_FSYNC:"aof-write-pending-fsync",COMMAND:"command",EXPIRE_CYCLE:"expire-cycle",EVICTION_CYCLE:"eviction-cycle",EVICTION_DEL:"eviction-del",FAST_COMMAND:"fast-command",FORK:"fork",RDB_UNLINK_TEMP_FILE:"rdb-unlink-temp-file"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LATENCY","GRAPH",t)},transformReply:void 0}},51779,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LATENCY","HISTORY",t)},transformReply:void 0}},16907,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("LATENCY","LATEST")},transformReply:void 0}},16225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LATENCY_EVENTS=void 0;let n=e.r(8673);Object.defineProperty(r,"LATENCY_EVENTS",{enumerable:!0,get:function(){return n.LATENCY_EVENTS}}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,...t){let r=["LATENCY","RESET"];t.length>0&&r.push(...t),e.push(...r)},transformReply:void 0}},92888,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("LCS"),e.pushKeys([t,r])},transformReply:void 0}},6611,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(92888));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r,n){i.default.parseCommand(e,t,r),e.push("IDX"),n?.MINMATCHLEN&&e.push("MINMATCHLEN",n.MINMATCHLEN.toString())},transformReply:{2:e=>({matches:e[1],len:e[3]}),3:void 0}}},23845,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(6611));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("WITHMATCHLEN")},transformReply:{2:e=>({matches:e[1],len:e[3]}),3:void 0}}},45607,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(92888));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("LEN")},transformReply:void 0}},63351,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("LINDEX"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},10338,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n,i){e.push("LINSERT"),e.pushKey(t),e.push(r,n,i)},transformReply:void 0}},71339,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("LLEN"),e.pushKey(t)},transformReply:void 0}},95281,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("LMOVE"),e.pushKeys([t,r]),e.push(n,i)},transformReply:void 0}},96028,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,...r){e.push("LOLWUT"),t&&(e.push("VERSION",t.toString()),e.pushVariadic(r.map(String)))},transformReply:void 0}},13159,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("LPOP"),e.pushKey(t)},transformReply:void 0}},2778,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(13159));r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){i.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}},9726,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("LPOS"),e.pushKey(t),e.push(r),n?.RANK!==void 0&&e.push("RANK",n.RANK.toString()),n?.MAXLEN!==void 0&&e.push("MAXLEN",n.MAXLEN.toString())},transformReply:void 0}},40202,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(9726));r.default={CACHEABLE:i.default.CACHEABLE,IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r,n,s){i.default.parseCommand(e,t,r,s),e.push("COUNT",n.toString())},transformReply:void 0}},64410,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("LPUSH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},28544,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("LPUSHX"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},50574,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("LRANGE"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},47009,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("LREM"),e.pushKey(t),e.push(r.toString()),e.push(n)},transformReply:void 0}},44217,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("LSET"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},29692,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("LTRIM"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},25150,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","DOCTOR")},transformReply:void 0}},42669,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","MALLOC-STATS")},transformReply:void 0}},94623,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e){e.push("MEMORY","PURGE")},transformReply:void 0}},29942,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MEMORY","STATS")},transformReply:{2:(e,t,r)=>{let i={},s=0;for(;s<e.length;)switch(e[s].toString()){case"dataset.percentage":case"peak.percentage":case"allocator-fragmentation.ratio":case"allocator-rss.ratio":case"rss-overhead.ratio":case"fragmentation":i[e[s++]]=n.transformDoubleReply[2](e[s++],t,r);break;default:i[e[s++]]=e[s++]}return i},3:void 0}}},95729,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("MEMORY","USAGE"),e.pushKey(t),r?.SAMPLES&&e.push("SAMPLES",r.SAMPLES.toString())},transformReply:void 0}},17479,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("MGET"),e.pushKeys(t)},transformReply:void 0}},54626,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i,s,a){e.push("MIGRATE",t,r.toString());let o=Array.isArray(n);o?e.push(""):e.push(n),e.push(i.toString(),s.toString()),a?.COPY&&e.push("COPY"),a?.REPLACE&&e.push("REPLACE"),a?.AUTH&&(a.AUTH.username?e.push("AUTH2",a.AUTH.username,a.AUTH.password):e.push("AUTH",a.AUTH.password)),o&&(e.push("KEYS"),e.pushVariadic(n))},transformReply:void 0}},52845,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("MODULE","LIST")},transformReply:{2:e=>e.map(e=>({name:e[1],ver:e[3]})),3:void 0}}},66016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("MODULE","LOAD",t),r&&e.push(...r)},transformReply:void 0}},34046,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("MODULE","UNLOAD",t)},transformReply:void 0}},44507,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("MOVE"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},32470,(e,t,r)=>{"use strict";function n(e,t){if(Array.isArray(t)){if(0==t.length)throw Error("empty toSet Argument");if(Array.isArray(t[0]))for(let r of t)e.pushKey(r[0]),e.push(r[1]);else for(let r=0;r<t.length;r+=2)e.pushKey(t[r]),e.push(t[r+1])}else for(let r of Object.entries(t))e.pushKey(r[0]),e.push(r[1])}Object.defineProperty(r,"__esModule",{value:!0}),r.parseMSetArguments=void 0,r.parseMSetArguments=n,r.default={IS_READ_ONLY:!0,parseCommand:(e,t)=>(e.push("MSET"),n(e,t)),transformReply:void 0}},399,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(32470);r.default={IS_READ_ONLY:!0,parseCommand:(e,t)=>(e.push("MSETNX"),(0,n.parseMSetArguments)(e,t)),transformReply:void 0}},44065,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","ENCODING"),e.pushKey(t)},transformReply:void 0}},97511,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","FREQ"),e.pushKey(t)},transformReply:void 0}},78174,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","IDLETIME"),e.pushKey(t)},transformReply:void 0}},94567,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("OBJECT","REFCOUNT"),e.pushKey(t)},transformReply:void 0}},44864,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("PERSIST"),e.pushKey(t)},transformReply:void 0}},54431,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("PEXPIRE"),e.pushKey(t),e.push(r.toString()),n&&e.push(n)},transformReply:void 0}},3897,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("PEXPIREAT"),e.pushKey(t),e.push((0,n.transformPXAT)(r)),i&&e.push(i)},transformReply:void 0}},23668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PEXPIRETIME"),e.pushKey(t)},transformReply:void 0}},82029,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("PFADD"),e.pushKey(t),r&&e.pushVariadic(r)},transformReply:void 0}},89588,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PFCOUNT"),e.pushKeys(t)},transformReply:void 0}},44549,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("PFMERGE"),e.pushKey(t),r&&e.pushKeys(r)},transformReply:void 0}},95489,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PING"),t&&e.push(t)},transformReply:void 0}},14360,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("PSETEX"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},57611,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PTTL"),e.pushKey(t)},transformReply:void 0}},19531,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,IS_FORWARD_COMMAND:!0,parseCommand(e,t,r){e.push("PUBLISH",t,r)},transformReply:void 0}},91451,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","CHANNELS"),t&&e.push(t)},transformReply:void 0}},29941,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("PUBSUB","NUMPAT")},transformReply:void 0}},87826,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","NUMSUB"),t&&e.pushVariadic(t)},transformReply(e){let t=Object.create(null),r=0;for(;r<e.length;)t[e[r++].toString()]=Number(e[r++]);return t}}},64108,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","SHARDNUMSUB"),t&&e.pushVariadic(t)},transformReply(e){let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t}}},82741,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("PUBSUB","SHARDCHANNELS"),t&&e.push(t)},transformReply:void 0}},31060,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("RANDOMKEY")},transformReply:void 0}},70198,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("READONLY")},transformReply:void 0}},1593,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("RENAME"),e.pushKeys([t,r])},transformReply:void 0}},38055,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("RENAMENX"),e.pushKeys([t,r])},transformReply:void 0}},877,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("REPLICAOF",t,r.toString())},transformReply:void 0}},69920,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("RESTORE-ASKING")},transformReply:void 0}},46641,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("RESTORE"),e.pushKey(t),e.push(r.toString(),n),i?.REPLACE&&e.push("REPLACE"),i?.ABSTTL&&e.push("ABSTTL"),i?.IDLETIME&&e.push("IDLETIME",i.IDLETIME.toString()),i?.FREQ&&e.push("FREQ",i.FREQ.toString())},transformReply:void 0}},95304,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("ROLE")},transformReply(e){switch(e[0]){case"master":{let[t,r,n]=e;return{role:t,replicationOffest:r,replicas:n.map(e=>{let[t,r,n]=e;return{host:t,port:Number(r),replicationOffest:Number(n)}})}}case"slave":{let[t,r,n,i,s]=e;return{role:t,master:{host:r,port:n},state:i,dataReceived:s}}case"sentinel":{let[t,r]=e;return{role:t,masterNames:r}}}}}},37508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("RPOP"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},44247,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("RPOP"),e.pushKey(t)},transformReply:void 0}},77921,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("RPOPLPUSH"),e.pushKeys([t,r])},transformReply:void 0}},98897,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("RPUSH"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},99737,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("RPUSHX"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},82867,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("SADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},44148,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCARD"),e.pushKey(t)},transformReply:void 0}},32742,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","DEBUG",t)},transformReply:void 0}},96729,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","EXISTS"),e.pushVariadic(t)},transformReply:void 0}},78730,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","FLUSH"),t&&e.push(t)},transformReply:void 0}},14965,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("SCRIPT","KILL")},transformReply:void 0}},12765,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SCRIPT","LOAD",t)},transformReply:void 0}},83039,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SDIFF"),e.pushKeys(t)},transformReply:void 0}},1465,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("SDIFFSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}},59767,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("SET"),e.pushKey(t),e.push("number"==typeof r?r.toString():r),n?.expiration?"string"==typeof n.expiration?e.push(n.expiration):"KEEPTTL"===n.expiration.type?e.push("KEEPTTL"):e.push(n.expiration.type,n.expiration.value.toString()):n?.EX!==void 0?e.push("EX",n.EX.toString()):n?.PX!==void 0?e.push("PX",n.PX.toString()):n?.EXAT!==void 0?e.push("EXAT",n.EXAT.toString()):n?.PXAT!==void 0?e.push("PXAT",n.PXAT.toString()):n?.KEEPTTL&&e.push("KEEPTTL"),n?.condition?e.push(n.condition):n?.NX?e.push("NX"):n?.XX&&e.push("XX"),n?.GET&&e.push("GET")},transformReply:void 0}},98326,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("SETBIT"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},80145,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("SETEX"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},19838,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("SETNX"),e.pushKey(t),e.push(r)},transformReply:void 0}},30552,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("SETRANGE"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},82617,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SINTER"),e.pushKeys(t)},transformReply:void 0}},46232,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SINTERCARD"),e.pushKeysLength(t),"number"==typeof r?e.push("LIMIT",r.toString()):r?.LIMIT!==void 0&&e.push("LIMIT",r.LIMIT.toString())},transformReply:void 0}},23444,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SINTERSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}},89069,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SISMEMBER"),e.pushKey(t),e.push(r)},transformReply:void 0}},44088,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SMEMBERS"),e.pushKey(t)},transformReply:{2:void 0,3:void 0}}},35874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SMISMEMBER"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},56773,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("SMOVE"),e.pushKeys([t,r]),e.push(n)},transformReply:void 0}},35434,(e,t,r)=>{"use strict";function n(e,t,r){if(e.pushKey(t),r?.BY&&e.push("BY",r.BY),r?.LIMIT&&e.push("LIMIT",r.LIMIT.offset.toString(),r.LIMIT.count.toString()),r?.GET)if(Array.isArray(r.GET))for(let t of r.GET)e.push("GET",t);else e.push("GET",r.GET);r?.DIRECTION&&e.push(r.DIRECTION),r?.ALPHA&&e.push("ALPHA")}Object.defineProperty(r,"__esModule",{value:!0}),r.parseSortArguments=void 0,r.parseSortArguments=n,r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SORT"),n(e,t,r)},transformReply:void 0}},32496,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(35434));r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("SORT_RO"),(0,a.parseSortArguments)(...e)},transformReply:a.default.transformReply}},75439,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(35434));r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){i.default.parseCommand(e,t,n),e.push("STORE",r)},transformReply:void 0}},4270,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SPOP"),e.pushKey(t),e.push(r.toString())},transformReply:void 0}},45707,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("SPOP"),e.pushKey(t)},transformReply:void 0}},71390,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("SPUBLISH"),e.pushKey(t),e.push(r)},transformReply:void 0}},34575,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("SRANDMEMBER"),e.pushKey(t)},transformReply:void 0}},34642,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(34575));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r){i.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}},66561,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SREM"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},15927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(44477);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("SSCAN"),e.pushKey(t),(0,n.parseScanArguments)(e,r,i)},transformReply:([e,t])=>({cursor:e,members:t})}},28426,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("STRLEN"),e.pushKey(t)},transformReply:void 0}},89154,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("SUNION"),e.pushKeys(t)},transformReply:void 0}},21496,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SUNIONSTORE"),e.pushKey(t),e.pushKeys(r)},transformReply:void 0}},1792,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("SWAPDB",t.toString(),r.toString())},transformReply:void 0}},92744,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("TIME")},transformReply:void 0}},85330,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("TOUCH"),e.pushKeys(t)},transformReply:void 0}},32307,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TTL"),e.pushKey(t)},transformReply:void 0}},4727,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("TYPE"),e.pushKey(t)},transformReply:void 0}},97926,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("UNLINK"),e.pushKeys(t)},transformReply:void 0}},88524,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("WAIT",t.toString(),r.toString())},transformReply:void 0}},67942,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("XACK"),e.pushKey(t),e.push(r),e.pushVariadic(n)},transformReply:void 0}},75117,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("XACKDEL"),e.pushKey(t),e.push(r),i&&e.push(i),e.push("IDS"),e.pushVariadicWithLength(n)},transformReply:void 0}},48210,(e,t,r)=>{"use strict";function n(e,t,r,n,i,s){for(let[a,o]of(t.push("XADD"),t.pushKey(r),e&&t.push(e),s?.TRIM&&(s.TRIM.strategy&&t.push(s.TRIM.strategy),s.TRIM.strategyModifier&&t.push(s.TRIM.strategyModifier),t.push(s.TRIM.threshold.toString()),s.TRIM.limit&&t.push("LIMIT",s.TRIM.limit.toString()),s.TRIM.policy&&t.push(s.TRIM.policy)),t.push(n),Object.entries(i)))t.push(a,o)}Object.defineProperty(r,"__esModule",{value:!0}),r.parseXAddArguments=void 0,r.parseXAddArguments=n,r.default={IS_READ_ONLY:!1,parseCommand:(...e)=>n(void 0,...e),transformReply:void 0}},85784,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(48210);r.default={IS_READ_ONLY:!1,parseCommand:(...e)=>(0,n.parseXAddArguments)("NOMKSTREAM",...e),transformReply:void 0}},76648,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i,s,a){e.push("XAUTOCLAIM"),e.pushKey(t),e.push(r,n,i.toString(),s),a?.COUNT&&e.push("COUNT",a.COUNT.toString())},transformReply:(e,t,r)=>({nextId:e[0],messages:e[1].map(n.transformStreamMessageNullReply.bind(void 0,r)),deletedMessages:e[2]})}},93885,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(76648));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("JUSTID")},transformReply:e=>({nextId:e[0],messages:e[1],deletedMessages:e[2]})}},2975,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i,s,a){e.push("XCLAIM"),e.pushKey(t),e.push(r,n,i.toString()),e.pushVariadic(s),a?.IDLE!==void 0&&e.push("IDLE",a.IDLE.toString()),a?.TIME!==void 0&&e.push("TIME",(a.TIME instanceof Date?a.TIME.getTime():a.TIME).toString()),a?.RETRYCOUNT!==void 0&&e.push("RETRYCOUNT",a.RETRYCOUNT.toString()),a?.FORCE&&e.push("FORCE"),a?.LASTID!==void 0&&e.push("LASTID",a.LASTID)},transformReply:(e,t,r)=>e.map(n.transformStreamMessageNullReply.bind(void 0,r))}},9530,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(2975));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("JUSTID")},transformReply:void 0}},51777,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("XDEL"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},39725,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("XDELEX"),e.pushKey(t),n&&e.push(n),e.push("IDS"),e.pushVariadicWithLength(r)},transformReply:void 0}},77547,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("XGROUP","CREATE"),e.pushKey(t),e.push(r,n),i?.MKSTREAM&&e.push("MKSTREAM"),i?.ENTRIESREAD&&e.push("ENTRIESREAD",i.ENTRIESREAD.toString())},transformReply:void 0}},61374,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("XGROUP","CREATECONSUMER"),e.pushKey(t),e.push(r,n)},transformReply:void 0}},30021,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("XGROUP","DELCONSUMER"),e.pushKey(t),e.push(r,n)},transformReply:void 0}},45254,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("XGROUP","DESTROY"),e.pushKey(t),e.push(r)},transformReply:void 0}},11551,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("XGROUP","SETID"),e.pushKey(t),e.push(r,n),i?.ENTRIESREAD&&e.push("ENTRIESREAD",i.ENTRIESREAD.toString())},transformReply:void 0}},37968,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XINFO","CONSUMERS"),e.pushKey(t),e.push(r)},transformReply:{2:e=>e.map(e=>({name:e[1],pending:e[3],idle:e[5],inactive:e[7]})),3:void 0}}},77624,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("XINFO","GROUPS"),e.pushKey(t)},transformReply:{2:e=>e.map(e=>({name:e[1],consumers:e[3],pending:e[5],"last-delivered-id":e[7],"entries-read":e[9],lag:e[11]})),3:void 0}}},61346,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);function i(e){if((0,n.isNullReply)(e))return e;let[t,r]=e;return{id:t,message:(0,n.transformTuplesReply)(r)}}r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("XINFO","STREAM"),e.pushKey(t)},transformReply:{2(e){let t={};for(let r=0;r<e.length;r+=2)switch(e[r]){case"first-entry":case"last-entry":t[e[r]]=i(e[r+1]);break;default:t[e[r]]=e[r+1]}return t},3:e=>(e instanceof Map?(e.set("first-entry",i(e.get("first-entry"))),e.set("last-entry",i(e.get("last-entry")))):e instanceof Array?(e[17]=i(e[17]),e[19]=i(e[19])):(e["first-entry"]=i(e["first-entry"]),e["last-entry"]=i(e["last-entry"])),e)}}},72157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("XLEN"),e.pushKey(t)},transformReply:void 0}},42351,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n,i,s,a){e.push("XPENDING"),e.pushKey(t),e.push(r),a?.IDLE!==void 0&&e.push("IDLE",a.IDLE.toString()),e.push(n,i,s.toString()),a?.consumer&&e.push(a.consumer)},transformReply:e=>e.map(e=>({id:e[0],consumer:e[1],millisecondsSinceLastDelivery:e[2],deliveriesCounter:e[3]}))}},76342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XPENDING"),e.pushKey(t),e.push(r)},transformReply(e){let t=e[3];return{pending:e[0],firstId:e[1],lastId:e[2],consumers:null===t?null:t.map(e=>{let[t,r]=e;return{name:t,deliveriesCounter:Number(r)}})}}}},52409,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.xRangeArguments=void 0;let n=e.r(82274);function i(e,t,r){let n=[e,t];return r?.COUNT&&n.push("COUNT",r.COUNT.toString()),n}r.xRangeArguments=i,r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,...r){e.push("XRANGE"),e.pushKey(t),e.pushVariadic(i(r[0],r[1],r[2]))},transformReply:(e,t,r)=>e.map(n.transformStreamMessageReply.bind(void 0,r))}},19430,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pushXReadStreams=void 0;let n=e.r(82274);function i(e,t){if(e.push("STREAMS"),Array.isArray(t)){for(let r=0;r<t.length;r++)e.pushKey(t[r].key);for(let r=0;r<t.length;r++)e.push(t[r].id)}else e.pushKey(t.key),e.push(t.id)}r.pushXReadStreams=i,r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("XREAD"),r?.COUNT&&e.push("COUNT",r.COUNT.toString()),r?.BLOCK!==void 0&&e.push("BLOCK",r.BLOCK.toString()),i(e,t)},transformReply:{2:n.transformStreamsMessagesReplyResp2,3:void 0},unstableResp3:!0}},93546,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(19430);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("XREADGROUP","GROUP",t,r),s?.COUNT!==void 0&&e.push("COUNT",s.COUNT.toString()),s?.BLOCK!==void 0&&e.push("BLOCK",s.BLOCK.toString()),s?.NOACK&&e.push("NOACK"),(0,n.pushXReadStreams)(e,i)},transformReply:{2:e.r(82274).transformStreamsMessagesReplyResp2,3:void 0},unstableResp3:!0}},56032,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(52409));r.default={CACHEABLE:a.default.CACHEABLE,IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(e,t,...r){e.push("XREVRANGE"),e.pushKey(t),e.pushVariadic((0,a.xRangeArguments)(r[0],r[1],r[2]))},transformReply:a.default.transformReply}},81403,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("XSETID"),e.pushKey(t),e.push(r),n?.ENTRIESADDED&&e.push("ENTRIESADDED",n.ENTRIESADDED.toString()),n?.MAXDELETEDID&&e.push("MAXDELETEDID",n.MAXDELETEDID)},transformReply:void 0}},4663,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("XTRIM"),e.pushKey(t),e.push(r),i?.strategyModifier&&e.push(i.strategyModifier),e.push(n.toString()),i?.LIMIT&&e.push("LIMIT",i.LIMIT.toString()),i?.policy&&e.push(i.policy)},transformReply:void 0}},5963,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.pushMembers=void 0;let n=e.r(82274);function i(e,t){if(Array.isArray(t))for(let r of t)s(e,r);else s(e,t)}function s(e,t){e.push((0,n.transformDoubleArgument)(t.score),t.value)}r.default={parseCommand(e,t,r,n){e.push("ZADD"),e.pushKey(t),n?.condition?e.push(n.condition):n?.NX?e.push("NX"):n?.XX&&e.push("XX"),n?.comparison?e.push(n.comparison):n?.LT?e.push("LT"):n?.GT&&e.push("GT"),n?.CH&&e.push("CH"),i(e,r)},transformReply:n.transformDoubleReply},r.pushMembers=i},22339,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(5963);r.default={parseCommand(e,t,r,i){e.push("ZADD"),e.pushKey(t),i?.condition&&e.push(i.condition),i?.comparison&&e.push(i.comparison),i?.CH&&e.push("CH"),e.push("INCR"),(0,n.pushMembers)(e,r)},transformReply:e.r(82274).transformNullableDoubleReply}},73943,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZCARD"),e.pushKey(t)},transformReply:void 0}},41158,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("ZCOUNT"),e.pushKey(t),e.push((0,n.transformStringDoubleArgument)(r),(0,n.transformStringDoubleArgument)(i))},transformReply:void 0}},89990,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZDIFF"),e.pushKeysLength(t)},transformReply:void 0}},81653,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(89990));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(e,t){s.default.parseCommand(e,t),e.push("WITHSCORES")},transformReply:i.transformSortedSetReply}},475,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZDIFFSTORE"),e.pushKey(t),e.pushKeysLength(r)},transformReply:void 0}},2279,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t,r,i){e.push("ZINCRBY"),e.pushKey(t),e.push((0,n.transformDoubleArgument)(r),i)},transformReply:n.transformDoubleReply}},52345,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseZInterArguments=void 0;let n=e.r(82274);function i(e,t,r){(0,n.parseZKeysArguments)(e,t),r?.AGGREGATE&&e.push("AGGREGATE",r.AGGREGATE)}r.parseZInterArguments=i,r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZINTER"),i(e,t,r)},transformReply:void 0}},93869,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(52345));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){s.default.parseCommand(...e),e[0].push("WITHSCORES")},transformReply:i.transformSortedSetReply}},67526,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZINTERCARD"),e.pushKeysLength(t),"number"==typeof r?e.push("LIMIT",r.toString()):r?.LIMIT&&e.push("LIMIT",r.LIMIT.toString())},transformReply:void 0}},10635,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(52345);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("ZINTERSTORE"),e.pushKey(t),(0,n.parseZInterArguments)(e,r,i)},transformReply:void 0}},22794,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("ZLEXCOUNT"),e.pushKey(t),e.push(r),e.push(n)},transformReply:void 0}},55076,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZMSCORE"),e.pushKey(t),e.pushVariadic(r)},transformReply:{2:(e,t,r)=>e.map((0,n.createTransformNullableDoubleReplyResp2Func)(t,r)),3:void 0}}},62877,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZPOPMAX"),e.pushKey(t),e.push(r.toString())},transformReply:e.r(82274).transformSortedSetReply}},82537,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("ZPOPMAX"),e.pushKey(t)},transformReply:{2:(e,t,r)=>0===e.length?null:{value:e[0],score:n.transformDoubleReply[2](e[1],t,r)},3:e=>0===e.length?null:{value:e[0],score:e[1]}}}},55564,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZPOPMIN"),e.pushKey(t),e.push(r.toString())},transformReply:e.r(82274).transformSortedSetReply}},56602,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("ZPOPMIN"),e.pushKey(t)},transformReply:n(e.r(82537)).default.transformReply}},24594,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("ZRANDMEMBER"),e.pushKey(t)},transformReply:void 0}},12861,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(24594));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r){i.default.parseCommand(e,t),e.push(r.toString())},transformReply:void 0}},59062,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(12861));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(e,t,r){s.default.parseCommand(e,t,r),e.push("WITHSCORES")},transformReply:i.transformSortedSetReply}},75263,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zRangeArgument=void 0;let n=e.r(82274);function i(e,t,r){let i=[(0,n.transformStringDoubleArgument)(e),(0,n.transformStringDoubleArgument)(t)];switch(r?.BY){case"SCORE":i.push("BYSCORE");break;case"LEX":i.push("BYLEX")}return r?.REV&&i.push("REV"),r?.LIMIT&&i.push("LIMIT",r.LIMIT.offset.toString(),r.LIMIT.count.toString()),i}r.zRangeArgument=i,r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n,s){e.push("ZRANGE"),e.pushKey(t),e.pushVariadic(i(r,n,s))},transformReply:void 0}},25420,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(75263));r.default={CACHEABLE:s.default.CACHEABLE,IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];s.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:i.transformSortedSetReply}},10562,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("ZRANGEBYLEX"),e.pushKey(t),e.push((0,n.transformStringDoubleArgument)(r),(0,n.transformStringDoubleArgument)(i)),s?.LIMIT&&e.push("LIMIT",s.LIMIT.offset.toString(),s.LIMIT.count.toString())},transformReply:void 0}},11087,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("ZRANGEBYSCORE"),e.pushKey(t),e.push((0,n.transformStringDoubleArgument)(r),(0,n.transformStringDoubleArgument)(i)),s?.LIMIT&&e.push("LIMIT",s.LIMIT.offset.toString(),s.LIMIT.count.toString())},transformReply:void 0}},48430,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(11087));r.default={CACHEABLE:s.default.CACHEABLE,IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];s.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:i.transformSortedSetReply}},41225,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,s,a){switch(e.push("ZRANGESTORE"),e.pushKey(t),e.pushKey(r),e.push((0,n.transformStringDoubleArgument)(i),(0,n.transformStringDoubleArgument)(s)),a?.BY){case"SCORE":e.push("BYSCORE");break;case"LEX":e.push("BYLEX")}a?.REV&&e.push("REV"),a?.LIMIT&&e.push("LIMIT",a.LIMIT.offset.toString(),a.LIMIT.count.toString())},transformReply:void 0}},37263,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("ZREMRANGEBYSCORE"),e.pushKey(t),e.push((0,n.transformStringDoubleArgument)(r),(0,n.transformStringDoubleArgument)(i))},transformReply:void 0}},18707,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZRANK"),e.pushKey(t),e.push(r)},transformReply:void 0}},11451,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(18707));r.default={CACHEABLE:i.default.CACHEABLE,IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];i.default.parseCommand(...e),t.push("WITHSCORE")},transformReply:{2:e=>null===e?null:{rank:e[0],score:Number(e[1])},3:e=>null===e?null:{rank:e[0],score:e[1]}}}},52265,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("ZREM"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},37082,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("ZREMRANGEBYLEX"),e.pushKey(t),e.push((0,n.transformStringDoubleArgument)(r),(0,n.transformStringDoubleArgument)(i))},transformReply:void 0}},8620,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("ZREMRANGEBYRANK"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},76623,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZREVRANK"),e.pushKey(t),e.push(r)},transformReply:void 0}},99743,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(44477),i=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("ZSCAN"),e.pushKey(t),(0,n.parseScanArguments)(e,r,i)},transformReply:([e,t])=>({cursor:e,members:i.transformSortedSetReply[2](t)})}},49178,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={CACHEABLE:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZSCORE"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformNullableDoubleReply}},50931,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("ZUNION"),(0,n.parseZKeysArguments)(e,t),r?.AGGREGATE&&e.push("AGGREGATE",r.AGGREGATE)},transformReply:void 0}},50915,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(50931));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];s.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:i.transformSortedSetReply}},28555,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("ZUNIONSTORE"),e.pushKey(t),(0,n.parseZKeysArguments)(e,r),i?.AGGREGATE&&e.push("AGGREGATE",i.AGGREGATE)},transformReply:void 0}},73688,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t,r,i,s){for(let i of(e.push("VADD"),e.pushKey(t),s?.REDUCE!==void 0&&e.push("REDUCE",s.REDUCE.toString()),e.push("VALUES",r.length.toString()),r))e.push((0,n.transformDoubleArgument)(i));e.push(i),s?.CAS&&e.push("CAS"),s?.QUANT&&e.push(s.QUANT),s?.EF!==void 0&&e.push("EF",s.EF.toString()),s?.SETATTR&&e.push("SETATTR",JSON.stringify(s.SETATTR)),s?.M!==void 0&&e.push("M",s.M.toString())},transformReply:n.transformBooleanReply}},47977,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VCARD"),e.pushKey(t)},transformReply:void 0}},80148,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VDIM"),e.pushKey(t)},transformReply:void 0}},59371,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VEMB"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformDoubleArrayReply}},64233,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(59371));r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){s.default.parseCommand(e,t,r),e.push("RAW")},transformReply:{2:e=>({quantization:e[0],raw:e[1],l2Norm:i.transformDoubleReply[2](e[2]),...void 0!==e[3]&&{quantizationRange:i.transformDoubleReply[2](e[3])}}),3:e=>({quantization:e[0],raw:e[1],l2Norm:e[2],quantizationRange:e[3]})}}},54351,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VGETATTR"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformRedisJsonNullReply}},35002,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("VINFO"),e.pushKey(t)},transformReply:{2:e=>{let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t},3:void 0}}},77417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VLINKS"),e.pushKey(t),e.push(r)},transformReply:void 0}},85890,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(77417));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];s.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:{2:function(e){let t=[];for(let r of e){let e=Object.create(null);for(let t=0;t<r.length;t+=2){let n=r[t],s=i.transformDoubleReply[2](r[t+1]);e[n.toString()]=s}t.push(e)}return t},3:void 0}}},69745,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("VRANDMEMBER"),e.pushKey(t),void 0!==r&&e.push(r.toString())},transformReply:void 0}},95164,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){e.push("VREM"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},50159,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n){e.push("VSETATTR"),e.pushKey(t),e.push(r),"object"==typeof n&&null!==n?e.push(JSON.stringify(n)):e.push(n)},transformReply:e.r(82274).transformBooleanReply}},61298,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i){if(e.push("VSIM"),e.pushKey(t),Array.isArray(r))for(let t of(e.push("VALUES",r.length.toString()),r))e.push((0,n.transformDoubleArgument)(t));else e.push("ELE",r);i?.COUNT!==void 0&&e.push("COUNT",i.COUNT.toString()),i?.EPSILON!==void 0&&e.push("EPSILON",i.EPSILON.toString()),i?.EF!==void 0&&e.push("EF",i.EF.toString()),i?.FILTER&&e.push("FILTER",i.FILTER),i?.["FILTER-EF"]!==void 0&&e.push("FILTER-EF",i["FILTER-EF"].toString()),i?.TRUTH&&e.push("TRUTH"),i?.NOTHREAD&&e.push("NOTHREAD")},transformReply:void 0}},94319,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(61298));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){let t=e[0];s.default.parseCommand(...e),t.push("WITHSCORES")},transformReply:{2:e=>{let t={};for(let r=0;r<e.length;r+=2)t[e[r].toString()]=i.transformDoubleReply[2](e[r+1]);return t},3:void 0}}},8196,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.REDIS_FLUSH_MODES=r.COMMAND_LIST_FILTER_BY=r.CLUSTER_SLOT_STATES=r.FAILOVER_MODES=r.CLIENT_KILL_FILTERS=void 0;let o=a(e.r(3719)),u=a(e.r(58652)),l=a(e.r(44588)),c=a(e.r(4785)),d=a(e.r(25819)),p=a(e.r(81721)),f=a(e.r(67619)),h=a(e.r(93099)),m=a(e.r(31101)),g=a(e.r(23856)),y=a(e.r(83886)),_=a(e.r(48185)),b=a(e.r(46332)),v=a(e.r(70489)),E=a(e.r(68990)),S=a(e.r(69534)),w=a(e.r(39959)),R=a(e.r(13318)),O=a(e.r(86846)),A=a(e.r(13944)),T=a(e.r(48412)),I=a(e.r(92168)),C=a(e.r(5504)),N=a(e.r(67291)),P=a(e.r(80358)),x=a(e.r(94750)),D=a(e.r(1655)),k=a(e.r(43611)),L=a(e.r(17624)),M=a(e.r(70705)),$=a(e.r(62384)),U=a(e.r(85920)),j=a(e.r(50725)),B=a(e.r(55085)),z=a(e.r(19199)),q=a(e.r(10589)),K=s(e.r(61450));Object.defineProperty(r,"CLIENT_KILL_FILTERS",{enumerable:!0,get:function(){return K.CLIENT_KILL_FILTERS}});let F=a(e.r(3354)),Y=a(e.r(91617)),V=a(e.r(22313)),G=a(e.r(57976)),H=a(e.r(22567)),Z=a(e.r(30678)),W=a(e.r(55015)),Q=a(e.r(66228)),X=a(e.r(40030)),J=a(e.r(63611)),ee=a(e.r(5659)),et=a(e.r(8253)),er=a(e.r(39202)),en=a(e.r(16943)),ei=a(e.r(72319)),es=s(e.r(28531));Object.defineProperty(r,"FAILOVER_MODES",{enumerable:!0,get:function(){return es.FAILOVER_MODES}});let ea=a(e.r(56364)),eo=a(e.r(34603)),eu=a(e.r(82105)),el=a(e.r(12726)),ec=a(e.r(51370)),ed=a(e.r(88296)),ep=a(e.r(27017)),ef=a(e.r(21656)),eh=a(e.r(86307)),em=a(e.r(97003)),eg=a(e.r(38813)),ey=a(e.r(60071)),e_=a(e.r(36757)),eb=a(e.r(73556)),ev=a(e.r(54334)),eE=s(e.r(33740));Object.defineProperty(r,"CLUSTER_SLOT_STATES",{enumerable:!0,get:function(){return eE.CLUSTER_SLOT_STATES}});let eS=a(e.r(91242)),ew=a(e.r(72220)),eR=a(e.r(42911)),eO=a(e.r(54844)),eA=a(e.r(66916)),eT=s(e.r(75616));Object.defineProperty(r,"COMMAND_LIST_FILTER_BY",{enumerable:!0,get:function(){return eT.COMMAND_LIST_FILTER_BY}});let eI=a(e.r(5170)),eC=a(e.r(86361)),eN=a(e.r(81270)),eP=a(e.r(12400)),ex=a(e.r(66326)),eD=a(e.r(945)),ek=a(e.r(17886)),eL=a(e.r(51909)),eM=a(e.r(34203)),e$=a(e.r(19926)),eU=a(e.r(73086)),ej=a(e.r(8377)),eB=a(e.r(77029)),ez=a(e.r(86826)),eq=a(e.r(4790)),eK=a(e.r(62792)),eF=a(e.r(95283)),eY=a(e.r(21051)),eV=a(e.r(69016)),eG=a(e.r(60699)),eH=a(e.r(40592)),eZ=a(e.r(63963)),eW=a(e.r(79009)),eQ=a(e.r(5045)),eX=a(e.r(82653)),eJ=a(e.r(28002)),e0=a(e.r(35093)),e1=a(e.r(42429)),e4=a(e.r(84845)),e2=a(e.r(7509)),e6=a(e.r(38822)),e3=a(e.r(94413)),e8=a(e.r(10572)),e5=a(e.r(52913)),e9=a(e.r(36536)),e7=a(e.r(89322)),te=a(e.r(64865)),tt=a(e.r(22047)),tr=a(e.r(91044)),tn=a(e.r(84833)),ti=a(e.r(25235)),ts=a(e.r(53139)),ta=a(e.r(48600)),to=s(e.r(15660));Object.defineProperty(r,"REDIS_FLUSH_MODES",{enumerable:!0,get:function(){return to.REDIS_FLUSH_MODES}});let tu=a(e.r(32491)),tl=a(e.r(70265)),tc=a(e.r(39)),td=a(e.r(89083)),tp=a(e.r(4919)),tf=a(e.r(63289)),th=a(e.r(54871)),tm=a(e.r(86271)),tg=a(e.r(627)),ty=a(e.r(38035)),t_=a(e.r(2091)),tb=a(e.r(11499)),tv=a(e.r(52431)),tE=a(e.r(35107)),tS=a(e.r(5912)),tw=a(e.r(98650)),tR=a(e.r(84333)),tO=a(e.r(54539)),tA=a(e.r(44023)),tT=a(e.r(36700)),tI=a(e.r(49422)),tC=a(e.r(82956)),tN=a(e.r(69669)),tP=a(e.r(77904)),tx=a(e.r(28348)),tD=a(e.r(96115)),tk=a(e.r(50470)),tL=a(e.r(37250)),tM=a(e.r(85951)),t$=a(e.r(7136)),tU=a(e.r(5673)),tj=a(e.r(47130)),tB=a(e.r(47433)),tz=a(e.r(20136)),tq=a(e.r(86601)),tK=a(e.r(15930)),tF=a(e.r(13794)),tY=a(e.r(10745)),tV=a(e.r(22515)),tG=a(e.r(98444)),tH=a(e.r(17808)),tZ=a(e.r(80583)),tW=a(e.r(31532)),tQ=a(e.r(74886)),tX=a(e.r(68429)),tJ=a(e.r(11629)),t0=a(e.r(77824)),t1=a(e.r(80727)),t4=a(e.r(8726)),t2=a(e.r(9821)),t6=a(e.r(8673)),t3=a(e.r(51779)),t8=a(e.r(16907)),t5=a(e.r(16225)),t9=a(e.r(23845)),t7=a(e.r(6611)),re=a(e.r(45607)),rt=a(e.r(92888)),rr=a(e.r(63351)),rn=a(e.r(10338)),ri=a(e.r(71339)),rs=a(e.r(95281)),ra=a(e.r(9386)),ro=a(e.r(96028)),ru=a(e.r(2778)),rl=a(e.r(13159)),rc=a(e.r(40202)),rd=a(e.r(9726)),rp=a(e.r(64410)),rf=a(e.r(28544)),rh=a(e.r(50574)),rm=a(e.r(47009)),rg=a(e.r(44217)),ry=a(e.r(29692)),r_=a(e.r(25150)),rb=a(e.r(42669)),rv=a(e.r(94623)),rE=a(e.r(29942)),rS=a(e.r(95729)),rw=a(e.r(17479)),rR=a(e.r(54626)),rO=a(e.r(52845)),rA=a(e.r(66016)),rT=a(e.r(34046)),rI=a(e.r(44507)),rC=a(e.r(32470)),rN=a(e.r(399)),rP=a(e.r(44065)),rx=a(e.r(97511)),rD=a(e.r(78174)),rk=a(e.r(94567)),rL=a(e.r(44864)),rM=a(e.r(54431)),r$=a(e.r(3897)),rU=a(e.r(23668)),rj=a(e.r(82029)),rB=a(e.r(89588)),rz=a(e.r(44549)),rq=a(e.r(95489)),rK=a(e.r(14360)),rF=a(e.r(57611)),rY=a(e.r(19531)),rV=a(e.r(91451)),rG=a(e.r(29941)),rH=a(e.r(87826)),rZ=a(e.r(64108)),rW=a(e.r(82741)),rQ=a(e.r(31060)),rX=a(e.r(70198)),rJ=a(e.r(1593)),r0=a(e.r(38055)),r1=a(e.r(877)),r4=a(e.r(69920)),r2=a(e.r(46641)),r6=a(e.r(95304)),r3=a(e.r(37508)),r8=a(e.r(44247)),r5=a(e.r(77921)),r9=a(e.r(98897)),r7=a(e.r(99737)),ne=a(e.r(82867)),nt=a(e.r(44477)),nr=a(e.r(44148)),nn=a(e.r(32742)),ni=a(e.r(96729)),ns=a(e.r(78730)),na=a(e.r(14965)),no=a(e.r(12765)),nu=a(e.r(83039)),nl=a(e.r(1465)),nc=a(e.r(59767)),nd=a(e.r(98326)),np=a(e.r(80145)),nf=a(e.r(19838)),nh=a(e.r(30552)),nm=a(e.r(82617)),ng=a(e.r(46232)),ny=a(e.r(23444)),n_=a(e.r(89069)),nb=a(e.r(44088)),nv=a(e.r(35874)),nE=a(e.r(56773)),nS=a(e.r(32496)),nw=a(e.r(75439)),nR=a(e.r(35434)),nO=a(e.r(4270)),nA=a(e.r(45707)),nT=a(e.r(71390)),nI=a(e.r(34642)),nC=a(e.r(34575)),nN=a(e.r(66561)),nP=a(e.r(15927)),nx=a(e.r(28426)),nD=a(e.r(89154)),nk=a(e.r(21496)),nL=a(e.r(1792)),nM=a(e.r(92744)),n$=a(e.r(85330)),nU=a(e.r(32307)),nj=a(e.r(4727)),nB=a(e.r(97926)),nz=a(e.r(88524)),nq=a(e.r(67942)),nK=a(e.r(75117)),nF=a(e.r(85784)),nY=a(e.r(48210)),nV=a(e.r(93885)),nG=a(e.r(76648)),nH=a(e.r(9530)),nZ=a(e.r(2975)),nW=a(e.r(51777)),nQ=a(e.r(39725)),nX=a(e.r(77547)),nJ=a(e.r(61374)),n0=a(e.r(30021)),n1=a(e.r(45254)),n4=a(e.r(11551)),n2=a(e.r(37968)),n6=a(e.r(77624)),n3=a(e.r(61346)),n8=a(e.r(72157)),n5=a(e.r(42351)),n9=a(e.r(76342)),n7=a(e.r(52409)),ie=a(e.r(19430)),it=a(e.r(93546)),ir=a(e.r(56032)),ii=a(e.r(81403)),is=a(e.r(4663)),ia=a(e.r(22339)),io=a(e.r(5963)),iu=a(e.r(73943)),il=a(e.r(41158)),ic=a(e.r(81653)),id=a(e.r(89990)),ip=a(e.r(475)),ih=a(e.r(2279)),im=a(e.r(93869)),ig=a(e.r(52345)),iy=a(e.r(67526)),i_=a(e.r(10635)),ib=a(e.r(22794)),iv=a(e.r(39525)),iE=a(e.r(55076)),iS=a(e.r(62877)),iw=a(e.r(82537)),iR=a(e.r(55564)),iO=a(e.r(56602)),iA=a(e.r(59062)),iT=a(e.r(12861)),iI=a(e.r(24594)),iC=a(e.r(25420)),iN=a(e.r(75263)),iP=a(e.r(10562)),ix=a(e.r(48430)),iD=a(e.r(11087)),ik=a(e.r(41225)),iL=a(e.r(37263)),iM=a(e.r(11451)),i$=a(e.r(18707)),iU=a(e.r(52265)),ij=a(e.r(37082)),iB=a(e.r(8620)),iz=a(e.r(76623)),iq=a(e.r(99743)),iK=a(e.r(49178)),iF=a(e.r(50915)),iY=a(e.r(50931)),iV=a(e.r(28555)),iG=a(e.r(73688)),iH=a(e.r(47977)),iZ=a(e.r(80148)),iW=a(e.r(59371)),iQ=a(e.r(64233)),iX=a(e.r(54351)),iJ=a(e.r(35002)),i0=a(e.r(77417)),i1=a(e.r(85890)),i4=a(e.r(69745)),i2=a(e.r(95164)),i6=a(e.r(50159)),i3=a(e.r(61298)),i8=a(e.r(94319));r.default={ACL_CAT:o.default,aclCat:o.default,ACL_DELUSER:u.default,aclDelUser:u.default,ACL_DRYRUN:l.default,aclDryRun:l.default,ACL_GENPASS:c.default,aclGenPass:c.default,ACL_GETUSER:d.default,aclGetUser:d.default,ACL_LIST:p.default,aclList:p.default,ACL_LOAD:f.default,aclLoad:f.default,ACL_LOG_RESET:h.default,aclLogReset:h.default,ACL_LOG:m.default,aclLog:m.default,ACL_SAVE:g.default,aclSave:g.default,ACL_SETUSER:y.default,aclSetUser:y.default,ACL_USERS:_.default,aclUsers:_.default,ACL_WHOAMI:b.default,aclWhoAmI:b.default,APPEND:v.default,append:v.default,ASKING:E.default,asking:E.default,AUTH:S.default,auth:S.default,BGREWRITEAOF:w.default,bgRewriteAof:w.default,BGSAVE:R.default,bgSave:R.default,BITCOUNT:O.default,bitCount:O.default,BITFIELD_RO:A.default,bitFieldRo:A.default,BITFIELD:T.default,bitField:T.default,BITOP:I.default,bitOp:I.default,BITPOS:C.default,bitPos:C.default,BLMOVE:N.default,blMove:N.default,BLMPOP:P.default,blmPop:P.default,BLPOP:x.default,blPop:x.default,BRPOP:D.default,brPop:D.default,BRPOPLPUSH:k.default,brPopLPush:k.default,BZMPOP:L.default,bzmPop:L.default,BZPOPMAX:M.default,bzPopMax:M.default,BZPOPMIN:$.default,bzPopMin:$.default,CLIENT_CACHING:U.default,clientCaching:U.default,CLIENT_GETNAME:j.default,clientGetName:j.default,CLIENT_GETREDIR:B.default,clientGetRedir:B.default,CLIENT_ID:z.default,clientId:z.default,CLIENT_INFO:q.default,clientInfo:q.default,CLIENT_KILL:K.default,clientKill:K.default,CLIENT_LIST:F.default,clientList:F.default,"CLIENT_NO-EVICT":Y.default,clientNoEvict:Y.default,"CLIENT_NO-TOUCH":V.default,clientNoTouch:V.default,CLIENT_PAUSE:G.default,clientPause:G.default,CLIENT_SETNAME:H.default,clientSetName:H.default,CLIENT_TRACKING:Z.default,clientTracking:Z.default,CLIENT_TRACKINGINFO:W.default,clientTrackingInfo:W.default,CLIENT_UNPAUSE:Q.default,clientUnpause:Q.default,CLUSTER_ADDSLOTS:X.default,clusterAddSlots:X.default,CLUSTER_ADDSLOTSRANGE:J.default,clusterAddSlotsRange:J.default,CLUSTER_BUMPEPOCH:ee.default,clusterBumpEpoch:ee.default,"CLUSTER_COUNT-FAILURE-REPORTS":et.default,clusterCountFailureReports:et.default,CLUSTER_COUNTKEYSINSLOT:er.default,clusterCountKeysInSlot:er.default,CLUSTER_DELSLOTS:en.default,clusterDelSlots:en.default,CLUSTER_DELSLOTSRANGE:ei.default,clusterDelSlotsRange:ei.default,CLUSTER_FAILOVER:es.default,clusterFailover:es.default,CLUSTER_FLUSHSLOTS:ea.default,clusterFlushSlots:ea.default,CLUSTER_FORGET:eo.default,clusterForget:eo.default,CLUSTER_GETKEYSINSLOT:eu.default,clusterGetKeysInSlot:eu.default,CLUSTER_INFO:el.default,clusterInfo:el.default,CLUSTER_KEYSLOT:ec.default,clusterKeySlot:ec.default,CLUSTER_LINKS:ed.default,clusterLinks:ed.default,CLUSTER_MEET:ep.default,clusterMeet:ep.default,CLUSTER_MYID:ef.default,clusterMyId:ef.default,CLUSTER_MYSHARDID:eh.default,clusterMyShardId:eh.default,CLUSTER_NODES:em.default,clusterNodes:em.default,CLUSTER_REPLICAS:eg.default,clusterReplicas:eg.default,CLUSTER_REPLICATE:ey.default,clusterReplicate:ey.default,CLUSTER_RESET:e_.default,clusterReset:e_.default,CLUSTER_SAVECONFIG:eb.default,clusterSaveConfig:eb.default,"CLUSTER_SET-CONFIG-EPOCH":ev.default,clusterSetConfigEpoch:ev.default,CLUSTER_SETSLOT:eE.default,clusterSetSlot:eE.default,CLUSTER_SLOTS:eS.default,clusterSlots:eS.default,COMMAND_COUNT:ew.default,commandCount:ew.default,COMMAND_GETKEYS:eR.default,commandGetKeys:eR.default,COMMAND_GETKEYSANDFLAGS:eO.default,commandGetKeysAndFlags:eO.default,COMMAND_INFO:eA.default,commandInfo:eA.default,COMMAND_LIST:eT.default,commandList:eT.default,COMMAND:eI.default,command:eI.default,CONFIG_GET:eC.default,configGet:eC.default,CONFIG_RESETASTAT:eN.default,configResetStat:eN.default,CONFIG_REWRITE:eP.default,configRewrite:eP.default,CONFIG_SET:ex.default,configSet:ex.default,COPY:eD.default,copy:eD.default,DBSIZE:ek.default,dbSize:ek.default,DECR:eL.default,decr:eL.default,DECRBY:eM.default,decrBy:eM.default,DEL:e$.default,del:e$.default,DUMP:eU.default,dump:eU.default,ECHO:ej.default,echo:ej.default,EVAL_RO:eB.default,evalRo:eB.default,EVAL:ez.default,eval:ez.default,EVALSHA_RO:eq.default,evalShaRo:eq.default,EVALSHA:eK.default,evalSha:eK.default,EXISTS:tn.default,exists:tn.default,EXPIRE:ti.default,expire:ti.default,EXPIREAT:ts.default,expireAt:ts.default,EXPIRETIME:ta.default,expireTime:ta.default,FLUSHALL:to.default,flushAll:to.default,FLUSHDB:tu.default,flushDb:tu.default,FCALL:tl.default,fCall:tl.default,FCALL_RO:tc.default,fCallRo:tc.default,FUNCTION_DELETE:td.default,functionDelete:td.default,FUNCTION_DUMP:tp.default,functionDump:tp.default,FUNCTION_FLUSH:tf.default,functionFlush:tf.default,FUNCTION_KILL:th.default,functionKill:th.default,FUNCTION_LIST_WITHCODE:tm.default,functionListWithCode:tm.default,FUNCTION_LIST:tg.default,functionList:tg.default,FUNCTION_LOAD:ty.default,functionLoad:ty.default,FUNCTION_RESTORE:t_.default,functionRestore:t_.default,FUNCTION_STATS:tb.default,functionStats:tb.default,GEOADD:eF.default,geoAdd:eF.default,GEODIST:eY.default,geoDist:eY.default,GEOHASH:eV.default,geoHash:eV.default,GEOPOS:eG.default,geoPos:eG.default,GEORADIUS_RO_WITH:eH.default,geoRadiusRoWith:eH.default,GEORADIUS_RO:eZ.default,geoRadiusRo:eZ.default,GEORADIUS_STORE:eW.default,geoRadiusStore:eW.default,GEORADIUS_WITH:eQ.default,geoRadiusWith:eQ.default,GEORADIUS:eX.default,geoRadius:eX.default,GEORADIUSBYMEMBER_RO_WITH:eJ.default,geoRadiusByMemberRoWith:eJ.default,GEORADIUSBYMEMBER_RO:e0.default,geoRadiusByMemberRo:e0.default,GEORADIUSBYMEMBER_STORE:e1.default,geoRadiusByMemberStore:e1.default,GEORADIUSBYMEMBER_WITH:e4.default,geoRadiusByMemberWith:e4.default,GEORADIUSBYMEMBER:e2.default,geoRadiusByMember:e2.default,GEOSEARCH_WITH:e6.default,geoSearchWith:e6.default,GEOSEARCH:e3.default,geoSearch:e3.default,GEOSEARCHSTORE:e8.default,geoSearchStore:e8.default,GET:e5.default,get:e5.default,GETBIT:e9.default,getBit:e9.default,GETDEL:e7.default,getDel:e7.default,GETEX:te.default,getEx:te.default,GETRANGE:tt.default,getRange:tt.default,GETSET:tr.default,getSet:tr.default,HDEL:tv.default,hDel:tv.default,HELLO:tE.default,hello:tE.default,HEXISTS:tS.default,hExists:tS.default,HEXPIRE:tw.default,hExpire:tw.default,HEXPIREAT:tR.default,hExpireAt:tR.default,HEXPIRETIME:tO.default,hExpireTime:tO.default,HGET:tA.default,hGet:tA.default,HGETALL:tT.default,hGetAll:tT.default,HGETDEL:tI.default,hGetDel:tI.default,HGETEX:tC.default,hGetEx:tC.default,HINCRBY:tN.default,hIncrBy:tN.default,HINCRBYFLOAT:tP.default,hIncrByFloat:tP.default,HKEYS:tx.default,hKeys:tx.default,HLEN:tD.default,hLen:tD.default,HMGET:tk.default,hmGet:tk.default,HPERSIST:tL.default,hPersist:tL.default,HPEXPIRE:tM.default,hpExpire:tM.default,HPEXPIREAT:t$.default,hpExpireAt:t$.default,HPEXPIRETIME:tU.default,hpExpireTime:tU.default,HPTTL:tj.default,hpTTL:tj.default,HRANDFIELD_COUNT_WITHVALUES:tB.default,hRandFieldCountWithValues:tB.default,HRANDFIELD_COUNT:tz.default,hRandFieldCount:tz.default,HRANDFIELD:tq.default,hRandField:tq.default,HSCAN:tK.default,hScan:tK.default,HSCAN_NOVALUES:tF.default,hScanNoValues:tF.default,HSET:tY.default,hSet:tY.default,HSETEX:tV.default,hSetEx:tV.default,HSETNX:tG.default,hSetNX:tG.default,HSTRLEN:tH.default,hStrLen:tH.default,HTTL:tZ.default,hTTL:tZ.default,HVALS:tW.default,hVals:tW.default,INCR:tQ.default,incr:tQ.default,INCRBY:tX.default,incrBy:tX.default,INCRBYFLOAT:tJ.default,incrByFloat:tJ.default,INFO:t0.default,info:t0.default,KEYS:t1.default,keys:t1.default,LASTSAVE:t4.default,lastSave:t4.default,LATENCY_DOCTOR:t2.default,latencyDoctor:t2.default,LATENCY_GRAPH:t6.default,latencyGraph:t6.default,LATENCY_HISTORY:t3.default,latencyHistory:t3.default,LATENCY_LATEST:t8.default,latencyLatest:t8.default,LATENCY_RESET:t5.default,latencyReset:t5.default,LCS_IDX_WITHMATCHLEN:t9.default,lcsIdxWithMatchLen:t9.default,LCS_IDX:t7.default,lcsIdx:t7.default,LCS_LEN:re.default,lcsLen:re.default,LCS:rt.default,lcs:rt.default,LINDEX:rr.default,lIndex:rr.default,LINSERT:rn.default,lInsert:rn.default,LLEN:ri.default,lLen:ri.default,LMOVE:rs.default,lMove:rs.default,LMPOP:ra.default,lmPop:ra.default,LOLWUT:ro.default,LPOP_COUNT:ru.default,lPopCount:ru.default,LPOP:rl.default,lPop:rl.default,LPOS_COUNT:rc.default,lPosCount:rc.default,LPOS:rd.default,lPos:rd.default,LPUSH:rp.default,lPush:rp.default,LPUSHX:rf.default,lPushX:rf.default,LRANGE:rh.default,lRange:rh.default,LREM:rm.default,lRem:rm.default,LSET:rg.default,lSet:rg.default,LTRIM:ry.default,lTrim:ry.default,MEMORY_DOCTOR:r_.default,memoryDoctor:r_.default,"MEMORY_MALLOC-STATS":rb.default,memoryMallocStats:rb.default,MEMORY_PURGE:rv.default,memoryPurge:rv.default,MEMORY_STATS:rE.default,memoryStats:rE.default,MEMORY_USAGE:rS.default,memoryUsage:rS.default,MGET:rw.default,mGet:rw.default,MIGRATE:rR.default,migrate:rR.default,MODULE_LIST:rO.default,moduleList:rO.default,MODULE_LOAD:rA.default,moduleLoad:rA.default,MODULE_UNLOAD:rT.default,moduleUnload:rT.default,MOVE:rI.default,move:rI.default,MSET:rC.default,mSet:rC.default,MSETNX:rN.default,mSetNX:rN.default,OBJECT_ENCODING:rP.default,objectEncoding:rP.default,OBJECT_FREQ:rx.default,objectFreq:rx.default,OBJECT_IDLETIME:rD.default,objectIdleTime:rD.default,OBJECT_REFCOUNT:rk.default,objectRefCount:rk.default,PERSIST:rL.default,persist:rL.default,PEXPIRE:rM.default,pExpire:rM.default,PEXPIREAT:r$.default,pExpireAt:r$.default,PEXPIRETIME:rU.default,pExpireTime:rU.default,PFADD:rj.default,pfAdd:rj.default,PFCOUNT:rB.default,pfCount:rB.default,PFMERGE:rz.default,pfMerge:rz.default,PING:rq.default,ping:rq.default,PSETEX:rK.default,pSetEx:rK.default,PTTL:rF.default,pTTL:rF.default,PUBLISH:rY.default,publish:rY.default,PUBSUB_CHANNELS:rV.default,pubSubChannels:rV.default,PUBSUB_NUMPAT:rG.default,pubSubNumPat:rG.default,PUBSUB_NUMSUB:rH.default,pubSubNumSub:rH.default,PUBSUB_SHARDNUMSUB:rZ.default,pubSubShardNumSub:rZ.default,PUBSUB_SHARDCHANNELS:rW.default,pubSubShardChannels:rW.default,RANDOMKEY:rQ.default,randomKey:rQ.default,READONLY:rX.default,readonly:rX.default,RENAME:rJ.default,rename:rJ.default,RENAMENX:r0.default,renameNX:r0.default,REPLICAOF:r1.default,replicaOf:r1.default,"RESTORE-ASKING":r4.default,restoreAsking:r4.default,RESTORE:r2.default,restore:r2.default,RPOP_COUNT:r3.default,rPopCount:r3.default,ROLE:r6.default,role:r6.default,RPOP:r8.default,rPop:r8.default,RPOPLPUSH:r5.default,rPopLPush:r5.default,RPUSH:r9.default,rPush:r9.default,RPUSHX:r7.default,rPushX:r7.default,SADD:ne.default,sAdd:ne.default,SCAN:nt.default,scan:nt.default,SCARD:nr.default,sCard:nr.default,SCRIPT_DEBUG:nn.default,scriptDebug:nn.default,SCRIPT_EXISTS:ni.default,scriptExists:ni.default,SCRIPT_FLUSH:ns.default,scriptFlush:ns.default,SCRIPT_KILL:na.default,scriptKill:na.default,SCRIPT_LOAD:no.default,scriptLoad:no.default,SDIFF:nu.default,sDiff:nu.default,SDIFFSTORE:nl.default,sDiffStore:nl.default,SET:nc.default,set:nc.default,SETBIT:nd.default,setBit:nd.default,SETEX:np.default,setEx:np.default,SETNX:nf.default,setNX:nf.default,SETRANGE:nh.default,setRange:nh.default,SINTER:nm.default,sInter:nm.default,SINTERCARD:ng.default,sInterCard:ng.default,SINTERSTORE:ny.default,sInterStore:ny.default,SISMEMBER:n_.default,sIsMember:n_.default,SMEMBERS:nb.default,sMembers:nb.default,SMISMEMBER:nv.default,smIsMember:nv.default,SMOVE:nE.default,sMove:nE.default,SORT_RO:nS.default,sortRo:nS.default,SORT_STORE:nw.default,sortStore:nw.default,SORT:nR.default,sort:nR.default,SPOP_COUNT:nO.default,sPopCount:nO.default,SPOP:nA.default,sPop:nA.default,SPUBLISH:nT.default,sPublish:nT.default,SRANDMEMBER_COUNT:nI.default,sRandMemberCount:nI.default,SRANDMEMBER:nC.default,sRandMember:nC.default,SREM:nN.default,sRem:nN.default,SSCAN:nP.default,sScan:nP.default,STRLEN:nx.default,strLen:nx.default,SUNION:nD.default,sUnion:nD.default,SUNIONSTORE:nk.default,sUnionStore:nk.default,SWAPDB:nL.default,swapDb:nL.default,TIME:nM.default,time:nM.default,TOUCH:n$.default,touch:n$.default,TTL:nU.default,ttl:nU.default,TYPE:nj.default,type:nj.default,UNLINK:nB.default,unlink:nB.default,WAIT:nz.default,wait:nz.default,XACK:nq.default,xAck:nq.default,XACKDEL:nK.default,xAckDel:nK.default,XADD_NOMKSTREAM:nF.default,xAddNoMkStream:nF.default,XADD:nY.default,xAdd:nY.default,XAUTOCLAIM_JUSTID:nV.default,xAutoClaimJustId:nV.default,XAUTOCLAIM:nG.default,xAutoClaim:nG.default,XCLAIM_JUSTID:nH.default,xClaimJustId:nH.default,XCLAIM:nZ.default,xClaim:nZ.default,XDEL:nW.default,xDel:nW.default,XDELEX:nQ.default,xDelEx:nQ.default,XGROUP_CREATE:nX.default,xGroupCreate:nX.default,XGROUP_CREATECONSUMER:nJ.default,xGroupCreateConsumer:nJ.default,XGROUP_DELCONSUMER:n0.default,xGroupDelConsumer:n0.default,XGROUP_DESTROY:n1.default,xGroupDestroy:n1.default,XGROUP_SETID:n4.default,xGroupSetId:n4.default,XINFO_CONSUMERS:n2.default,xInfoConsumers:n2.default,XINFO_GROUPS:n6.default,xInfoGroups:n6.default,XINFO_STREAM:n3.default,xInfoStream:n3.default,XLEN:n8.default,xLen:n8.default,XPENDING_RANGE:n5.default,xPendingRange:n5.default,XPENDING:n9.default,xPending:n9.default,XRANGE:n7.default,xRange:n7.default,XREAD:ie.default,xRead:ie.default,XREADGROUP:it.default,xReadGroup:it.default,XREVRANGE:ir.default,xRevRange:ir.default,XSETID:ii.default,xSetId:ii.default,XTRIM:is.default,xTrim:is.default,ZADD_INCR:ia.default,zAddIncr:ia.default,ZADD:io.default,zAdd:io.default,ZCARD:iu.default,zCard:iu.default,ZCOUNT:il.default,zCount:il.default,ZDIFF_WITHSCORES:ic.default,zDiffWithScores:ic.default,ZDIFF:id.default,zDiff:id.default,ZDIFFSTORE:ip.default,zDiffStore:ip.default,ZINCRBY:ih.default,zIncrBy:ih.default,ZINTER_WITHSCORES:im.default,zInterWithScores:im.default,ZINTER:ig.default,zInter:ig.default,ZINTERCARD:iy.default,zInterCard:iy.default,ZINTERSTORE:i_.default,zInterStore:i_.default,ZLEXCOUNT:ib.default,zLexCount:ib.default,ZMPOP:iv.default,zmPop:iv.default,ZMSCORE:iE.default,zmScore:iE.default,ZPOPMAX_COUNT:iS.default,zPopMaxCount:iS.default,ZPOPMAX:iw.default,zPopMax:iw.default,ZPOPMIN_COUNT:iR.default,zPopMinCount:iR.default,ZPOPMIN:iO.default,zPopMin:iO.default,ZRANDMEMBER_COUNT_WITHSCORES:iA.default,zRandMemberCountWithScores:iA.default,ZRANDMEMBER_COUNT:iT.default,zRandMemberCount:iT.default,ZRANDMEMBER:iI.default,zRandMember:iI.default,ZRANGE_WITHSCORES:iC.default,zRangeWithScores:iC.default,ZRANGE:iN.default,zRange:iN.default,ZRANGEBYLEX:iP.default,zRangeByLex:iP.default,ZRANGEBYSCORE_WITHSCORES:ix.default,zRangeByScoreWithScores:ix.default,ZRANGEBYSCORE:iD.default,zRangeByScore:iD.default,ZRANGESTORE:ik.default,zRangeStore:ik.default,ZRANK_WITHSCORE:iM.default,zRankWithScore:iM.default,ZRANK:i$.default,zRank:i$.default,ZREM:iU.default,zRem:iU.default,ZREMRANGEBYLEX:ij.default,zRemRangeByLex:ij.default,ZREMRANGEBYRANK:iB.default,zRemRangeByRank:iB.default,ZREMRANGEBYSCORE:iL.default,zRemRangeByScore:iL.default,ZREVRANK:iz.default,zRevRank:iz.default,ZSCAN:iq.default,zScan:iq.default,ZSCORE:iK.default,zScore:iK.default,ZUNION_WITHSCORES:iF.default,zUnionWithScores:iF.default,ZUNION:iY.default,zUnion:iY.default,ZUNIONSTORE:iV.default,zUnionStore:iV.default,VADD:iG.default,vAdd:iG.default,VCARD:iH.default,vCard:iH.default,VDIM:iZ.default,vDim:iZ.default,VEMB:iW.default,vEmb:iW.default,VEMB_RAW:iQ.default,vEmbRaw:iQ.default,VGETATTR:iX.default,vGetAttr:iX.default,VINFO:iJ.default,vInfo:iJ.default,VLINKS:i0.default,vLinks:i0.default,VLINKS_WITHSCORES:i1.default,vLinksWithScores:i1.default,VRANDMEMBER:i4.default,vRandMember:i4.default,VREM:i2.default,vRem:i2.default,VSETATTR:i6.default,vSetAttr:i6.default,VSIM:i3.default,vSim:i3.default,VSIM_WITHSCORES:i8.default,vSimWithScores:i8.default}},44851,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.emitDiagnostics=r.dbgMaintenance=r.MAINTENANCE_EVENTS=void 0;let i=e.r(4446),s=e.r(19901),a=n(e.r(57328)),o=e.r(36340),u=n(e.r(77652));r.MAINTENANCE_EVENTS={PAUSE_WRITING:"pause-writing",RESUME_WRITING:"resume-writing",TIMEOUTS_UPDATE:"timeouts-update"};let l={MOVING:"MOVING",MIGRATING:"MIGRATING",MIGRATED:"MIGRATED",FAILING_OVER:"FAILING_OVER",FAILED_OVER:"FAILED_OVER"};async function c(e,t,n){let o;if((0,a.default)(void 0!==n.maintEndpointType),"auto"!==n.maintEndpointType)return(0,r.dbgMaintenance)(`Determine endpoint type: ${n.maintEndpointType}`),n.maintEndpointType;let u=function(e){let t=(0,i.isIP)(e);if(4===t){let t=e.split(".").map(Number);return 10===t[0]||172===t[0]&&t[1]>=16&&t[1]<=31||192===t[0]&&168===t[1]}return 6===t&&(e.startsWith("fc")||e.startsWith("fd")||"::1"===e||e.startsWith("fe80"))}((0,i.isIP)(t)?t:(await (0,s.lookup)(t,{family:0})).address);return o=e?u?"internal-fqdn":"external-fqdn":u?"internal-ip":"external-ip",(0,r.dbgMaintenance)(`Determine endpoint type: ${o}`),o}r.dbgMaintenance=(...e)=>{if(process.env.REDIS_DEBUG_MAINTENANCE)return console.log("[MNT]",...e)},r.emitDiagnostics=e=>{process.env.REDIS_EMIT_DIAGNOSTICS&&u.default.channel("redis.maintenance").publish(e)},r.default=class{#tw;#D;#tR=0;#x;static setupDefaultMaintOptions(e){void 0===e.maintNotifications&&(e.maintNotifications=e?.RESP===3?"auto":"disabled"),void 0===e.maintEndpointType&&(e.maintEndpointType="auto"),void 0===e.maintRelaxedSocketTimeout&&(e.maintRelaxedSocketTimeout=1e4),void 0===e.maintRelaxedCommandTimeout&&(e.maintRelaxedCommandTimeout=1e4)}static async getHandshakeCommand(e){if("disabled"===e.maintNotifications)return;let t=e.url?new URL(e.url).hostname:e.socket?.host;if(!t)return;let n=e.socket?.tls??!1;return{cmd:["CLIENT","MAINT_NOTIFICATIONS","ON","moving-endpoint-type",await c(n,t,e)],errorHandler:t=>{if((0,r.dbgMaintenance)("handshake failed:",t),"enabled"===e.maintNotifications)throw t}}}constructor(e,t,r){this.#tw=e,this.#D=r,this.#x=t,this.#tw.addPushHandler(this.#tO)}#tO=e=>{if((0,r.dbgMaintenance)("ONPUSH:",e.map(String)),!Array.isArray(e)||!["MOVING","MIGRATING","MIGRATED","FAILING_OVER","FAILED_OVER"].includes(String(e[0])))return!1;let t=String(e[0]);switch((0,r.emitDiagnostics)({type:t,timestamp:Date.now(),data:{push:e.map(String)}}),t){case l.MOVING:{let t=e[2],n=e[3]?String(e[3]):null;return(0,r.dbgMaintenance)("Received MOVING:",t,n),this.#tA(t,n),!0}case l.MIGRATING:case l.FAILING_OVER:return(0,r.dbgMaintenance)("Received MIGRATING|FAILING_OVER"),this.#tT(),!0;case l.MIGRATED:case l.FAILED_OVER:return(0,r.dbgMaintenance)("Received MIGRATED|FAILED_OVER"),this.#tI(),!0}return!1};#tA=async(e,t)=>{let n,i;if(this.#tT(),null===t){(0,a.default)("none"===this.#D.maintEndpointType),(0,a.default)(void 0!==this.#D.socket),(0,a.default)("host"in this.#D.socket),(0,a.default)("string"==typeof this.#D.socket.host),n=this.#D.socket.host,(0,a.default)("number"==typeof this.#D.socket.port),i=this.#D.socket.port;let t=1e3*e/2;(0,r.dbgMaintenance)(`Wait for ${t}ms`),await (0,o.setTimeout)(t)}else{let e=t.split(":");n=e[0],i=Number(e[1])}(0,r.dbgMaintenance)("Pausing writing of new commands to old socket"),this.#x._pause(),(0,r.dbgMaintenance)("Creating new tmp client");let s=performance.now();if(this.#D.url){let e=new URL(this.#D.url);e.hostname=n,e.port=String(i),this.#D.url=e.toString()}else this.#D.socket={...this.#D.socket,host:n,port:i};let u=this.#x.duplicate();u.on("error",e=>{(0,r.dbgMaintenance)("[ERR]",e)}),(0,r.dbgMaintenance)(`Tmp client created in ${(performance.now()-s).toFixed(2)}ms`),(0,r.dbgMaintenance)(`Set timeout for tmp client to ${this.#D.maintRelaxedSocketTimeout}`),u._maintenanceUpdate({relaxedCommandTimeout:this.#D.maintRelaxedCommandTimeout,relaxedSocketTimeout:this.#D.maintRelaxedSocketTimeout}),(0,r.dbgMaintenance)(`Connecting tmp client: ${n}:${i}`),s=performance.now(),await u.connect(),(0,r.dbgMaintenance)(`Connected to tmp client in ${(performance.now()-s).toFixed(2)}ms`),(0,r.dbgMaintenance)("Wait for all in-flight commands to complete"),await this.#tw.waitForInflightCommandsToComplete(),(0,r.dbgMaintenance)("In-flight commands completed"),(0,r.dbgMaintenance)("Swap client sockets...");let l=this.#x._ejectSocket(),c=u._ejectSocket();this.#x._insertSocket(c),u._insertSocket(l),u.destroy(),(0,r.dbgMaintenance)("Swap client sockets done."),(0,r.dbgMaintenance)("Resume writing"),this.#x._unpause(),this.#tI()};#tT=()=>{if(this.#tR++,this.#tR>1)return void(0,r.dbgMaintenance)("Timeout relaxation already done");let e={relaxedCommandTimeout:this.#D.maintRelaxedCommandTimeout,relaxedSocketTimeout:this.#D.maintRelaxedSocketTimeout};this.#x._maintenanceUpdate(e)};#tI=()=>{if(this.#tR=Math.max(this.#tR-1,0),this.#tR>0)return void(0,r.dbgMaintenance)("Not ready to unrelax timeouts yet");this.#x._maintenanceUpdate({relaxedCommandTimeout:void 0,relaxedSocketTimeout:void 0})}}},78815,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(87769),s=n(e.r(61095)),a=n(e.r(85560)),o=e.r(77816),u=e.r(36340),l=e.r(44851);class c extends i.EventEmitter{#tC;#tN;#tP;#tx;#tD;#tk;#tL;#tM=!1;get isOpen(){return this.#tM}#t$=!1;get isReady(){return this.#t$}#tU=!1;#tj=0;get socketEpoch(){return this.#tj}constructor(e,t){super(),this.#tC=e,this.#tN=t?.connectTimeout??5e3,this.#tP=this.#tB(t),this.#tx=this.#tz(t),this.#tD=t?.socketTimeout}#tB(e){let t=e?.reconnectStrategy;return!1===t||"number"==typeof t?()=>t:t?(e,r)=>{try{let n=t(e,r);if(!1!==n&&!(n instanceof Error)&&"number"!=typeof n)throw TypeError(`Reconnect strategy should return \`false | Error | number\`, got ${n} instead`);return n}catch(t){return this.emit("error",t),this.defaultReconnectStrategy(e,t)}}:this.defaultReconnectStrategy}#tz(e){if(e?.tls===!0){let t={...e,port:e?.port??6379,noDelay:e?.noDelay??!0,keepAlive:e?.keepAlive??!0,keepAliveInitialDelay:e?.keepAliveInitialDelay??5e3,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create:()=>a.default.connect(t),event:"secureConnect"}}if(e&&"path"in e){let t={...e,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create:()=>s.default.createConnection(t),event:"connect"}}let t={...e,port:e?.port??6379,noDelay:e?.noDelay??!0,keepAlive:e?.keepAlive??!0,keepAliveInitialDelay:e?.keepAliveInitialDelay??5e3,timeout:void 0,onread:void 0,readable:!0,writable:!0};return{create:()=>s.default.createConnection(t),event:"connect"}}#tq(e,t){let r=this.#tP(e,t);return!1===r?(this.#tM=!1,this.emit("error",t),t):r instanceof Error?(this.#tM=!1,this.emit("error",t),new o.ReconnectStrategyError(r,t)):r}async connect(){if(this.#tM)throw Error("Socket already opened");return this.#tM=!0,this.#tK()}async #tK(){let e=0;do try{this.#tL=await this.#tF(),this.emit("connect");try{await this.#tC()}catch(e){throw this.#tL.destroy(),this.#tL=void 0,e}this.#t$=!0,this.#tj++,this.emit("ready")}catch(r){let t=this.#tq(e++,r);if("number"!=typeof t)throw t;this.emit("error",r),await (0,u.setTimeout)(t),this.emit("reconnecting")}while(this.#tM&&!this.#t$)}setMaintenanceTimeout(e){if((0,l.dbgMaintenance)(`Set socket timeout to ${e}`),this.#tk===e)return void(0,l.dbgMaintenance)(`Socket already set maintenanceCommandTimeout to ${e}, skipping`);this.#tk=e,void 0!==e?this.#tL?.setTimeout(e):this.#tL?.setTimeout(this.#tD??0)}async #tF(){let e,t=this.#tx.create();return void 0!==this.#tN&&(e=()=>t.destroy(new o.ConnectionTimeoutError),t.once("timeout",e),t.setTimeout(this.#tN)),this.#tU&&t.unref(),await (0,i.once)(t,this.#tx.event),e&&t.removeListener("timeout",e),this.#tD&&(t.once("timeout",()=>{let e=this.#tk?new o.SocketTimeoutDuringMaintenanceError(this.#tk):new o.SocketTimeoutError(this.#tD);t.destroy(e)}),t.setTimeout(this.#tD)),t.once("error",e=>this.#tY(e)).once("close",e=>{!e&&this.#tM&&this.#tL===t&&this.#tY(new o.SocketClosedUnexpectedlyError)}).on("drain",()=>this.emit("drain")).on("data",e=>this.emit("data",e)),t}#tY(e){let t=this.#t$;this.#t$=!1,this.emit("error",e),t&&this.#tM&&"number"==typeof this.#tq(0,e)&&(this.emit("reconnecting"),this.#tK().catch(()=>{}))}write(e){if(this.#tL){for(let t of(this.#tL.cork(),e)){for(let e of t)this.#tL.write(e);if(this.#tL.writableNeedDrain)break}this.#tL.uncork()}}async quit(e){if(!this.#tM)throw new o.ClientClosedError;this.#tM=!1;let t=await e();return this.destroySocket(),t}close(){if(!this.#tM)throw new o.ClientClosedError;this.#tM=!1}destroy(){if(!this.#tM)throw new o.ClientClosedError;this.#tM=!1,this.destroySocket()}destroySocket(){this.#t$=!1,this.#tL&&(this.#tL.destroy(),this.#tL=void 0),this.emit("end")}ref(){this.#tU=!1,this.#tL?.ref()}unref(){this.#tU=!0,this.#tL?.unref()}defaultReconnectStrategy(e,t){return!(t instanceof o.SocketTimeoutError)&&Math.min(50*Math.pow(2,e),2e3)+Math.floor(200*Math.random())}}r.default=c},36890,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Token=void 0,r.Token=class{value;expiresAtMs;receivedAtMs;constructor(e,t,r){this.value=e,this.expiresAtMs=t,this.receivedAtMs=r}getTtlMs(e){return this.expiresAtMs<e?0:this.expiresAtMs-e}}},82387,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TokenManager=r.IDPError=void 0;let n=e.r(36890);class i extends Error{message;isRetryable;constructor(e,t){super(e),this.message=e,this.isRetryable=t,this.name="IDPError"}}r.IDPError=i,r.TokenManager=class{identityProvider;config;currentToken=null;refreshTimeout=null;listener=null;retryAttempt=0;constructor(e,t){if(this.identityProvider=e,this.config=t,this.config.expirationRefreshRatio>1)throw Error("expirationRefreshRatio must be less than or equal to 1");if(this.config.expirationRefreshRatio<0)throw Error("expirationRefreshRatio must be greater or equal to 0")}start(e,t=0){return this.listener&&this.stop(),this.listener=e,this.retryAttempt=0,this.scheduleNextRefresh(t),{dispose:()=>this.stop()}}calculateRetryDelay(){if(!this.config.retry)return 0;let{initialDelayMs:e,maxDelayMs:t,backoffMultiplier:r,jitterPercentage:n}=this.config.retry,i=e*Math.pow(r,this.retryAttempt-1);if(i=Math.min(i,t),n){let e=n/100*i;i+=Math.random()*e-e/2}return Math.max(0,Math.floor(i))}shouldRetry(e){if(!this.config.retry)return!1;let{maxAttempts:t,isRetryable:r}=this.config.retry;return!(this.retryAttempt>=t)&&!!r&&r(e,this.retryAttempt)}isRunning(){return null!==this.listener}async refresh(){if(!this.listener)throw Error("TokenManager is not running, but refresh was called");try{await this.identityProvider.requestToken().then(this.handleNewToken),this.retryAttempt=0}catch(e){if(this.shouldRetry(e)){this.retryAttempt++;let t=this.calculateRetryDelay();this.notifyError(`Token refresh failed (attempt ${this.retryAttempt}), retrying in ${t}ms: ${e}`,!0),this.scheduleNextRefresh(t)}else this.notifyError(e,!1),this.stop()}}handleNewToken=async({token:e,ttlMs:t})=>{if(!this.listener)throw Error("TokenManager is not running, but a new token was received");let r=this.wrapAndSetCurrentToken(e,t);this.listener.onNext(r),this.scheduleNextRefresh(this.calculateRefreshTime(r))};wrapAndSetCurrentToken(e,t){let r=Date.now(),i=new n.Token(e,r+t,r);return this.currentToken=i,i}scheduleNextRefresh(e){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),0===e?this.refresh():this.refreshTimeout=setTimeout(()=>this.refresh(),e)}calculateRefreshTime(e,t=Date.now()){return Math.floor(e.getTtlMs(t)*this.config.expirationRefreshRatio)}stop(){this.refreshTimeout&&(clearTimeout(this.refreshTimeout),this.refreshTimeout=null),this.listener=null,this.currentToken=null,this.retryAttempt=0}getCurrentToken(){return this.currentToken}notifyError(e,t){let r=e instanceof Error?e.message:String(e);if(!this.listener)throw Error(`TokenManager is not running but received an error: ${r}`);this.listener.onError(new i(r,t))}}},8398,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UnableToObtainNewCredentialsError=r.CredentialsError=void 0,r.CredentialsError=class extends Error{constructor(e){super(`Re-authentication with latest credentials failed: ${e}`),this.name="CredentialsError"}},r.UnableToObtainNewCredentialsError=class extends Error{constructor(e){super(`Unable to obtain new credentials : ${e}`),this.name="UnableToObtainNewCredentialsError"}}},63386,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Token=r.CredentialsError=r.UnableToObtainNewCredentialsError=r.IDPError=r.TokenManager=void 0;var n=e.r(82387);Object.defineProperty(r,"TokenManager",{enumerable:!0,get:function(){return n.TokenManager}}),Object.defineProperty(r,"IDPError",{enumerable:!0,get:function(){return n.IDPError}});var i=e.r(8398);Object.defineProperty(r,"UnableToObtainNewCredentialsError",{enumerable:!0,get:function(){return i.UnableToObtainNewCredentialsError}}),Object.defineProperty(r,"CredentialsError",{enumerable:!0,get:function(){return i.CredentialsError}});var s=e.r(36890);Object.defineProperty(r,"Token",{enumerable:!0,get:function(){return s.Token}})},26234,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyAwareSinglyLinkedList=r.SinglyLinkedList=r.DoublyLinkedList=void 0;let i=n(e.r(27699));class s{#tV=0;get length(){return this.#tV}#tG;get head(){return this.#tG}#tH;get tail(){return this.#tH}push(e){return(++this.#tV,void 0===this.#tH)?this.#tG=this.#tH={previous:this.#tG,next:void 0,value:e}:this.#tH=this.#tH.next={previous:this.#tH,next:void 0,value:e}}unshift(e){return(++this.#tV,void 0===this.#tG)?this.#tG=this.#tH={previous:void 0,next:void 0,value:e}:this.#tG=this.#tG.previous={previous:void 0,next:this.#tG,value:e}}add(e,t=!1){return t?this.unshift(e):this.push(e)}shift(){if(void 0===this.#tG)return;--this.#tV;let e=this.#tG;return e.next?(e.next.previous=void 0,this.#tG=e.next,e.next=void 0):this.#tG=this.#tH=void 0,e.value}remove(e){0!==this.#tV&&(--this.#tV,this.#tH===e&&(this.#tH=e.previous),this.#tG===e?this.#tG=e.next:(e.previous&&(e.previous.next=e.next),e.next&&(e.next.previous=e.previous)),e.previous=void 0,e.next=void 0)}reset(){this.#tV=0,this.#tG=this.#tH=void 0}*[Symbol.iterator](){let e=this.#tG;for(;void 0!==e;)yield e.value,e=e.next}*nodes(){let e=this.#tG;for(;e;){let t=e.next;yield e,e=t}}}r.DoublyLinkedList=s;class a{#tV=0;get length(){return this.#tV}#tG;get head(){return this.#tG}#tH;get tail(){return this.#tH}push(e){++this.#tV;let t={value:e,next:void 0,removed:!1};return void 0===this.#tG?this.#tG=this.#tH=t:this.#tH.next=this.#tH=t}remove(e,t){if(e.removed)throw Error("node already removed");--this.#tV,this.#tG===e?this.#tH===e?this.#tG=this.#tH=void 0:this.#tG=e.next:this.#tH===e?(this.#tH=t,t.next=void 0):t.next=e.next,e.removed=!0}shift(){if(void 0===this.#tG)return;let e=this.#tG;return 0==--this.#tV?this.#tG=this.#tH=void 0:this.#tG=e.next,e.removed=!0,e.value}reset(){this.#tV=0,this.#tG=this.#tH=void 0}*[Symbol.iterator](){let e=this.#tG;for(;void 0!==e;)yield e.value,e=e.next}}r.SinglyLinkedList=a;class o extends a{events=new i.default;reset(){let e=this.length;super.reset(),e!==this.length&&0===this.length&&this.events.emit("empty")}shift(){let e=this.length,t=super.shift();return e!==this.length&&0===this.length&&this.events.emit("empty"),t}remove(e,t){let r=this.length;super.remove(e,t),r!==this.length&&0===this.length&&this.events.emit("empty")}}r.EmptyAwareSinglyLinkedList=o},66460,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let t=[],r="*"+e.length+"\r\n";for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i)r+="$"+Buffer.byteLength(i)+"\r\n"+i+"\r\n";else if(i instanceof Buffer)t.push(r+"$"+i.length.toString()+"\r\n",i),r="\r\n";else throw TypeError(`"arguments[${n}]" must be of type "string | Buffer", got ${typeof i} instead.`)}return t.push(r),t}},41591,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PubSub=r.PUBSUB_TYPE=void 0,r.PUBSUB_TYPE={CHANNELS:"CHANNELS",PATTERNS:"PATTERNS",SHARDED:"SHARDED"};let n={[r.PUBSUB_TYPE.CHANNELS]:{subscribe:Buffer.from("subscribe"),unsubscribe:Buffer.from("unsubscribe"),message:Buffer.from("message")},[r.PUBSUB_TYPE.PATTERNS]:{subscribe:Buffer.from("psubscribe"),unsubscribe:Buffer.from("punsubscribe"),message:Buffer.from("pmessage")},[r.PUBSUB_TYPE.SHARDED]:{subscribe:Buffer.from("ssubscribe"),unsubscribe:Buffer.from("sunsubscribe"),message:Buffer.from("smessage")}};class i{static isStatusReply(e){return n[r.PUBSUB_TYPE.CHANNELS].subscribe.equals(e[0])||n[r.PUBSUB_TYPE.CHANNELS].unsubscribe.equals(e[0])||n[r.PUBSUB_TYPE.PATTERNS].subscribe.equals(e[0])||n[r.PUBSUB_TYPE.PATTERNS].unsubscribe.equals(e[0])||n[r.PUBSUB_TYPE.SHARDED].subscribe.equals(e[0])}static isShardedUnsubscribe(e){return n[r.PUBSUB_TYPE.SHARDED].unsubscribe.equals(e[0])}static #tZ(e){return Array.isArray(e)?e:[e]}static #tW(e,t){return t?e.buffers:e.strings}#tQ=0;#tX=!1;get isActive(){return this.#tX}listeners={[r.PUBSUB_TYPE.CHANNELS]:new Map,[r.PUBSUB_TYPE.PATTERNS]:new Map,[r.PUBSUB_TYPE.SHARDED]:new Map};subscribe(e,t,r,s){let a=[n[e].subscribe],o=i.#tZ(t);for(let t of o){let r=this.listeners[e].get(t);(!r||r.unsubscribing)&&a.push(t)}if(1===a.length){for(let t of o)i.#tW(this.listeners[e].get(t),s).add(r);return}return this.#tX=!0,this.#tQ++,{args:a,channelsCounter:a.length-1,resolve:()=>{for(let t of(this.#tQ--,o)){let n=this.listeners[e].get(t);n||(n={unsubscribing:!1,buffers:new Set,strings:new Set},this.listeners[e].set(t,n)),i.#tW(n,s).add(r)}},reject:()=>{this.#tQ--,this.#tJ()}}}extendChannelListeners(e,t,r){if(this.#t0(e,t,r))return this.#tX=!0,this.#tQ++,{args:[n[e].subscribe,t],channelsCounter:1,resolve:()=>this.#tQ--,reject:()=>{this.#tQ--,this.#tJ()}}}#t0(e,t,r){let n=this.listeners[e].get(t);if(!n)return this.listeners[e].set(t,r),!0;for(let e of r.buffers)n.buffers.add(e);for(let e of r.strings)n.strings.add(e);return!1}extendTypeListeners(e,t){let r=[n[e].subscribe];for(let[n,i]of t)this.#t0(e,n,i)&&r.push(n);if(1!==r.length)return this.#tX=!0,this.#tQ++,{args:r,channelsCounter:r.length-1,resolve:()=>this.#tQ--,reject:()=>{this.#tQ--,this.#tJ()}}}unsubscribe(e,t,r,s){let a=this.listeners[e];if(!t)return this.#t1([n[e].unsubscribe],NaN,()=>a.clear());let o=i.#tZ(t);if(!r)return this.#t1([n[e].unsubscribe,...o],o.length,()=>{for(let e of o)a.delete(e)});let u=[n[e].unsubscribe];for(let e of o){let t=a.get(e);if(t){let e,n;if(s?(e=t.buffers,n=t.strings):(e=t.strings,n=t.buffers),0!==(e.has(r)?e.size-1:e.size)||0!==n.size)continue;t.unsubscribing=!0}u.push(e)}if(1===u.length){for(let e of o)i.#tW(a.get(e),s).delete(r);return}return this.#t1(u,u.length-1,()=>{for(let e of o){let t=a.get(e);t&&((s?t.buffers:t.strings).delete(r),0===t.buffers.size&&0===t.strings.size&&a.delete(e))}})}#t1(e,t,r){return{args:e,channelsCounter:t,resolve:()=>{r(),this.#tJ()},reject:void 0}}#tJ(){this.#tX=0!==this.listeners[r.PUBSUB_TYPE.CHANNELS].size||0!==this.listeners[r.PUBSUB_TYPE.PATTERNS].size||0!==this.listeners[r.PUBSUB_TYPE.SHARDED].size||0!==this.#tQ}reset(){this.#tX=!1,this.#tQ=0}resubscribe(){let e=[];for(let[t,n]of Object.entries(this.listeners))n.size&&(this.#tX=!0,t===r.PUBSUB_TYPE.SHARDED?this.#t4(e,n):this.#t2(e,t,n));return e}#t2(e,t,r){this.#tQ++;let i=()=>this.#tQ--;e.push({args:[n[t].subscribe,...r.keys()],channelsCounter:r.size,resolve:i,reject:i})}#t4(e,t){let i=()=>this.#tQ--;for(let s of t.keys())this.#tQ++,e.push({args:[n[r.PUBSUB_TYPE.SHARDED].subscribe,s],channelsCounter:1,resolve:i,reject:i})}handleMessageReply(e){return n[r.PUBSUB_TYPE.CHANNELS].message.equals(e[0])?(this.#t6(r.PUBSUB_TYPE.CHANNELS,e[2],e[1]),!0):n[r.PUBSUB_TYPE.PATTERNS].message.equals(e[0])?(this.#t6(r.PUBSUB_TYPE.PATTERNS,e[3],e[2],e[1]),!0):!!n[r.PUBSUB_TYPE.SHARDED].message.equals(e[0])&&(this.#t6(r.PUBSUB_TYPE.SHARDED,e[2],e[1]),!0)}removeShardedListeners(e){let t=this.listeners[r.PUBSUB_TYPE.SHARDED].get(e);return this.listeners[r.PUBSUB_TYPE.SHARDED].delete(e),this.#tJ(),t}removeAllListeners(){let e={[r.PUBSUB_TYPE.CHANNELS]:this.listeners[r.PUBSUB_TYPE.CHANNELS],[r.PUBSUB_TYPE.PATTERNS]:this.listeners[r.PUBSUB_TYPE.PATTERNS],[r.PUBSUB_TYPE.SHARDED]:this.listeners[r.PUBSUB_TYPE.SHARDED]};return this.#tJ(),this.listeners[r.PUBSUB_TYPE.CHANNELS]=new Map,this.listeners[r.PUBSUB_TYPE.PATTERNS]=new Map,this.listeners[r.PUBSUB_TYPE.SHARDED]=new Map,e}#t6(e,t,r,n){let i=(n??r).toString(),s=this.listeners[e].get(i);if(!s)return;for(let e of s.buffers)e(t,r);if(!s.strings.size)return;let a=n?r.toString():i,o="__redis__:invalidate"===a?null===t?null:t.map(e=>e.toString()):t.toString();for(let e of s.strings)e(o,a)}}r.PubSub=i},82088,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(26234),s=n(e.r(66460)),a=e.r(85366),o=e.r(41591),u=e.r(77816),l=e.r(44851),c=Buffer.from("pong"),d=Buffer.from("RESET"),p={...a.PUSH_TYPE_MAPPING,[a.RESP_TYPES.SIMPLE_STRING]:Buffer};class f{#t3;#t8;#t5=new i.DoublyLinkedList;#t9=new i.EmptyAwareSinglyLinkedList;#t7;#re;decoder;#rt=new o.PubSub;#rr=[this.#tO.bind(this)];#rn;setMaintenanceCommandTimeout(e){if(this.#rn===e)return void(0,l.dbgMaintenance)(`Queue already set maintenanceCommandTimeout to ${e}, skipping`);if((0,l.dbgMaintenance)(`Setting maintenance command timeout to ${e}`),this.#rn=e,void 0===this.#rn)return void(0,l.dbgMaintenance)("Queue will keep maintenanceCommandTimeout for exisitng commands, just to be on the safe side. New commands will receive normal timeouts");let t=0,r=this.#t5.length;for(let e of this.#t5.nodes()){let r=e.value;f.#ri(r),t++;let n=this.#rn,i=AbortSignal.timeout(n);r.timeout={signal:i,listener:()=>{this.#t5.remove(e),r.reject(new u.CommandTimeoutDuringMaintenanceError(n))},originalTimeout:r.timeout?.originalTimeout},i.addEventListener("abort",r.timeout.listener,{once:!0})}(0,l.dbgMaintenance)(`Total of ${t} of ${r} timeouts reset to ${e}`)}get isPubSubActive(){return this.#rt.isActive}constructor(e,t,r){this.#t3=e,this.#t8=t,this.#t7=r,this.decoder=this.#rs()}#ra(e){this.#t9.shift().resolve(e)}#ro(e){this.#t9.shift().reject(e)}#tO(e){if(this.#rt.handleMessageReply(e))return!0;let t=o.PubSub.isShardedUnsubscribe(e);if(t&&!this.#t9.length){let t=e[1].toString();return this.#t7(t,this.#rt.removeShardedListeners(t)),!0}if(t||o.PubSub.isStatusReply(e)){let t=this.#t9.head.value;return(Number.isNaN(t.channelsCounter)&&0===e[2]||0==--t.channelsCounter)&&this.#t9.shift().resolve(),!0}return!1}#ru(){return this.#t9.head.value.typeMapping??{}}#rs(){return new a.Decoder({onReply:e=>this.#ra(e),onErrorReply:e=>this.#ro(e),onPush:e=>{for(let t of this.#rr)if(t(e))return},getTypeMapping:()=>this.#ru()})}addPushHandler(e){this.#rr.push(e)}async waitForInflightCommandsToComplete(){if(0!==this.#t9.length)return new Promise(e=>{this.#t9.events.on("empty",e)})}addCommand(e,t){return this.#t8&&this.#t5.length+this.#t9.length>=this.#t8?Promise.reject(Error("The queue is full")):t?.abortSignal?.aborted?Promise.reject(new u.AbortError):new Promise((r,n)=>{let i,s={args:e,chainId:t?.chainId,abort:void 0,timeout:void 0,resolve:r,reject:n,channelsCounter:void 0,typeMapping:t?.typeMapping},a=this.#rn??t?.timeout,o=void 0!==this.#rn;if(a){let e=AbortSignal.timeout(a);s.timeout={signal:e,listener:()=>{this.#t5.remove(i),s.reject(o?new u.CommandTimeoutDuringMaintenanceError(a):new u.TimeoutError)},originalTimeout:t?.timeout},e.addEventListener("abort",s.timeout.listener,{once:!0})}let l=t?.abortSignal;l&&(s.abort={signal:l,listener:()=>{this.#t5.remove(i),s.reject(new u.AbortError)}},l.addEventListener("abort",s.abort.listener,{once:!0})),i=this.#t5.add(s,t?.asap)})}#rl(e,t=!1,r){return new Promise((n,i)=>{this.#t5.add({args:e.args,chainId:r,abort:void 0,timeout:void 0,resolve(){e.resolve(),n()},reject(t){e.reject?.(),i(t)},channelsCounter:e.channelsCounter,typeMapping:a.PUSH_TYPE_MAPPING},t)})}#rc(){2===this.#t3&&(this.decoder.onReply=e=>{if(Array.isArray(e)){if(this.#tO(e))return;if(c.equals(e[0])){let{resolve:t,typeMapping:r}=this.#t9.shift(),n=0===e[1].length?e[0]:e[1];t(r?.[a.RESP_TYPES.SIMPLE_STRING]===Buffer?n:n.toString());return}}return this.#ra(e)},this.decoder.getTypeMapping=()=>p)}subscribe(e,t,r,n){let i=this.#rt.subscribe(e,t,r,n);if(i)return this.#rc(),this.#rl(i)}#rd(){this.decoder.onReply=e=>this.#ra(e),this.decoder.getTypeMapping=()=>this.#ru()}unsubscribe(e,t,r,n){let i=this.#rt.unsubscribe(e,t,r,n);if(i){if(i&&2===this.#t3){let{resolve:e}=i;i.resolve=()=>{this.#rt.isActive||this.#rd(),e()}}return this.#rl(i)}}removeAllPubSubListeners(){return this.#rt.removeAllListeners()}resubscribe(e){let t=this.#rt.resubscribe();if(t.length)return this.#rc(),Promise.all(t.map(t=>this.#rl(t,!0,e)))}extendPubSubChannelListeners(e,t,r){let n=this.#rt.extendChannelListeners(e,t,r);if(n)return this.#rc(),this.#rl(n)}extendPubSubListeners(e,t){let r=this.#rt.extendTypeListeners(e,t);if(r)return this.#rc(),this.#rl(r)}getPubSubListeners(e){return this.#rt.listeners[e]}monitor(e,t){return new Promise((r,n)=>{let i=t?.typeMapping??{};this.#t5.add({args:["MONITOR"],chainId:t?.chainId,abort:void 0,timeout:void 0,resolve:()=>{this.#rp?this.#rp=e:this.decoder.onReply=e,this.decoder.getTypeMapping=()=>i,r()},reject:n,channelsCounter:void 0,typeMapping:i},t?.asap)})}resetDecoder(){this.#rd(),this.decoder.reset()}#rp;async reset(e,t){return new Promise((r,n)=>{this.#rp=this.decoder.onReply,this.decoder.onReply=e=>{if("string"==typeof e&&"RESET"===e||e instanceof Buffer&&d.equals(e)){this.#rd(),this.#rp=void 0,this.#rt.reset(),this.#t9.shift().resolve(e);return}this.#rp(e)},this.#t5.push({args:["RESET"],chainId:e,abort:void 0,timeout:void 0,resolve:r,reject:n,channelsCounter:void 0,typeMapping:t})})}isWaitingToWrite(){return this.#t5.length>0}*commandsToWrite(){let e=this.#t5.shift();for(;e;){let t;try{t=(0,s.default)(e.args)}catch(t){e.reject(t),e=this.#t5.shift();continue}e.args=void 0,e.abort&&(f.#rf(e),e.abort=void 0),e.timeout&&(f.#ri(e),e.timeout=void 0),this.#re=e.chainId,e.chainId=void 0,this.#t9.push(e),yield t,e=this.#t5.shift()}}#rh(e){for(let t of this.#t9)t.reject(e);this.#t9.reset()}static #rf(e){e.abort.signal.removeEventListener("abort",e.abort.listener)}static #ri(e){e.timeout?.signal.removeEventListener("abort",e.timeout.listener)}static #rm(e,t){e.abort&&f.#rf(e),e.timeout&&f.#ri(e),e.reject(t)}flushWaitingForReply(e){if(this.resetDecoder(),this.#rt.reset(),this.#rh(e),this.#re){for(;this.#t5.head?.value.chainId===this.#re;)f.#rm(this.#t5.shift(),e);this.#re=void 0}}flushAll(e){for(let t of(this.resetDecoder(),this.#rt.reset(),this.#rh(e),this.#t5))f.#rm(t,e);this.#t5.reset()}isEmpty(){return 0===this.#t5.length&&0===this.#t9.length}}r.default=f},15823,(e,t,r)=>{"use strict";function n(){throw Error("Some RESP3 results for Redis Query Engine responses may change. Refer to the readme for guidance")}function i(e,t,r){Object.defineProperty(e,t,{get(){let e=Object.create(r);return e._self=this,Object.defineProperty(this,t,{value:e}),e}})}Object.defineProperty(r,"__esModule",{value:!0}),r.scriptArgumentsPrefix=r.functionArgumentsPrefix=r.getTransformReply=r.attachConfig=void 0,r.attachConfig=function({BaseClass:e,commands:t,createCommand:r,createModuleCommand:s,createFunctionCommand:a,createScriptCommand:o,config:u}){let l=u?.RESP??2,c=class extends e{};for(let[e,i]of Object.entries(t))u?.RESP==3&&i.unstableResp3&&!u.unstableResp3?c.prototype[e]=n:c.prototype[e]=r(i,l);if(u?.modules)for(let[e,t]of Object.entries(u.modules)){let r=Object.create(null);for(let[e,i]of Object.entries(t))3==u.RESP&&i.unstableResp3&&!u.unstableResp3?r[e]=n:r[e]=s(i,l);i(c.prototype,e,r)}if(u?.functions)for(let[e,t]of Object.entries(u.functions)){let r=Object.create(null);for(let[e,n]of Object.entries(t))r[e]=a(e,n,l);i(c.prototype,e,r)}if(u?.scripts)for(let[e,t]of Object.entries(u.scripts))c.prototype[e]=o(t,l);return c},r.getTransformReply=function(e,t){switch(typeof e.transformReply){case"function":return e.transformReply;case"object":return e.transformReply[t]}},r.functionArgumentsPrefix=function(e,t){let r=[t.IS_READ_ONLY?"FCALL_RO":"FCALL",e];return void 0!==t.NUMBER_OF_KEYS&&r.push(t.NUMBER_OF_KEYS.toString()),r},r.scriptArgumentsPrefix=function(e){let t=[e.IS_READ_ONLY?"EVALSHA_RO":"EVALSHA",e.SHA1];return void 0!==e.NUMBER_OF_KEYS&&t.push(e.NUMBER_OF_KEYS.toString()),t}},52080,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(77816);class i{typeMapping;constructor(e){this.typeMapping=e}queue=[];scriptsInUse=new Set;addCommand(e,t){this.queue.push({args:e,transformReply:t})}addScript(e,t,r){let n=[];n.preserve=t.preserve,this.scriptsInUse.has(e.SHA1)?n.push("EVALSHA",e.SHA1):(this.scriptsInUse.add(e.SHA1),n.push("EVAL",e.SCRIPT)),void 0!==e.NUMBER_OF_KEYS&&n.push(e.NUMBER_OF_KEYS.toString()),n.push(...t),this.addCommand(n,r)}transformReplies(e){let t=[],r=e.map((e,r)=>{if(e instanceof n.ErrorReply)return t.push(r),e;let{transformReply:i,args:s}=this.queue[r];return i?i(e,s.preserve,this.typeMapping):e});if(t.length)throw new n.MultiErrorReply(r,t);return r}}r.default=i},92080,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(8196)),s=n(e.r(52080)),a=e.r(15823),o=e.r(85454);class u{static #rg(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this.addCommand(i,r)}}static #ry(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this._self.addCommand(i,r)}}static #r_(e,t,r){let n=(0,a.functionArgumentsPrefix)(e,t),i=(0,a.getTransformReply)(t,r);return function(...e){let r=new o.BasicCommandParser;r.push(...n),t.parseCommand(r,...e);let s=r.redisArgs;return s.preserve=r.preserve,this._self.addCommand(s,i)}}static #rb(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this.#rv(e,i,r)}}static extend(e){return(0,a.attachConfig)({BaseClass:u,commands:i.default,createCommand:u.#rg,createModuleCommand:u.#ry,createFunctionCommand:u.#r_,createScriptCommand:u.#rb,config:e})}#rE;#rS;#rw;#rR;constructor(e,t,r){this.#rE=new s.default(r),this.#rS=e,this.#rw=t}SELECT(e,t){return this.#rR=e,this.#rE.addCommand(["SELECT",e.toString()],t),this}select=this.SELECT;addCommand(e,t){return this.#rE.addCommand(e,t),this}#rv(e,t,r){return this.#rE.addScript(e,t,r),this}async exec(e=!1){return e?this.execAsPipeline():this.#rE.transformReplies(await this.#rS(this.#rE.queue,this.#rR))}EXEC=this.exec;execTyped(e=!1){return this.exec(e)}async execAsPipeline(){return 0===this.#rE.queue.length?[]:this.#rE.transformReplies(await this.#rw(this.#rE.queue,this.#rR))}execAsPipelineTyped(){return this.execAsPipeline()}}r.default=u},90749,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.RedisLegacyClient=void 0;let i=e.r(15823),s=n(e.r(8196)),a=n(e.r(52080));class o{static #rO(e,t){let r;return"function"==typeof t[t.length-1]&&(r=t.pop()),o.pushArguments(e,t),r}static pushArguments(e,t){for(let r=0;r<t.length;++r){let n=t[r];Array.isArray(n)?o.pushArguments(e,n):e.push("number"==typeof n||n instanceof Date?n.toString():n)}}static getTransformReply(e,t){return e.TRANSFORM_LEGACY_REPLY?(0,i.getTransformReply)(e,t):void 0}static #rg(e,t,r){let n=o.getTransformReply(t,r);return function(...t){let r=[e],i=o.#rO(r,t),s=this.#x.sendCommand(r);if(!i)return void s.catch(e=>this.#x.emit("error",e));s.then(e=>i(null,n?n(e):e)).catch(e=>i(e))}}#x;#rA;constructor(e){this.#x=e;let t=e.options?.RESP??2;for(let[e,r]of Object.entries(s.default))this[e]=o.#rg(e,r,t);this.#rA=u.factory(t)}sendCommand(...e){let t=[],r=o.#rO(t,e),n=this.#x.sendCommand(t);if(!r)return void n.catch(e=>this.#x.emit("error",e));n.then(e=>r(null,e)).catch(e=>r(e))}multi(){return this.#rA(this.#x)}}r.RedisLegacyClient=o;class u{static #rg(e,t,r){let n=o.getTransformReply(t,r);return function(...t){let r=[e];return o.pushArguments(r,t),this.#rE.addCommand(r,n),this}}static factory(e){let t=class extends u{};for(let[r,n]of Object.entries(s.default))t.prototype[r]=u.#rg(r,n,e);return e=>new t(e)}#rE=new a.default;#x;constructor(e){this.#x=e}sendCommand(...e){let t=[];return o.pushArguments(t,e),this.#rE.addCommand(t),this}exec(e){let t=this.#x._executeMulti(this.#rE.queue);if(!e)return void t.catch(e=>this.#x.emit("error",e));t.then(t=>e(null,this.#rE.transformReplies(t))).catch(t=>e?.(t))}}},20824,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.PooledNoRedirectClientSideCache=r.BasicPooledClientSideCache=r.PooledClientSideCacheProvider=r.BasicClientSideCache=r.ClientSideCacheProvider=r.CacheStats=void 0;let n=e.r(88947);class i{hitCount;missCount;loadSuccessCount;loadFailureCount;totalLoadTime;evictionCount;constructor(e,t,r,n,i,s){if(this.hitCount=e,this.missCount=t,this.loadSuccessCount=r,this.loadFailureCount=n,this.totalLoadTime=i,this.evictionCount=s,e<0||t<0||r<0||n<0||i<0||s<0)throw Error("All statistics values must be non-negative")}static of(e=0,t=0,r=0,n=0,s=0,a=0){return new i(e,t,r,n,s,a)}static empty(){return i.EMPTY_STATS}static EMPTY_STATS=new i(0,0,0,0,0,0);requestCount(){return this.hitCount+this.missCount}hitRate(){let e=this.requestCount();return 0===e?1:this.hitCount/e}missRate(){let e=this.requestCount();return 0===e?0:this.missCount/e}loadCount(){return this.loadSuccessCount+this.loadFailureCount}loadFailureRate(){let e=this.loadCount();return 0===e?0:this.loadFailureCount/e}averageLoadPenalty(){let e=this.loadCount();return 0===e?0:this.totalLoadTime/e}minus(e){return i.of(Math.max(0,this.hitCount-e.hitCount),Math.max(0,this.missCount-e.missCount),Math.max(0,this.loadSuccessCount-e.loadSuccessCount),Math.max(0,this.loadFailureCount-e.loadFailureCount),Math.max(0,this.totalLoadTime-e.totalLoadTime),Math.max(0,this.evictionCount-e.evictionCount))}plus(e){return i.of(this.hitCount+e.hitCount,this.missCount+e.missCount,this.loadSuccessCount+e.loadSuccessCount,this.loadFailureCount+e.loadFailureCount,this.totalLoadTime+e.totalLoadTime,this.evictionCount+e.evictionCount)}}r.CacheStats=i;class s{static INSTANCE=new s;constructor(){}recordHits(e){}recordMisses(e){}recordLoadSuccess(e){}recordLoadFailure(e){}recordEvictions(e){}snapshot(){return i.empty()}}class a{#rT=0;#rI=0;#rC=0;#rN=0;#rP=0;#rx=0;recordHits(e){this.#rT+=e}recordMisses(e){this.#rI+=e}recordLoadSuccess(e){this.#rC++,this.#rP+=e}recordLoadFailure(e){this.#rN++,this.#rP+=e}recordEvictions(e){this.#rx+=e}snapshot(){return i.of(this.#rT,this.#rI,this.#rC,this.#rN,this.#rP,this.#rx)}static create(){return new a}}class o{#rD=!1;#rk;constructor(e){0==e?this.#rk=0:this.#rk=Date.now()+e}invalidate(){this.#rD=!0}validate(){return!this.#rD&&(0==this.#rk||Date.now()<this.#rk)}}class u extends o{#rL;get value(){return this.#rL}constructor(e,t){super(e),this.#rL=t}}class l extends o{#rM;get promise(){return this.#rM}constructor(e,t){super(e),this.#rM=t}}class c extends n.EventEmitter{}r.ClientSideCacheProvider=c;class d extends c{#r$;#rU;ttl;maxEntries;lru;#rj;recordEvictions(e){this.#rj.recordEvictions(e)}recordHits(e){this.#rj.recordHits(e)}recordMisses(e){this.#rj.recordMisses(e)}constructor(e){super(),this.#r$=new Map,this.#rU=new Map,this.ttl=e?.ttl??0,this.maxEntries=e?.maxEntries??0,this.lru=e?.evictPolicy!=="FIFO";let t=e?.recordStats!==!1;this.#rj=t?a.create():s.INSTANCE}async handleCache(e,t,r,n,i){let s,a,o=function(e){let t=Array(2*e.length);for(let r=0;r<e.length;r++)t[r]=e[r].length,t[r+e.length]=e[r];return t.join("_")}(t.redisArgs),c=this.get(o);if(c)if(c instanceof u)return this.#rj.recordHits(1),structuredClone(c.value);else if(c instanceof l)this.#rj.recordMisses(1),s=await c.promise;else throw Error("unknown cache entry type");else{this.#rj.recordMisses(1);let n=performance.now(),i=r();c=this.createPromiseEntry(e,i),this.set(o,c,t.keys);try{s=await i;let e=performance.now()-n;this.#rj.recordLoadSuccess(e)}catch(t){let e=performance.now()-n;throw this.#rj.recordLoadFailure(e),c.validate()&&this.delete(o),t}}return a=n?n(s,t.preserve,i):s,c.validate()&&(c=this.createValueEntry(e,a),this.set(o,c,t.keys),this.emit("cached-key",o)),structuredClone(a)}trackingOn(){return["CLIENT","TRACKING","ON"]}invalidate(e){if(null===e){this.clear(!1),this.emit("invalidate",e);return}let t=this.#rU.get(e.toString());if(t){for(let e of t){let t=this.#r$.get(e);t&&t.invalidate(),this.#r$.delete(e)}this.#rU.delete(e.toString())}this.emit("invalidate",e)}clear(e=!0){let t=this.#r$.size;this.#r$.clear(),this.#rU.clear(),e?this.#rj instanceof s||(this.#rj=a.create()):t>0&&this.#rj.recordEvictions(t)}get(e){let t=this.#r$.get(e);if(t&&!t.validate()){this.delete(e),this.#rj.recordEvictions(1),this.emit("cache-evict",e);return}return void 0!==t&&this.lru&&(this.#r$.delete(e),this.#r$.set(e,t)),t}delete(e){let t=this.#r$.get(e);t&&(t.invalidate(),this.#r$.delete(e))}has(e){return this.#r$.has(e)}set(e,t,r){let n=this.#r$.size,i=this.#r$.get(e);for(let s of(i&&(n--,i.invalidate()),this.maxEntries>0&&n>=this.maxEntries&&(this.deleteOldest(),this.#rj.recordEvictions(1)),this.#r$.set(e,t),r))this.#rU.has(s.toString())||this.#rU.set(s.toString(),new Set),this.#rU.get(s.toString()).add(e)}size(){return this.#r$.size}createValueEntry(e,t){return new u(this.ttl,t)}createPromiseEntry(e,t){return new l(this.ttl,t)}stats(){return this.#rj.snapshot()}onError(){this.clear()}onClose(){this.clear()}deleteOldest(){let e=this.#r$[Symbol.iterator]().next();if(!e.done){let t=e.value[0],r=this.#r$.get(t);r&&r.invalidate(),this.#r$.delete(t)}}entryEntries(){return this.#r$.entries()}keySetEntries(){return this.#rU.entries()}}r.BasicClientSideCache=d;class p extends d{#rB=!1;disable(){this.#rB=!0}enable(){this.#rB=!1}get(e){if(!this.#rB)return super.get(e)}has(e){return!this.#rB&&super.has(e)}onPoolClose(){this.clear()}}r.PooledClientSideCacheProvider=p;class f extends p{onError(){this.clear(!1)}onClose(){this.clear(!1)}}r.BasicPooledClientSideCache=f;class h extends u{#rz;constructor(e,t,r){super(e,r),this.#rz=t}validate(){let e=super.validate();return this.#rz&&(e=e&&this.#rz.client.isReady&&this.#rz.client.socketEpoch==this.#rz.epoch),e}}class m extends l{#rz;constructor(e,t,r){super(e,r),this.#rz=t}validate(){return super.validate()&&this.#rz.client.isReady&&this.#rz.client.socketEpoch==this.#rz.epoch}}r.PooledNoRedirectClientSideCache=class extends f{createValueEntry(e,t){let r={epoch:e.socketEpoch,client:e};return new h(this.ttl,r,t)}createPromiseEntry(e,t){let r={epoch:e.socketEpoch,client:e};return new m(this.ttl,r,t)}onError(){}onClose(){}}},88145,(e,t,r)=>{"use strict";function n(){let e=new WeakSet;return function(t,r){if(r&&"object"==typeof r){if(e.has(r))return"circular";e.add(r)}return r}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{#n;#rq;get(e){return JSON.stringify(e,n())===this.#rq?this.#n:void 0}set(e,t){this.#n=t,this.#rq=JSON.stringify(e,n())}}},71672,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.RedisClientPool=void 0;let i=n(e.r(8196)),s=n(e.r(25888)),a=e.r(87769),o=e.r(26234),u=e.r(77816),l=e.r(15823),c=n(e.r(92080)),d=e.r(20824),p=e.r(85454),f=n(e.r(88145));class h extends a.EventEmitter{static #rg(e,t){let r=(0,l.getTransformReply)(e,t);return async function(...t){let n=new p.BasicCommandParser;return e.parseCommand(n,...t),this.execute(t=>t._executeCommand(e,n,this._commandOptions,r))}}static #ry(e,t){let r=(0,l.getTransformReply)(e,t);return async function(...t){let n=new p.BasicCommandParser;return e.parseCommand(n,...t),this._self.execute(t=>t._executeCommand(e,n,this._self._commandOptions,r))}}static #r_(e,t,r){let n=(0,l.functionArgumentsPrefix)(e,t),i=(0,l.getTransformReply)(t,r);return async function(...e){let r=new p.BasicCommandParser;return r.push(...n),t.parseCommand(r,...e),this._self.execute(e=>e._executeCommand(t,r,this._self._commandOptions,i))}}static #rb(e,t){let r=(0,l.scriptArgumentsPrefix)(e),n=(0,l.getTransformReply)(e,t);return async function(...t){let i=new p.BasicCommandParser;return i.pushVariadic(r),e.parseCommand(i,...t),this.execute(t=>t._executeScript(e,i,this._commandOptions,n))}}static #rK=new f.default;static create(e,t){let r=h.#rK.get(e);return r||((r=(0,l.attachConfig)({BaseClass:h,commands:i.default,createCommand:h.#rg,createModuleCommand:h.#ry,createFunctionCommand:h.#r_,createScriptCommand:h.#rb,config:e})).prototype.Multi=c.default.extend(e),h.#rK.set(e,r)),Object.create(new r(e,t))}static #rF={minimum:1,maximum:100,acquireTimeout:3e3,cleanupDelay:3e3};#rY;#D;#rV=new o.SinglyLinkedList;get idleClients(){return this._self.#rV.length}#rG=new o.DoublyLinkedList;get clientsInUse(){return this._self.#rG.length}get totalClients(){return this._self.#rV.length+this._self.#rG.length}#rH=new o.SinglyLinkedList;get tasksQueueLength(){return this._self.#rH.length}#tM=!1;get isOpen(){return this._self.#tM}#rZ=!1;get isClosing(){return this._self.#rZ}#rW;get clientSideCache(){return this._self.#rW}constructor(e,t){if(super(),this.#D={...h.#rF,...t},t?.clientSideCache)if(void 0===e&&(e={}),t.clientSideCache instanceof d.PooledClientSideCacheProvider)this.#rW=e.clientSideCache=t.clientSideCache;else{let r=t.clientSideCache;this.#rW=e.clientSideCache=new d.BasicPooledClientSideCache(r)}this.#rY=s.default.factory(e).bind(void 0,e)}_self=this;_commandOptions;withCommandOptions(e){let t=Object.create(this._self);return t._commandOptions=e,t}#rQ(e,t){let r=Object.create(this._self);return r._commandOptions=Object.create(this._commandOptions??null),r._commandOptions[e]=t,r}withTypeMapping(e){return this._self.#rQ("typeMapping",e)}withAbortSignal(e){return this._self.#rQ("abortSignal",e)}asap(){return this._self.#rQ("asap",!0)}async connect(){if(this._self.#tM)return;this._self.#tM=!0;let e=[];for(;e.length<this._self.#D.minimum;)e.push(this._self.#rX());try{await Promise.all(e)}catch(e){throw this.destroy(),e}return this}async #rX(){let e=this._self.#rG.push(this._self.#rY().on("error",e=>this.emit("error",e)));try{let t=e.value;await t.connect()}catch(t){throw this._self.#rG.remove(e),t}this._self.#rJ(e)}execute(e){return new Promise((t,r)=>{let n=this._self.#rV.shift(),{tail:i}=this._self.#rH;if(!n){let n;this._self.#D.acquireTimeout>0&&(n=setTimeout(()=>{this._self.#rH.remove(s,i),r(new u.TimeoutError("Timeout waiting for a client"))},this._self.#D.acquireTimeout));let s=this._self.#rH.push({timeout:n,resolve:t,reject:r,fn:e});this.totalClients<this._self.#D.maximum&&this._self.#rX();return}let s=this._self.#rG.push(n);this._self.#r0(s,t,r,e)})}#r0(e,t,r,n){let i=n(e.value);i instanceof Promise?i.then(t,r).finally(()=>this.#rJ(e)):(t(i),this.#rJ(e))}#rJ(e){let t=this.#rH.shift();if(t){clearTimeout(t.timeout),this.#r0(e,t.resolve,t.reject,t.fn);return}this.#rG.remove(e),this.#rV.push(e.value),this.#r1()}cleanupTimeout;#r1(){this.totalClients<=this.#D.minimum||(clearTimeout(this.cleanupTimeout),this.cleanupTimeout=setTimeout(()=>this.#r4(),this.#D.cleanupDelay))}#r4(){let e=Math.min(this.#rV.length,this.totalClients-this.#D.minimum);for(let t=0;t<e;t++)this.#rV.shift().destroy()}sendCommand(e,t){return this.execute(r=>r.sendCommand(e,t))}MULTI(){return new this.Multi((e,t)=>this.execute(r=>r._executeMulti(e,t)),e=>this.execute(t=>t._executePipeline(e)),this._commandOptions?.typeMapping)}multi=this.MULTI;async close(){if(!this._self.#rZ&&this._self.#tM){this._self.#rZ=!0;try{let e=[];for(let t of this._self.#rV)e.push(t.close());for(let t of this._self.#rG)e.push(t.close());await Promise.all(e),this.#rW?.onPoolClose(),this._self.#rV.reset(),this._self.#rG.reset()}catch(e){}finally{this._self.#rZ=!1}}}destroy(){for(let e of this._self.#rV)e.destroy();for(let e of(this._self.#rV.reset(),this._self.#rG))e.destroy();this._self.#rW?.onPoolClose(),this._self.#rG.reset(),this._self.#tM=!1}}r.RedisClientPool=h},25888,(e,t,r)=>{"use strict";var n,i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let s=i(e.r(8196)),a=i(e.r(78815)),o=e.r(63386),u=i(e.r(82088)),l=e.r(87769),c=e.r(15823),d=e.r(77816),p=e.r(57764),f=e.r(41591),h=i(e.r(92080)),m=i(e.r(35107)),g=e.r(90749),y=e.r(71672),_=e.r(82274),b=e.r(20824),v=e.r(85454),E=i(e.r(88145)),S=e.r(99615),w=i(e.r(44851));class R extends l.EventEmitter{static #rg(e,t){let r=(0,c.getTransformReply)(e,t);return async function(...t){let n=new v.BasicCommandParser;return e.parseCommand(n,...t),this._self._executeCommand(e,n,this._commandOptions,r)}}static #ry(e,t){let r=(0,c.getTransformReply)(e,t);return async function(...t){let n=new v.BasicCommandParser;return e.parseCommand(n,...t),this._self._executeCommand(e,n,this._self._commandOptions,r)}}static #r_(e,t,r){let n=(0,c.functionArgumentsPrefix)(e,t),i=(0,c.getTransformReply)(t,r);return async function(...e){let r=new v.BasicCommandParser;return r.push(...n),t.parseCommand(r,...e),this._self._executeCommand(t,r,this._self._commandOptions,i)}}static #rb(e,t){let r=(0,c.scriptArgumentsPrefix)(e),n=(0,c.getTransformReply)(e,t);return async function(...t){let i=new v.BasicCommandParser;return i.push(...r),e.parseCommand(i,...t),this._executeScript(e,i,this._commandOptions,n)}}static #rK=new E.default;static factory(e){let t=n.#rK.get(e);return t||((t=(0,c.attachConfig)({BaseClass:n,commands:s.default,createCommand:n.#rg,createModuleCommand:n.#ry,createFunctionCommand:n.#r_,createScriptCommand:n.#rb,config:e})).prototype.Multi=h.default.extend(e),n.#rK.set(e,t)),e=>Object.create(new t(e))}static create(e){return n.factory(e)(e)}static parseOptions(e){if(e?.url){let t=n.parseURL(e.url);if(e.socket){if(void 0!==e.socket.tls&&e.socket.tls!==t.socket.tls)throw TypeError(`tls socket option is set to ${e.socket.tls} which is mismatch with protocol or the URL ${e.url} passed`);t.socket=Object.assign(e.socket,t.socket)}Object.assign(e,t)}return e}static parseURL(e){let{hostname:t,port:r,protocol:n,username:i,password:s,pathname:a}=new p.URL(e),o={socket:{host:t,tls:!1}};if("redis:"!==n&&"rediss:"!==n)throw TypeError("Invalid protocol");if(o.socket.tls="rediss:"===n,r&&(o.socket.port=Number(r)),i&&(o.username=decodeURIComponent(i)),s&&(o.password=decodeURIComponent(s)),(i||s)&&(o.credentialsProvider={type:"async-credentials-provider",credentials:async()=>({username:i?decodeURIComponent(i):void 0,password:s?decodeURIComponent(s):void 0})}),a.length>1){let e=Number(a.substring(1));if(isNaN(e))throw TypeError("Invalid pathname");o.database=e}return o}#D;#tL;#r2;#rR=0;#r6;_self=this;_commandOptions;#r3;#r8;#rW;#r5=null;#r9=!1;get clientSideCache(){return this._self.#rW}get options(){return this._self.#D}get isOpen(){return this._self.#tL.isOpen}get isReady(){return this._self.#tL.isReady}get isPubSubActive(){return this._self.#r2.isPubSubActive}get socketEpoch(){return this._self.#tL.socketEpoch}get isWatching(){return void 0!==this._self.#r8}get isDirtyWatch(){return void 0!==this._self.#r3}setDirtyWatch(e){this._self.#r3=e}constructor(e){if(super(),this.#r7(e),this.#D=this.#ne(e),this.#r2=this.#nt(),this.#tL=this.#nr(),"disabled"!==this.#D.maintNotifications&&new w.default(this.#r2,this,this.#D),this.#D.clientSideCache){if(this.#D.clientSideCache instanceof b.ClientSideCacheProvider)this.#rW=this.#D.clientSideCache;else{let e=this.#D.clientSideCache;this.#rW=new b.BasicClientSideCache(e)}this.#r2.addPushHandler(e=>{if("invalidate"!==e[0].toString())return!1;if(null!==e[1])for(let t of e[1])this.#rW?.invalidate(t);else this.#rW?.invalidate(null);return!0})}else e?.emitInvalidate&&this.#r2.addPushHandler(e=>{if("invalidate"!==e[0].toString())return!1;if(null!==e[1])for(let t of e[1])this.emit("invalidate",t);else this.emit("invalidate",null);return!0})}#r7(e){if(e?.clientSideCache&&e?.RESP!==3)throw Error("Client Side Caching is only supported with RESP3");if(e?.emitInvalidate&&e?.RESP!==3)throw Error("emitInvalidate is only supported with RESP3");if(e?.clientSideCache&&e?.emitInvalidate)throw Error("emitInvalidate is not supported (or necessary) when clientSideCache is enabled");if(e?.maintNotifications&&e?.maintNotifications!=="disabled"&&e?.RESP!==3)throw Error("Graceful Maintenance is only supported with RESP3")}#ne(e={}){if(!e.credentialsProvider&&(e.username||e.password)&&(e.credentialsProvider={type:"async-credentials-provider",credentials:async()=>({username:e.username,password:e.password})}),e.database&&(this._self.#rR=e.database),e.commandOptions&&(this._commandOptions=e.commandOptions),"disabled"!==e.maintNotifications&&w.default.setupDefaultMaintOptions(e),e.url){let t=n.parseOptions(e);return t?.database&&(this._self.#rR=t.database),t}return e}#nt(){return new u.default(this.#D.RESP??2,this.#D.commandsQueueMaxLength,(e,t)=>this.emit("sharded-channel-moved",e,t))}reAuthenticate=async e=>{this.isPubSubActive&&!this.#D.RESP||await this.sendCommand((0,_.parseArgs)(s.default.AUTH,{username:e.username,password:e.password??""}))};#nn(e){return e.subscribe({onNext:t=>{this.reAuthenticate(t).catch(t=>{let r=t instanceof Error?t.message:String(t);e.onReAuthenticationError(new o.CredentialsError(r))})},onError:t=>{let r=`Error from streaming credentials provider: ${t.message}`;e.onReAuthenticationError(new o.UnableToObtainNewCredentialsError(r))}})}async #ni(e,t){let r=[],n=await this.#ns();for(let{cmd:i,errorHandler:s}of(t&&n.reverse(),n))r.push(this.#r2.addCommand(i,{chainId:e,asap:t}).catch(s));return r}async #ns(){let e=[],t=this.#D.credentialsProvider;if(this.#D.RESP){let r={};if(t&&"async-credentials-provider"===t.type){let e=await t.credentials();e.password&&(r.AUTH={username:e.username??"default",password:e.password})}if(t&&"streaming-credentials-provider"===t.type){let[e,n]=await this.#nn(t);this.#r5=n,e.password&&(r.AUTH={username:e.username??"default",password:e.password})}this.#D.name&&(r.SETNAME=this.#D.name),e.push({cmd:(0,_.parseArgs)(m.default,this.#D.RESP,r)})}else{if(t&&"async-credentials-provider"===t.type){let r=await t.credentials();(r.username||r.password)&&e.push({cmd:(0,_.parseArgs)(s.default.AUTH,{username:r.username,password:r.password??""})})}if(t&&"streaming-credentials-provider"===t.type){let[r,n]=await this.#nn(t);this.#r5=n,(r.username||r.password)&&e.push({cmd:(0,_.parseArgs)(s.default.AUTH,{username:r.username,password:r.password??""})})}this.#D.name&&e.push({cmd:(0,_.parseArgs)(s.default.CLIENT_SETNAME,this.#D.name)})}0!==this.#rR&&e.push({cmd:["SELECT",this.#rR.toString()]}),this.#D.readonly&&e.push({cmd:(0,_.parseArgs)(s.default.READONLY)}),this.#D.disableClientInfo||(e.push({cmd:["CLIENT","SETINFO","LIB-VER",S.version],errorHandler:()=>{}}),e.push({cmd:["CLIENT","SETINFO","LIB-NAME",this.#D.clientInfoTag?`node-redis(${this.#D.clientInfoTag})`:"node-redis"],errorHandler:()=>{}})),this.#rW&&e.push({cmd:this.#rW.trackingOn()}),this.#D?.emitInvalidate&&e.push({cmd:["CLIENT","TRACKING","ON"]});let r=await w.default.getHandshakeCommand(this.#D);return r&&e.push(r),e}#Y(e){e.on("data",e=>{try{this.#r2.decoder.write(e)}catch(e){this.#r2.resetDecoder(),this.emit("error",e)}}).on("error",e=>{this.emit("error",e),this.#rW?.onError(),this.#tL.isOpen&&!this.#D.disableOfflineQueue?this.#r2.flushWaitingForReply(e):this.#r2.flushAll(e)}).on("connect",()=>this.emit("connect")).on("ready",()=>{this.emit("ready"),this.#na(),this.#no()}).on("reconnecting",()=>this.emit("reconnecting")).on("drain",()=>this.#no()).on("end",()=>this.emit("end"))}#nr(){let e=async()=>{let e=[],t=Symbol("Socket Initiator"),r=this.#r2.resubscribe(t);if(r?.catch(e=>{e.message&&e.message.startsWith("MOVED")&&this.emit("__MOVED",this._self.#r2.removeAllPubSubListeners())}),r&&e.push(r),this.#r6&&e.push(this.#r2.monitor(this.#r6,{typeMapping:this._commandOptions?.typeMapping,chainId:t,asap:!0})),e.push(...await this.#ni(t,!0)),e.length)return this.#nu(),Promise.all(e)},t=new a.default(e,this.#D.socket);return this.#Y(t),t}#nl;#na(){this.#D.pingInterval&&this.#tL.isReady&&(clearTimeout(this.#nl),this.#nl=setTimeout(()=>{this.#tL.isReady&&this.sendCommand(["PING"]).then(e=>this.emit("ping-interval",e)).catch(e=>this.emit("error",e)).finally(()=>this.#na())},this.#D.pingInterval))}withCommandOptions(e){let t=Object.create(this._self);return t._commandOptions=e,t}_commandOptionsProxy(e,t){let r=Object.create(this._self);return r._commandOptions=Object.create(this._commandOptions??null),r._commandOptions[e]=t,r}withTypeMapping(e){return this._commandOptionsProxy("typeMapping",e)}withAbortSignal(e){return this._commandOptionsProxy("abortSignal",e)}asap(){return this._commandOptionsProxy("asap",!0)}legacy(){return new g.RedisLegacyClient(this)}createPool(e){return y.RedisClientPool.create(this._self.#D,e)}duplicate(e){return new(Object.getPrototypeOf(this)).constructor({...this._self.#D,commandOptions:this._commandOptions,...e})}async connect(){return await this._self.#tL.connect(),this}_ejectSocket(){let e=this._self.#tL;return this._self.#tL=null,e.removeAllListeners(),e}_insertSocket(e){this._self.#tL&&this._self._ejectSocket().destroy(),this._self.#tL=e,this._self.#Y(this._self.#tL)}_maintenanceUpdate(e){this._self.#tL.setMaintenanceTimeout(e.relaxedSocketTimeout),this._self.#r2.setMaintenanceCommandTimeout(e.relaxedCommandTimeout)}_pause(){this._self.#r9=!0}_unpause(){this._self.#r9=!1,this._self.#no()}async _executeCommand(e,t,r,n){let i=this._self.#rW,s=this._self.#D.commandOptions===r,a=()=>this.sendCommand(t.redisArgs,r);if(i&&e.CACHEABLE&&s)return await i.handleCache(this._self,t,a,n,r?.typeMapping);{let e=await a();return n?n(e,t.preserve,r?.typeMapping):e}}async _executeScript(e,t,r,n){let i,s=t.redisArgs;try{i=await this.sendCommand(s,r)}catch(t){if(!t?.message?.startsWith?.("NOSCRIPT"))throw t;s[0]="EVAL",s[1]=e.SCRIPT,i=await this.sendCommand(s,r)}return n?n(i,t.preserve,r?.typeMapping):i}sendCommand(e,t){if(!this._self.#tL.isOpen)return Promise.reject(new d.ClientClosedError);if(!this._self.#tL.isReady&&this._self.#D.disableOfflineQueue)return Promise.reject(new d.ClientOfflineError);let r={...this._self._commandOptions,...t},n=this._self.#r2.addCommand(e,r);return this._self.#nc(),n}async SELECT(e){await this.sendCommand(["SELECT",e.toString()]),this._self.#rR=e}select=this.SELECT;#nd(e){return void 0===e?Promise.resolve():(this.#nc(),e)}SUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.subscribe(f.PUBSUB_TYPE.CHANNELS,e,t,r))}subscribe=this.SUBSCRIBE;UNSUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.unsubscribe(f.PUBSUB_TYPE.CHANNELS,e,t,r))}unsubscribe=this.UNSUBSCRIBE;PSUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.subscribe(f.PUBSUB_TYPE.PATTERNS,e,t,r))}pSubscribe=this.PSUBSCRIBE;PUNSUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.unsubscribe(f.PUBSUB_TYPE.PATTERNS,e,t,r))}pUnsubscribe=this.PUNSUBSCRIBE;SSUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.subscribe(f.PUBSUB_TYPE.SHARDED,e,t,r))}sSubscribe=this.SSUBSCRIBE;SUNSUBSCRIBE(e,t,r){return this._self.#nd(this._self.#r2.unsubscribe(f.PUBSUB_TYPE.SHARDED,e,t,r))}sUnsubscribe=this.SUNSUBSCRIBE;async WATCH(e){let t=await this._self.sendCommand((0,_.pushVariadicArguments)(["WATCH"],e));return this._self.#r8??=this._self.socketEpoch,t}watch=this.WATCH;async UNWATCH(){let e=await this._self.sendCommand(["UNWATCH"]);return this._self.#r8=void 0,e}unwatch=this.UNWATCH;getPubSubListeners(e){return this._self.#r2.getPubSubListeners(e)}extendPubSubChannelListeners(e,t,r){return this._self.#nd(this._self.#r2.extendPubSubChannelListeners(e,t,r))}extendPubSubListeners(e,t){return this._self.#nd(this._self.#r2.extendPubSubListeners(e,t))}#nu(){this.#r9||this.#tL.write(this.#r2.commandsToWrite())}#np;#nc(){this.#tL.isReady&&!this.#np&&(this.#np=setImmediate(()=>{this.#nu(),this.#np=void 0}))}#no(){this.#r2.isWaitingToWrite()&&this.#nc()}async _executePipeline(e,t){if(!this._self.#tL.isOpen)return Promise.reject(new d.ClientClosedError);let r=Symbol("Pipeline Chain"),n=Promise.all(e.map(({args:e})=>this._self.#r2.addCommand(e,{chainId:r,typeMapping:this._commandOptions?.typeMapping})));this._self.#nc();let i=await n;return void 0!==t&&(this._self.#rR=t),i}async _executeMulti(e,t){let r=this._self.#r3;this._self.#r3=void 0;let n=this._self.#r8;if(this._self.#r8=void 0,!this._self.#tL.isOpen)throw new d.ClientClosedError;if(r)throw new d.WatchError(r);if(n&&n!==this._self.socketEpoch)throw new d.WatchError("Client reconnected after WATCH");let i=this._commandOptions?.typeMapping,s=Symbol("MULTI Chain"),a=[this._self.#r2.addCommand(["MULTI"],{chainId:s})];for(let{args:t}of e)a.push(this._self.#r2.addCommand(t,{chainId:s,typeMapping:i}));a.push(this._self.#r2.addCommand(["EXEC"],{chainId:s})),this._self.#nc();let o=await Promise.all(a),u=o[o.length-1];if(null===u)throw new d.WatchError;return void 0!==t&&(this._self.#rR=t),u}MULTI(){return new this.Multi(this._executeMulti.bind(this),this._executePipeline.bind(this),this._commandOptions?.typeMapping)}multi=this.MULTI;async *scanIterator(e){let t=e?.cursor??"0";do{let r=await this.scan(t,e);t=r.cursor,yield r.keys}while("0"!==t)}async *hScanIterator(e,t){let r=t?.cursor??"0";do{let n=await this.hScan(e,r,t);r=n.cursor,yield n.entries}while("0"!==r)}async *hScanValuesIterator(e,t){let r=t?.cursor??"0";do{let n=await this.hScanNoValues(e,r,t);r=n.cursor,yield n.fields}while("0"!==r)}async *hScanNoValuesIterator(e,t){let r=t?.cursor??"0";do{let n=await this.hScanNoValues(e,r,t);r=n.cursor,yield n.fields}while("0"!==r)}async *sScanIterator(e,t){let r=t?.cursor??"0";do{let n=await this.sScan(e,r,t);r=n.cursor,yield n.members}while("0"!==r)}async *zScanIterator(e,t){let r=t?.cursor??"0";do{let n=await this.zScan(e,r,t);r=n.cursor,yield n.members}while("0"!==r)}async MONITOR(e){let t=this._self.#r2.monitor(e,{typeMapping:this._commandOptions?.typeMapping});this._self.#nc(),await t,this._self.#r6=e}monitor=this.MONITOR;async reset(){let e=Symbol("Reset Chain"),t=[this._self.#r2.reset(e)],r=this._self.#D?.database??0;this._self.#r5?.dispose(),this._self.#r5=null,t.push(...await this._self.#ni(e,!1)),this._self.#nc(),await Promise.all(t),this._self.#rR=r,this._self.#r6=void 0,this._self.#r3=void 0,this._self.#r8=void 0}resetIfDirty(){let e=!1;if(this._self.#rR!==(this._self.#D?.database??0)&&(console.warn("Returning a client with a different selected DB"),e=!0),this._self.#r6&&(console.warn("Returning a client with active MONITOR"),e=!0),this._self.#r2.isPubSubActive&&(console.warn("Returning a client with active PubSub"),e=!0),(this._self.#r3||this._self.#r8)&&(console.warn("Returning a client with active WATCH"),e=!0),e)return this.reset()}QUIT(){return this._self.#r5?.dispose(),this._self.#r5=null,this._self.#tL.quit(async()=>{clearTimeout(this._self.#nl);let e=this._self.#r2.addCommand(["QUIT"]);return this._self.#nc(),e})}quit=this.QUIT;disconnect(){return Promise.resolve(this.destroy())}close(){return new Promise(e=>{if(clearTimeout(this._self.#nl),this._self.#tL.close(),this._self.#rW?.onClose(),this._self.#r2.isEmpty())return this._self.#tL.destroySocket(),e();let t=()=>{this._self.#r2.isEmpty()&&(this._self.#tL.off("data",t),this._self.#tL.destroySocket(),e())};this._self.#tL.on("data",t),this._self.#r5?.dispose(),this._self.#r5=null})}destroy(){clearTimeout(this._self.#nl),this._self.#r2.flushAll(new d.DisconnectsClientError),this._self.#tL.destroy(),this._self.#rW?.onClose(),this._self.#r5?.dispose(),this._self.#r5=null}ref(){this._self.#tL.ref()}unref(){this._self.#tL.unref()}}n=R,r.default=R},19610,(e,t,r)=>{var n=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],i=function(e){for(var t,r=0,n=0,i=[],s=e.length;r<s;r++)(t=e.charCodeAt(r))<128?i[n++]=t:(t<2048?i[n++]=t>>6|192:((64512&t)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)),i[n++]=t>>18|240,i[n++]=t>>12&63|128):i[n++]=t>>12|224,i[n++]=t>>6&63|128),i[n++]=63&t|128);return i},s=t.exports=function(e){for(var t,r=0,s=-1,a=0,o=0,u="string"==typeof e?i(e):e,l=u.length;r<l;){if(t=u[r++],-1===s)123===t&&(s=r);else if(125!==t)o=n[(t^o>>8)&255]^o<<8;else if(r-1!==s)return 16383&o;a=n[(t^a>>8)&255]^a<<8}return 16383&a};t.exports.generateMulti=function(e){for(var t=1,r=e.length,n=s(e[0]);t<r;)if(s(e[t++])!==n)return -1;return n}},78664,(e,t,r)=>{"use strict";var n,i=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let s=e.r(77816),a=i(e.r(25888)),o=e.r(41591),u=i(e.r(19610)),l=e.r(20824);class c{static #nf=16384;#D;#rY;#nh;slots=Array(n.#nf);masters=[];replicas=[];nodeByAddress=new Map;pubSubNode;clientSideCache;#tM=!1;get isOpen(){return this.#tM}#r7(e){if(e?.clientSideCache&&e?.RESP!==3)throw Error("Client Side Caching is only supported with RESP3")}constructor(e,t){this.#r7(e),this.#D=e,e?.clientSideCache&&(e.clientSideCache instanceof l.PooledClientSideCacheProvider?this.clientSideCache=e.clientSideCache:this.clientSideCache=new l.BasicPooledClientSideCache(e.clientSideCache)),this.#rY=a.default.factory(this.#D),this.#nh=t}async connect(){if(this.#tM)throw Error("Cluster already open");this.#tM=!0;try{await this.#nm(),this.#nh("connect")}catch(e){throw this.#tM=!1,e}}async #nm(){let e=Math.floor(Math.random()*this.#D.rootNodes.length);for(let t=e;t<this.#D.rootNodes.length;t++){if(!this.#tM)throw Error("Cluster closed");if(await this.#ng(this.#D.rootNodes[t]))return}for(let t=0;t<e;t++){if(!this.#tM)throw Error("Cluster closed");if(await this.#ng(this.#D.rootNodes[t]))return}throw new s.RootNodesUnavailableError}#ny(){this.slots=Array(n.#nf),this.masters=[],this.replicas=[],this._randomNodeIterator=void 0}async #ng(e){this.clientSideCache?.clear(),this.clientSideCache?.disable();try{let t=new Set,r=[],n=!0!==this.#D.minimizeConnections,i=await this.#n_(e);for(let{from:e,to:s,master:a,replicas:o}of(this.#ny(),i)){let i={master:this.#nb(a,!1,n,t,r)};this.#D.useReplicas&&(i.replicas=o.map(e=>this.#nb(e,!0,n,t,r)));for(let t=e;t<=s;t++)this.slots[t]=i}if(this.pubSubNode&&!t.has(this.pubSubNode.address)){let e=this.pubSubNode.client.getPubSubListeners(o.PUBSUB_TYPE.CHANNELS),t=this.pubSubNode.client.getPubSubListeners(o.PUBSUB_TYPE.PATTERNS);this.pubSubNode.client.destroy(),(e.size||t.size)&&r.push(this.#nv({[o.PUBSUB_TYPE.CHANNELS]:e,[o.PUBSUB_TYPE.PATTERNS]:t}))}for(let[e,r]of this.nodeByAddress.entries()){if(t.has(e))continue;r.client&&r.client.destroy();let{pubSub:n}=r;n&&n.client.destroy(),this.nodeByAddress.delete(e)}return await Promise.all(r),this.clientSideCache?.enable(),!0}catch(e){return this.#nh("error",e),!1}}async #n_(e){let t=this.#nE(e);t.socket??={},t.socket.reconnectStrategy=!1,t.RESP=this.#D.RESP,t.commandOptions=void 0;let r=await this.#rY(t).on("error",e=>this.#nh("error",e)).connect();try{return await r.clusterSlots()}finally{r.destroy()}}#nS(e){switch(typeof this.#D.nodeAddressMap){case"object":return this.#D.nodeAddressMap[e];case"function":return this.#D.nodeAddressMap(e)}}#nE(e){let t;return this.#D.defaults?(t=this.#D.defaults.socket?{...this.#D.defaults.socket,...e?.socket}:e?.socket,{...this.#D.defaults,...e,socket:t}):e}#nb(e,t,r,n,i){let s=`${e.host}:${e.port}`,a=this.nodeByAddress.get(s);return a||(a={...e,address:s,readonly:t,client:void 0,connectPromise:void 0},r&&i.push(this.#nw(a)),this.nodeByAddress.set(s,a)),n.has(s)||(n.add(s),(t?this.replicas:this.masters).push(a)),a}#nR(e,t=e.readonly){let r=this.#nS(e.address)??{host:e.host,port:e.port},n=Object.freeze({host:r.host,port:r.port}),i=this.#nh,s=this.#rY(this.#nE({clientSideCache:this.clientSideCache,RESP:this.#D.RESP,socket:r,readonly:t})).on("error",e=>i("node-error",e,n)).on("reconnecting",()=>i("node-reconnecting",n)).once("ready",()=>i("node-ready",n)).once("connect",()=>i("node-connect",n)).once("end",()=>i("node-disconnect",n)).on("__MOVED",async e=>{await this.rediscover(s),this.#nh("__resubscribeAllPubSubListeners",e)});return s}#nw(e,t){let r=e.client=this.#nR(e,t);return e.connectPromise=r.connect().finally(()=>e.connectPromise=void 0)}nodeClient(e){return e.connectPromise??e.client??this.#nw(e)}#nO;async rediscover(e){return this.#nO??=this.#nA(e).finally(()=>{this.#nO=void 0}),this.#nO}async #nA(e){if(!await this.#ng(e.options))return this.#nm()}quit(){return this.#nT(e=>e.quit())}disconnect(){return this.#nT(e=>e.disconnect())}close(){return this.#nT(e=>e.close())}destroy(){for(let e of(this.#tM=!1,this.#nI()))e.destroy();this.pubSubNode&&(this.pubSubNode.client.destroy(),this.pubSubNode=void 0),this.#ny(),this.nodeByAddress.clear(),this.#nh("disconnect")}*#nI(){for(let e of this.masters)e.client&&(yield e.client),e.pubSub&&(yield e.pubSub.client);for(let e of this.replicas)e.client&&(yield e.client)}async #nT(e){this.#tM=!1;let t=[];for(let r of this.#nI())t.push(e(r));this.pubSubNode&&(t.push(e(this.pubSubNode.client)),this.pubSubNode=void 0),this.#ny(),this.nodeByAddress.clear(),await Promise.allSettled(t),this.#nh("disconnect")}getClient(e,t){if(!e)return this.nodeClient(this.getRandomNode());let r=(0,u.default)(e);return t?this.nodeClient(this.getSlotRandomNode(r)):this.nodeClient(this.slots[r].master)}*#nC(){if(this.masters.length+this.replicas.length===0)return;let e=Math.floor(Math.random()*(this.masters.length+this.replicas.length));if(e<this.masters.length){do yield this.masters[e];while(++e<this.masters.length)for(let e of this.replicas)yield e}else{e-=this.masters.length;do yield this.replicas[e];while(++e<this.replicas.length)}for(;;){for(let e of this.masters)yield e;for(let e of this.replicas)yield e}}_randomNodeIterator;getRandomNode(){return this._randomNodeIterator??=this.#nC(),this._randomNodeIterator.next().value}*#nN(e){let t=Math.floor(Math.random()*(1+e.replicas.length));if(t<e.replicas.length)do yield e.replicas[t];while(++t<e.replicas.length)for(;;)for(let t of(yield e.master,e.replicas))yield t}getSlotRandomNode(e){let t=this.slots[e];return t.replicas?.length?(t.nodesIterator??=this.#nN(t),t.nodesIterator.next().value):t.master}getMasterByAddress(e){let t=this.nodeByAddress.get(e);if(t)return this.nodeClient(t)}getPubSubClient(){return this.pubSubNode?this.pubSubNode.connectPromise??this.pubSubNode.client:this.#nv()}async #nv(e){let t=Math.floor(Math.random()*(this.masters.length+this.replicas.length)),r=t<this.masters.length?this.masters[t]:this.replicas[t-this.masters.length],n=this.#nR(r,!1);return this.pubSubNode={address:r.address,client:n,connectPromise:n.connect().then(async t=>(e&&await Promise.all([t.extendPubSubListeners(o.PUBSUB_TYPE.CHANNELS,e[o.PUBSUB_TYPE.CHANNELS]),t.extendPubSubListeners(o.PUBSUB_TYPE.PATTERNS,e[o.PUBSUB_TYPE.PATTERNS])]),this.pubSubNode.connectPromise=void 0,t)).catch(e=>{throw this.pubSubNode=void 0,e})},this.pubSubNode.connectPromise}async executeUnsubscribeCommand(e){let t=await this.getPubSubClient();await e(t),t.isPubSubActive||(t.destroy(),this.pubSubNode=void 0)}getShardedPubSubClient(e){let{master:t}=this.slots[(0,u.default)(e)];return t.pubSub?t.pubSub.connectPromise??t.pubSub.client:this.#nP(t)}async #nP(e){let t=this.#nR(e,!1).on("server-sunsubscribe",async(e,r)=>{try{await this.rediscover(t);let n=await this.getShardedPubSubClient(e);await n.extendPubSubChannelListeners(o.PUBSUB_TYPE.SHARDED,e,r)}catch(t){this.#nh("sharded-shannel-moved-error",t,e,r)}});return e.pubSub={client:t,connectPromise:t.connect().then(t=>(e.pubSub.connectPromise=void 0,t)).catch(t=>{throw e.pubSub=void 0,t})},e.pubSub.connectPromise}async executeShardedUnsubscribeCommand(e,t){let{master:r}=this.slots[(0,u.default)(e)];if(!r.pubSub)return;let n=r.pubSub.connectPromise?await r.pubSub.connectPromise:r.pubSub.client;await t(n),n.isPubSubActive||(n.destroy(),r.pubSub=void 0)}}n=c,r.default=c},4680,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(8196)),s=n(e.r(52080)),a=e.r(15823),o=e.r(85454);class u{static #rg(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;i.preserve=n.preserve;let s=n.firstKey;return this.addCommand(s,e.IS_READ_ONLY,i,r)}}static #ry(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;i.preserve=n.preserve;let s=n.firstKey;return this._self.addCommand(s,e.IS_READ_ONLY,i,r)}}static #r_(e,t,r){let n=(0,a.functionArgumentsPrefix)(e,t),i=(0,a.getTransformReply)(t,r);return function(...e){let r=new o.BasicCommandParser;r.push(...n),t.parseCommand(r,...e);let s=r.redisArgs;s.preserve=r.preserve;let a=r.firstKey;return this._self.addCommand(a,t.IS_READ_ONLY,s,i)}}static #rb(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;i.preserve=n.preserve;let s=n.firstKey;return this.#rv(s,e.IS_READ_ONLY,e,i,r)}}static extend(e){return(0,a.attachConfig)({BaseClass:u,commands:i.default,createCommand:u.#rg,createModuleCommand:u.#ry,createFunctionCommand:u.#r_,createScriptCommand:u.#rb,config:e})}#rE;#rS;#rw;#nx;#nD=!0;constructor(e,t,r,n){this.#rE=new s.default(n),this.#rS=e,this.#rw=t,this.#nx=r}#nk(e,t){this.#nx??=e,this.#nD&&=t}addCommand(e,t,r,n){return this.#nk(e,t),this.#rE.addCommand(r,n),this}#rv(e,t,r,n,i){return this.#nk(e,t),this.#rE.addScript(r,n,i),this}async exec(e=!1){return e?this.execAsPipeline():this.#rE.transformReplies(await this.#rS(this.#nx,this.#nD,this.#rE.queue))}EXEC=this.exec;execTyped(e=!1){return this.exec(e)}async execAsPipeline(){return 0===this.#rE.queue.length?[]:this.#rE.transformReplies(await this.#rw(this.#nx,this.#nD,this.#rE.queue))}execAsPipelineTyped(){return this.execAsPipeline()}}r.default=u},97166,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(8196)),s=e.r(87769),a=e.r(15823),o=n(e.r(78664)),u=n(e.r(4680)),l=e.r(77816),c=e.r(85454),d=e.r(68990),p=n(e.r(88145));class f extends s.EventEmitter{static #rg(e,t){let r=(0,a.getTransformReply)(e,t);return async function(...t){let n=new c.BasicCommandParser;return e.parseCommand(n,...t),this._self._execute(n.firstKey,e.IS_READ_ONLY,this._commandOptions,(t,i)=>t._executeCommand(e,n,i,r))}}static #ry(e,t){let r=(0,a.getTransformReply)(e,t);return async function(...t){let n=new c.BasicCommandParser;return e.parseCommand(n,...t),this._self._execute(n.firstKey,e.IS_READ_ONLY,this._self._commandOptions,(t,i)=>t._executeCommand(e,n,i,r))}}static #r_(e,t,r){let n=(0,a.functionArgumentsPrefix)(e,t),i=(0,a.getTransformReply)(t,r);return async function(...e){let r=new c.BasicCommandParser;return r.push(...n),t.parseCommand(r,...e),this._self._execute(r.firstKey,t.IS_READ_ONLY,this._self._commandOptions,(e,n)=>e._executeCommand(t,r,n,i))}}static #rb(e,t){let r=(0,a.scriptArgumentsPrefix)(e),n=(0,a.getTransformReply)(e,t);return async function(...t){let i=new c.BasicCommandParser;return i.push(...r),e.parseCommand(i,...t),this._self._execute(i.firstKey,e.IS_READ_ONLY,this._commandOptions,(t,r)=>t._executeScript(e,i,r,n))}}static #rK=new p.default;static factory(e){let t=f.#rK.get(e);return t||((t=(0,a.attachConfig)({BaseClass:f,commands:i.default,createCommand:f.#rg,createModuleCommand:f.#ry,createFunctionCommand:f.#r_,createScriptCommand:f.#rb,config:e})).prototype.Multi=u.default.extend(e),f.#rK.set(e,t)),e=>Object.create(new t(e))}static create(e){return f.factory(e)(e)}_options;_slots;_self=this;_commandOptions;get slots(){return this._self._slots.slots}get clientSideCache(){return this._self._slots.clientSideCache}get masters(){return this._self._slots.masters}get replicas(){return this._self._slots.replicas}get nodeByAddress(){return this._self._slots.nodeByAddress}get pubSubNode(){return this._self._slots.pubSubNode}get isOpen(){return this._self._slots.isOpen}constructor(e){super(),this._options=e,this._slots=new o.default(e,this.emit.bind(this)),this.on("__resubscribeAllPubSubListeners",this.resubscribeAllPubSubListeners.bind(this)),e?.commandOptions&&(this._commandOptions=e.commandOptions)}duplicate(e){return new(Object.getPrototypeOf(this)).constructor({...this._self._options,commandOptions:this._commandOptions,...e})}async connect(){return await this._self._slots.connect(),this}withCommandOptions(e){let t=Object.create(this);return t._commandOptions=e,t}_commandOptionsProxy(e,t){let r=Object.create(this);return r._commandOptions=Object.create(this._commandOptions??null),r._commandOptions[e]=t,r}withTypeMapping(e){return this._commandOptionsProxy("typeMapping",e)}_handleAsk(e){return async(t,r)=>{let n=Symbol("asking chain"),i=r?{...r}:{};return i.chainId=n,(await Promise.all([t.sendCommand([d.ASKING_CMD],{chainId:n}),e(t,i)]))[1]}}async _execute(e,t,r,n){let i=this._options.maxCommandRedirections??16,s=await this._slots.getClient(e,t),a=0,o=n;for(;;)try{return await o(s,r)}catch(r){if(o=n,++a>i||!(r instanceof Error))throw r;if(r.message.startsWith("ASK")){let e=r.message.substring(r.message.lastIndexOf(" ")+1),t=await this._slots.getMasterByAddress(e);if(t||(await this._slots.rediscover(s),t=await this._slots.getMasterByAddress(e)),!t)throw Error(`Cannot find node ${e}`);s=t,o=this._handleAsk(n);continue}if(r.message.startsWith("MOVED")){await this._slots.rediscover(s),s=await this._slots.getClient(e,t);continue}throw r}}async sendCommand(e,t,r,n){let i={...this._self._commandOptions,...n};return this._self._execute(e,t,i,(e,t)=>e.sendCommand(r,t))}MULTI(e){return new this.Multi(async(e,t,r)=>(await this._self._slots.getClient(e,t))._executeMulti(r),async(e,t,r)=>(await this._self._slots.getClient(e,t))._executePipeline(r),e,this._commandOptions?.typeMapping)}multi=this.MULTI;async SUBSCRIBE(e,t,r){return(await this._self._slots.getPubSubClient()).SUBSCRIBE(e,t,r)}subscribe=this.SUBSCRIBE;async UNSUBSCRIBE(e,t,r){return this._self._slots.executeUnsubscribeCommand(n=>n.UNSUBSCRIBE(e,t,r))}unsubscribe=this.UNSUBSCRIBE;async PSUBSCRIBE(e,t,r){return(await this._self._slots.getPubSubClient()).PSUBSCRIBE(e,t,r)}pSubscribe=this.PSUBSCRIBE;async PUNSUBSCRIBE(e,t,r){return this._self._slots.executeUnsubscribeCommand(n=>n.PUNSUBSCRIBE(e,t,r))}pUnsubscribe=this.PUNSUBSCRIBE;async SSUBSCRIBE(e,t,r){let n=this._self._options.maxCommandRedirections??16,i=Array.isArray(e)?e[0]:e,s=await this._self._slots.getShardedPubSubClient(i);for(let a=0;;a++)try{return await s.SSUBSCRIBE(e,t,r)}catch(e){if(++a>n||!(e instanceof l.ErrorReply))throw e;if(e.message.startsWith("MOVED")){await this._self._slots.rediscover(s),s=await this._self._slots.getShardedPubSubClient(i);continue}throw e}}sSubscribe=this.SSUBSCRIBE;SUNSUBSCRIBE(e,t,r){return this._self._slots.executeShardedUnsubscribeCommand(Array.isArray(e)?e[0]:e,n=>n.SUNSUBSCRIBE(e,t,r))}resubscribeAllPubSubListeners(e){for(let[t,r]of e.CHANNELS)r.buffers.forEach(e=>{this.subscribe(t,e,!0)}),r.strings.forEach(e=>{this.subscribe(t,e)});for(let[t,r]of e.PATTERNS)r.buffers.forEach(e=>{this.pSubscribe(t,e,!0)}),r.strings.forEach(e=>{this.pSubscribe(t,e)});for(let[t,r]of e.SHARDED)r.buffers.forEach(e=>{this.sSubscribe(t,e,!0)}),r.strings.forEach(e=>{this.sSubscribe(t,e)})}sUnsubscribe=this.SUNSUBSCRIBE;quit(){return this._self._slots.quit()}disconnect(){return this._self._slots.disconnect()}close(){return this._self._slots.clientSideCache?.onPoolClose(),this._self._slots.close()}destroy(){return this._self._slots.clientSideCache?.onPoolClose(),this._self._slots.destroy()}nodeClient(e){return this._self._slots.nodeClient(e)}getRandomNode(){return this._self._slots.getRandomNode()}getSlotRandomNode(e){return this._self._slots.getSlotRandomNode(e)}getMasters(){return this.masters}getSlotMaster(e){return this.slots[e].master}}r.default=f},28240,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createScriptCommand=r.createModuleCommand=r.createFunctionCommand=r.createCommand=r.clientSocketToNode=r.createNodeList=r.parseNode=void 0;let n=e.r(85454),i=e.r(15823);function s(e){if(!(e.flags.includes("s_down")||e.flags.includes("disconnected")||e.flags.includes("failover_in_progress")))return{host:e.ip,port:Number(e.port)}}r.parseNode=s,r.createNodeList=function(e){var t=[];for(let r of e){let e=s(r);void 0!==e&&t.push(e)}return t},r.clientSocketToNode=function(e){return{host:e.host,port:e.port}},r.createCommand=function(e,t){let r=(0,i.getTransformReply)(e,t);return async function(...t){let i=new n.BasicCommandParser;return e.parseCommand(i,...t),this._self._execute(e.IS_READ_ONLY,t=>t._executeCommand(e,i,this.commandOptions,r))}},r.createFunctionCommand=function(e,t,r){let s=(0,i.functionArgumentsPrefix)(e,t),a=(0,i.getTransformReply)(t,r);return async function(...e){let r=new n.BasicCommandParser;return r.push(...s),t.parseCommand(r,...e),this._self._execute(t.IS_READ_ONLY,e=>e._executeCommand(t,r,this._self.commandOptions,a))}},r.createModuleCommand=function(e,t){let r=(0,i.getTransformReply)(e,t);return async function(...t){let i=new n.BasicCommandParser;return e.parseCommand(i,...t),this._self._execute(e.IS_READ_ONLY,t=>t._executeCommand(e,i,this._self.commandOptions,r))}},r.createScriptCommand=function(e,t){let r=(0,i.scriptArgumentsPrefix)(e),s=(0,i.getTransformReply)(e,t);return async function(...t){let i=new n.BasicCommandParser;return i.push(...r),e.parseCommand(i,...t),this._self._execute(e.IS_READ_ONLY,t=>t._executeScript(e,i,this.commandOptions,s))}}},91654,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(8196)),s=n(e.r(52080)),a=e.r(15823),o=e.r(85454);class u{static _createCommand(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this.addCommand(e.IS_READ_ONLY,i,r)}}static _createModuleCommand(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this._self.addCommand(e.IS_READ_ONLY,i,r)}}static _createFunctionCommand(e,t,r){let n=(0,a.functionArgumentsPrefix)(e,t),i=(0,a.getTransformReply)(t,r);return function(...e){let r=new o.BasicCommandParser;r.push(...n),t.parseCommand(r,...e);let s=r.redisArgs;return s.preserve=r.preserve,this._self.addCommand(t.IS_READ_ONLY,s,i)}}static _createScriptCommand(e,t){let r=(0,a.getTransformReply)(e,t);return function(...t){let n=new o.BasicCommandParser;e.parseCommand(n,...t);let i=n.redisArgs;return i.preserve=n.preserve,this.#rv(e.IS_READ_ONLY,e,i,r)}}static extend(e){return(0,a.attachConfig)({BaseClass:u,commands:i.default,createCommand:u._createCommand,createModuleCommand:u._createModuleCommand,createFunctionCommand:u._createFunctionCommand,createScriptCommand:u._createScriptCommand,config:e})}#rE=new s.default;#nL;#nD=!0;constructor(e,t){this.#rE=new s.default(t),this.#nL=e}#nk(e){this.#nD&&=e}addCommand(e,t,r){return this.#nk(e),this.#rE.addCommand(t,r),this}#rv(e,t,r,n){return this.#nk(e),this.#rE.addScript(t,r,n),this}async exec(e=!1){return e?this.execAsPipeline():this.#rE.transformReplies(await this.#nL._executeMulti(this.#nD,this.#rE.queue))}EXEC=this.exec;execTyped(e=!1){return this.exec(e)}async execAsPipeline(){return 0===this.#rE.queue.length?[]:this.#rE.transformReplies(await this.#nL._executePipeline(this.#nD,this.#rE.queue))}execAsPipelineTyped(){return this.execAsPipeline()}}r.default=u},65094,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.PubSubProxy=void 0;let i=n(e.r(87769)),s=e.r(41591),a=n(e.r(25888));class o extends i.default{#nM;#n$;#G;#ey;#nU;constructor(e,t){super(),this.#nM=e,this.#n$=t}#nR(){if(void 0===this.#G)throw Error("pubSubProxy: didn't define node to do pubsub against");return new a.default({...this.#nM,socket:{...this.#nM.socket,host:this.#G.host,port:this.#G.port}})}async #nv(e=!1){let t=this.#nR().on("error",this.#n$),r=t.connect().then(async t=>this.#ey?.client!==t||(e&&this.#nU&&await Promise.all([t.extendPubSubListeners(s.PUBSUB_TYPE.CHANNELS,this.#nU[s.PUBSUB_TYPE.CHANNELS]),t.extendPubSubListeners(s.PUBSUB_TYPE.PATTERNS,this.#nU[s.PUBSUB_TYPE.PATTERNS])]),this.#ey.client!==t)?(t.destroy(),this.#ey?.connectPromise):(this.#ey.connectPromise=void 0,t)).catch(e=>{throw this.#ey=void 0,e});return this.#ey={client:t,connectPromise:r},r}#nj(){return this.#ey?this.#ey.connectPromise??this.#ey.client:this.#nv()}async changeNode(e){this.#G=e,this.#ey&&(void 0===this.#ey.connectPromise&&(this.#nU={[s.PUBSUB_TYPE.CHANNELS]:this.#ey.client.getPubSubListeners(s.PUBSUB_TYPE.CHANNELS),[s.PUBSUB_TYPE.PATTERNS]:this.#ey.client.getPubSubListeners(s.PUBSUB_TYPE.PATTERNS)},this.#ey.client.destroy()),await this.#nv(!0))}#nB(e){let t=this.#nj();return t instanceof a.default?e(t):t.then(t=>{if(void 0!==t)return e(t)}).catch(e=>{throw this.#ey?.client.isPubSubActive&&(this.#ey.client.destroy(),this.#ey=void 0),e})}subscribe(e,t,r){return this.#nB(n=>n.SUBSCRIBE(e,t,r))}#nz(e){return this.#nB(async t=>{let r=await e(t);return t.isPubSubActive||(t.destroy(),this.#ey=void 0),r})}async unsubscribe(e,t,r){return this.#nz(n=>n.UNSUBSCRIBE(e,t,r))}async pSubscribe(e,t,r){return this.#nB(n=>n.PSUBSCRIBE(e,t,r))}async pUnsubscribe(e,t,r){return this.#nz(n=>n.PUNSUBSCRIBE(e,t,r))}destroy(){this.#nU=void 0,void 0!==this.#ey&&(this.#ey.connectPromise||this.#ey.client.destroy(),this.#ey=void 0)}}r.PubSubProxy=o},56730,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t){e.push("SENTINEL","MASTER",t)},transformReply:{2:e.r(82274).transformTuplesReply,3:void 0}}},74390,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r,n,i){e.push("SENTINEL","MONITOR",t,r,n,i)},transformReply:void 0}},55585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t){e.push("SENTINEL","REPLICAS",t)},transformReply:{2:(e,t,r)=>e.reduce((e,t)=>(e.push((0,n.transformTuplesReply)(t,void 0,r)),e),[]),3:void 0}}},27928,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={parseCommand(e,t){e.push("SENTINEL","SENTINELS",t)},transformReply:{2:(e,t,r)=>e.reduce((e,t)=>(e.push((0,n.transformTuplesReply)(t,void 0,r)),e),[]),3:void 0}}},25575,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={parseCommand(e,t,r){for(let n of(e.push("SENTINEL","SET",t),r))e.push(n.option,n.value)},transformReply:void 0}},19065,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(56730)),s=n(e.r(74390)),a=n(e.r(55585)),o=n(e.r(27928)),u=n(e.r(25575));r.default={SENTINEL_SENTINELS:o.default,sentinelSentinels:o.default,SENTINEL_MASTER:i.default,sentinelMaster:i.default,SENTINEL_REPLICAS:a.default,sentinelReplicas:a.default,SENTINEL_MONITOR:s.default,sentinelMonitor:s.default,SENTINEL_SET:u.default,sentinelSet:u.default}},64421,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={sentinel:n(e.r(19065)).default}},91186,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.WaitQueue=void 0;let n=e.r(26234);class i{#nq=new n.SinglyLinkedList;#r2=new n.SinglyLinkedList;push(e){let t=this.#r2.shift();if(void 0!==t)return void t(e);this.#nq.push(e)}shift(){return this.#nq.shift()}wait(){return new Promise(e=>this.#r2.push(e))}}r.WaitQueue=i},77459,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.RedisSentinelFactory=r.RedisSentinelClient=void 0;let i=e.r(87769),s=n(e.r(25888)),a=e.r(15823),o=n(e.r(8196)),u=e.r(28240),l=n(e.r(91654)),c=e.r(65094),d=e.r(36340),p=n(e.r(64421)),f=e.r(91186),h=e.r(20824);class m{#nK;#nF;_self;get isOpen(){return this._self.#nF.isOpen}get isReady(){return this._self.#nF.isReady}get commandOptions(){return this._self.#nY}#nY;constructor(e,t,r){this._self=this,this.#nF=e,this.#nK=t,this.#nY=r}static factory(e){let t=(0,a.attachConfig)({BaseClass:m,commands:o.default,createCommand:u.createCommand,createModuleCommand:u.createModuleCommand,createFunctionCommand:u.createFunctionCommand,createScriptCommand:u.createScriptCommand,config:e});return t.prototype.Multi=l.default.extend(e),(e,r,n)=>Object.create(new t(e,r,n))}static create(e,t,r,n){return m.factory(e)(t,r,n)}withCommandOptions(e){let t=Object.create(this);return t._commandOptions=e,t}_commandOptionsProxy(e,t){let r=Object.create(this);return r._commandOptions=Object.create(this._self.#nY??null),r._commandOptions[e]=t,r}withTypeMapping(e){return this._commandOptionsProxy("typeMapping",e)}async _execute(e,t){if(void 0===this._self.#nK)throw Error("Attempted execution on released RedisSentinelClient lease");return await this._self.#nF.execute(t,this._self.#nK)}async sendCommand(e,t,r){return this._execute(e,e=>e.sendCommand(t,r))}async _executePipeline(e,t){return this._execute(e,e=>e._executePipeline(t))}async _executeMulti(e,t){return this._execute(e,e=>e._executeMulti(t))}MULTI(){return new this.Multi(this)}multi=this.MULTI;WATCH(e){if(void 0===this._self.#nK)throw Error("Attempted execution on released RedisSentinelClient lease");return this._execute(!1,t=>t.watch(e))}watch=this.WATCH;UNWATCH(){if(void 0===this._self.#nK)throw Error("Attempted execution on released RedisSentinelClient lease");return this._execute(!1,e=>e.unwatch())}unwatch=this.UNWATCH;release(){if(void 0===this._self.#nK)throw Error("RedisSentinelClient lease already released");let e=this._self.#nF.releaseClientLease(this._self.#nK);return this._self.#nK=void 0,e}}r.RedisSentinelClient=m;class g extends i.EventEmitter{_self;#nF;#D;get isOpen(){return this._self.#nF.isOpen}get isReady(){return this._self.#nF.isReady}get commandOptions(){return this._self.#nY}#nY;#nV=()=>{};#nG;#nH=0;#nZ;get clientSideCache(){return this._self.#nF.clientSideCache}constructor(e){super(),this._self=this,this.#D=e,e.commandOptions&&(this.#nY=e.commandOptions),this.#nF=new y(e),this.#nF.on("error",e=>this.emit("error",e)),this.#nF.on("topology-change",e=>{this.emit("topology-change",e)||this._self.#nV(`RedisSentinel: re-emit for topology-change for ${e.type} event returned false`)})}static factory(e){let t=(0,a.attachConfig)({BaseClass:g,commands:o.default,createCommand:u.createCommand,createModuleCommand:u.createModuleCommand,createFunctionCommand:u.createFunctionCommand,createScriptCommand:u.createScriptCommand,config:e});return t.prototype.Multi=l.default.extend(e),e=>Object.create(new t(e))}static create(e){return g.factory(e)(e)}withCommandOptions(e){let t=Object.create(this);return t._commandOptions=e,t}_commandOptionsProxy(e,t){let r=Object.create(this);return r._self.#nY={...this._self.#nY||{},[e]:t},r}withTypeMapping(e){return this._commandOptionsProxy("typeMapping",e)}async connect(){return await this._self.#nF.connect(),this._self.#D.reserveClient&&(this._self.#nG=await this._self.#nF.getClientLease()),this}async _execute(e,t){let r;(!e||!this._self.#nF.useReplicas)&&(this._self.#nG?r=this._self.#nG:(this._self.#nZ??=await this._self.#nF.getClientLease(),r=this._self.#nZ,this._self.#nH++));try{return await this._self.#nF.execute(t,r)}finally{if(void 0!==r&&r===this._self.#nZ&&0==--this._self.#nH){let e=this._self.#nF.releaseClientLease(r);this._self.#nZ=void 0,e&&await e}}}async use(e){let t=await this._self.#nF.getClientLease();try{return await e(m.create(this._self.#D,this._self.#nF,t,this._self.#nY))}finally{let e=this._self.#nF.releaseClientLease(t);e&&await e}}async sendCommand(e,t,r){return this._execute(e,e=>e.sendCommand(t,r))}async _executePipeline(e,t){return this._execute(e,e=>e._executePipeline(t))}async _executeMulti(e,t){return this._execute(e,e=>e._executeMulti(t))}MULTI(){return new this.Multi(this)}multi=this.MULTI;async close(){return this._self.#nF.close()}destroy(){return this._self.#nF.destroy()}async SUBSCRIBE(e,t,r){return this._self.#nF.subscribe(e,t,r)}subscribe=this.SUBSCRIBE;async UNSUBSCRIBE(e,t,r){return this._self.#nF.unsubscribe(e,t,r)}unsubscribe=this.UNSUBSCRIBE;async PSUBSCRIBE(e,t,r){return this._self.#nF.pSubscribe(e,t,r)}pSubscribe=this.PSUBSCRIBE;async PUNSUBSCRIBE(e,t,r){return this._self.#nF.pUnsubscribe(e,t,r)}pUnsubscribe=this.PUNSUBSCRIBE;async acquire(){let e=await this._self.#nF.getClientLease();return m.create(this._self.#D,this._self.#nF,e,this._self.#nY)}getSentinelNode(){return this._self.#nF.getSentinelNode()}getMasterNode(){return this._self.#nF.getMasterNode()}getReplicaNodes(){return this._self.#nF.getReplicaNodes()}setTracer(e){e?this._self.#nV=t=>{e.push(t)}:this._self.#nV=()=>{},this._self.#nF.setTracer(e)}}r.default=g;class y extends i.EventEmitter{#tM=!1;get isOpen(){return this.#tM}#t$=!1;get isReady(){return this.#t$}#nW;#nQ;#nX;#nJ;#n0;#n1;#n4=!1;#n2=0;#n6;#n3;#n8=[];#n5;#n9;#n7=[];#ie=0;#it;get useReplicas(){return this.#it>0}#ir;#ii;#is;#ia;#nT=!1;#nV=()=>{};#rW;get clientSideCache(){return this.#rW}#r7(e){if(e?.clientSideCache&&e?.RESP!==3)throw Error("Client Side Caching is only supported with RESP3")}constructor(e){if(super(),this.#r7(e),this.#nW=e.name,this.#n1=e.RESP,this.#n6=Array.from(e.sentinelRootNodes),this.#ii=e.maxCommandRediscovers??16,this.#n9=e.masterPoolSize??1,this.#it=e.replicaPoolSize??0,this.#nJ=e.scanInterval??0,this.#n0=e.passthroughClientErrorEvents??!1,this.#nQ=e.nodeClientOptions?{...e.nodeClientOptions}:{},void 0!==this.#nQ.url)throw Error("invalid nodeClientOptions for Sentinel");if(e.clientSideCache)if(e.clientSideCache instanceof h.PooledClientSideCacheProvider)this.#rW=this.#nQ.clientSideCache=e.clientSideCache;else{let t=e.clientSideCache;this.#rW=this.#nQ.clientSideCache=new h.BasicPooledClientSideCache(t)}if(this.#nX=e.sentinelClientOptions?Object.assign({},e.sentinelClientOptions):{},this.#nX.modules=p.default,void 0!==this.#nX.url)throw Error("invalid sentinelClientOptions for Sentinel");this.#n5=new f.WaitQueue;for(let e=0;e<this.#n9;e++)this.#n5.push(e);this.#is=new c.PubSubProxy(this.#nQ,e=>this.emit("error",e))}#nR(e,t,r){return s.default.create({RESP:this.#n1,...t,socket:{...t.socket,host:e.host,port:e.port,...void 0!==r&&{reconnectStrategy:r}}})}getClientLease(){let e=this.#n5.shift();return void 0!==e?{id:e}:this.#n5.wait().then(e=>({id:e}))}releaseClientLease(e){let t=this.#n8[e.id];if(void 0!==t){let r=t.resetIfDirty();if(r)return r.then(()=>this.#n5.push(e.id))}this.#n5.push(e.id)}async connect(){if(this.#tM)throw Error("already attempting to open");try{this.#tM=!0,this.#ir=this.#tK(),await this.#ir,this.#t$=!0}finally{this.#ir=void 0,this.#nJ>0&&(this.#ia=setInterval(this.#io.bind(this),this.#nJ))}}async #tK(){let e=0;for(;;){if(this.#nV("starting connect loop"),e+=1,this.#nT)return void this.#nV("in #connect and want to destroy");try{if(this.#n4=!1,await this.transform(this.analyze(await this.observe())),this.#n4){this.#nV("#connect: anotherReset is true, so continuing");continue}this.#nV("#connect: returning");return}catch(t){if(this.#nV(`#connect: exception ${t.message}`),!this.#t$&&e>this.#ii)throw t;"no valid master node"!==t.message&&console.log(t),await (0,d.setTimeout)(1e3)}finally{this.#nV("finished connect")}}}async execute(e,t){let r=0;for(;;){void 0!==this.#ir&&await this.#ir;let n=this.#iu(t);if(!n.isReady){await this.#io();continue}let i=n.options?.socket;this.#nV("attemping to send command to "+i?.host+":"+i?.port);try{return await e(n)}catch(e){if(++r>this.#ii||!(e instanceof Error))throw e;if(void 0!==t&&(e.message.startsWith("READONLY")||!n.isReady)){await this.#io();continue}throw e}}}async #il(e){return await e.pSubscribe(["switch-master","[-+]sdown","+slave","+sentinel","[-+]odown","+slave-reconf-done"],(e,t)=>{this.#ic(t,e)},!0),e}async #ic(e,t){this.#nV("pubsub control channel message on "+e),this.#io()}#iu(e){if(void 0!==e)return this.#n8[e.id];if(this.#ie>=this.#n7.length&&(this.#ie=0),0==this.#n7.length)throw Error("no replicas available for read");return this.#n7[this.#ie++]}async #io(){if(!1!=this.#t$&&!0!=this.#nT){if(void 0!==this.#ir)return this.#n4=!0,await this.#ir;try{return this.#ir=this.#tK(),await this.#ir}finally{this.#nV("finished reconfgure"),this.#ir=void 0}}}#id(e){let t=this.#n6.findIndex(t=>t.host===e.host&&t.port===e.port);-1!==t&&this.#n6.splice(t,1),this.#io()}async close(){this.#nT=!0,void 0!=this.#ir&&await this.#ir,this.#t$=!1,this.#rW?.onPoolClose(),this.#ia&&(clearInterval(this.#ia),this.#ia=void 0);let e=[];for(let t of(void 0!==this.#n3&&(this.#n3.isOpen&&e.push(this.#n3.close()),this.#n3=void 0),this.#n8))t.isOpen&&e.push(t.close());for(let t of(this.#n8=[],this.#n7))t.isOpen&&e.push(t.close());this.#n7=[],await Promise.all(e),this.#is.destroy(),this.#tM=!1}async destroy(){for(let e of(this.#nT=!0,void 0!=this.#ir&&await this.#ir,this.#t$=!1,this.#rW?.onPoolClose(),this.#ia&&(clearInterval(this.#ia),this.#ia=void 0),void 0!==this.#n3&&(this.#n3.isOpen&&this.#n3.destroy(),this.#n3=void 0),this.#n8))e.isOpen&&e.destroy();for(let e of(this.#n8=[],this.#n7))e.isOpen&&e.destroy();this.#n7=[],this.#is.destroy(),this.#tM=!1,this.#nT=!1}async subscribe(e,t,r){return this.#is.subscribe(e,t,r)}async unsubscribe(e,t,r){return this.#is.unsubscribe(e,t,r)}async pSubscribe(e,t,r){return this.#is.pSubscribe(e,t,r)}async pUnsubscribe(e,t,r){return this.#is.pUnsubscribe(e,t,r)}async observe(){for(let e of this.#n6){let t;try{this.#nV(`observe: trying to connect to sentinel: ${e.host}:${e.port}`),(t=this.#nR(e,this.#nX,!1)).on("error",e=>this.emit("error",`obseve client error: ${e}`)),await t.connect(),this.#nV("observe: connected to sentinel");let[r,n,i]=await Promise.all([t.sentinel.sentinelSentinels(this.#nW),t.sentinel.sentinelMaster(this.#nW),t.sentinel.sentinelReplicas(this.#nW)]);return this.#nV("observe: got all sentinel data"),{sentinelConnected:e,sentinelData:r,masterData:n,replicaData:i,currentMaster:this.getMasterNode(),currentReplicas:this.getReplicaNodes(),currentSentinel:this.getSentinelNode(),replicaPoolSize:this.#it,useReplicas:this.useReplicas}}catch(e){this.#nV(`observe: error ${e}`),this.emit("error",e)}finally{void 0!==t&&t.isOpen&&(this.#nV("observe: destroying sentinel client"),t.destroy())}}throw this.#nV("observe: none of the sentinels are available"),Error("None of the sentinels are available")}analyze(e){let t=(0,u.parseNode)(e.masterData);if(void 0===t)throw this.#nV(`analyze: no valid master node because ${e.masterData.flags}`),Error("no valid master node");t.host===e.currentMaster?.host&&t.port===e.currentMaster?.port?(this.#nV(`analyze: master node hasn't changed from ${e.currentMaster?.host}:${e.currentMaster?.port}`),t=void 0):this.#nV(`analyze: master node has changed to ${t.host}:${t.port} from ${e.currentMaster?.host}:${e.currentMaster?.port}`);let r=e.sentinelConnected;r.host===e.currentSentinel?.host&&r.port===e.currentSentinel.port?(this.#nV("analyze: sentinel node hasn't changed"),r=void 0):this.#nV(`analyze: sentinel node has changed to ${r.host}:${r.port}`);let n=[],i=new Map,s=new Set,a=new Set;if(e.useReplicas){let t=(0,u.createNodeList)(e.replicaData);for(let e of t)s.add(JSON.stringify(e));for(let[t,r]of e.currentReplicas)s.has(JSON.stringify(t))?(a.add(JSON.stringify(t)),r!=e.replicaPoolSize&&(i.set(t,e.replicaPoolSize-r),this.#nV(`analyze: adding ${t.host}:${t.port} to replicsToOpen`))):(n.push(t),this.#nV(`analyze: adding ${t.host}:${t.port} to replicsToClose`));for(let r of t)a.has(JSON.stringify(r))||(i.set(r,e.replicaPoolSize),this.#nV(`analyze: adding ${r.host}:${r.port} to replicsToOpen`))}return{sentinelList:[e.sentinelConnected].concat((0,u.createNodeList)(e.sentinelData)),epoch:Number(e.masterData["config-epoch"]),sentinelToOpen:r,masterToOpen:t,replicasToClose:n,replicasToOpen:i}}async transform(e){this.#nV("transform: enter");let t=[];if(e.sentinelToOpen){this.#nV("transform: opening a new sentinel"),void 0!==this.#n3&&this.#n3.isOpen?(this.#nV("transform: destroying old sentinel as open"),this.#n3.destroy(),this.#n3=void 0):this.#nV("transform: not destroying old sentinel as not open"),this.#nV(`transform: creating new sentinel to ${e.sentinelToOpen.host}:${e.sentinelToOpen.port}`);let r=e.sentinelToOpen,n=this.#nR(e.sentinelToOpen,this.#nX,!1);n.on("error",e=>{this.#n0&&this.emit("error",Error(`Sentinel Client (${r.host}:${r.port}): ${e.message}`,{cause:e}));let t={type:"SENTINEL",node:(0,u.clientSocketToNode)(n.options.socket),error:e};this.emit("client-error",t),this.#id(r)}).on("end",()=>this.#id(r)),this.#n3=n,this.#nV("transform: adding sentinel client connect() to promise list");let i=this.#n3.connect().then(e=>this.#il(e));t.push(i),this.#nV(`created sentinel client to ${e.sentinelToOpen.host}:${e.sentinelToOpen.port}`);let s={type:"SENTINEL_CHANGE",node:e.sentinelToOpen};this.#nV("transform: emiting topology-change event for sentinel_change"),this.emit("topology-change",s)||this.#nV("transform: emit for topology-change for sentinel_change returned false")}if(e.masterToOpen){this.#nV("transform: opening a new master");let r=[],n=[];for(let e of(this.#nV("transform: destroying old masters if open"),this.#n8))n.push(e.isWatching||e.isDirtyWatch),e.isOpen&&e.destroy();this.#n8=[],this.#nV("transform: creating all master clients and adding connect promises");for(let t=0;t<this.#n9;t++){let i=e.masterToOpen,s=this.#nR(e.masterToOpen,this.#nQ);s.on("error",e=>{this.#n0&&this.emit("error",Error(`Master Client (${i.host}:${i.port}): ${e.message}`,{cause:e}));let t={type:"MASTER",node:(0,u.clientSocketToNode)(s.options.socket),error:e};this.emit("client-error",t)}),n[t]&&s.setDirtyWatch("sentinel config changed in middle of a WATCH Transaction"),this.#n8.push(s),r.push(s.connect()),this.#nV(`created master client to ${e.masterToOpen.host}:${e.masterToOpen.port}`)}this.#nV("transform: adding promise to change #pubSubProxy node"),r.push(this.#is.changeNode(e.masterToOpen)),t.push(...r);let i={type:"MASTER_CHANGE",node:e.masterToOpen};this.#nV("transform: emiting topology-change event for master_change"),this.emit("topology-change",i)||this.#nV("transform: emit for topology-change for master_change returned false"),this.#n2++}let r=new Set;for(let t of e.replicasToClose){let e=JSON.stringify(t);r.add(e)}let n=[],i=new Set;for(let e of this.#n7){let t=(0,u.clientSocketToNode)(e.options.socket),s=JSON.stringify(t);if(r.has(s)||!e.isOpen){if(e.isOpen){let t=e.options?.socket;this.#nV(`destroying replica client to ${t?.host}:${t?.port}`),e.destroy()}if(!i.has(s)){let e={type:"REPLICA_REMOVE",node:t};this.emit("topology-change",e),i.add(s)}}else n.push(e)}if(this.#n7=n,0!=e.replicasToOpen.size)for(let[r,n]of e.replicasToOpen){for(let e=0;e<n;e++){let e=this.#nR(r,this.#nQ);e.on("error",t=>{this.#n0&&this.emit("error",Error(`Replica Client (${r.host}:${r.port}): ${t.message}`,{cause:t}));let n={type:"REPLICA",node:(0,u.clientSocketToNode)(e.options.socket),error:t};this.emit("client-error",n)}),this.#n7.push(e),t.push(e.connect()),this.#nV(`created replica client to ${r.host}:${r.port}`)}let e={type:"REPLICA_ADD",node:r};this.emit("topology-change",e)}if(e.sentinelList.length!=this.#n6.length){this.#n6=e.sentinelList;let t={type:"SENTINE_LIST_CHANGE",size:e.sentinelList.length};this.emit("topology-change",t)}await Promise.all(t),this.#nV("transform: exit")}getMasterNode(){if(0!=this.#n8.length){for(let e of this.#n8)if(e.isReady)return(0,u.clientSocketToNode)(e.options.socket)}}getSentinelNode(){if(void 0!==this.#n3)return(0,u.clientSocketToNode)(this.#n3.options.socket)}getReplicaNodes(){let e=new Map,t=new Map;for(let e of this.#n7){let r=JSON.stringify((0,u.clientSocketToNode)(e.options.socket));e.isReady?t.set(r,(t.get(r)??0)+1):t.has(r)||t.set(r,0)}for(let[r,n]of t)e.set(JSON.parse(r),n);return e}setTracer(e){e?this.#nV=t=>{e.push(t)}:this.#nV=()=>{}}}class _ extends i.EventEmitter{options;#n6;#ip=-1;constructor(e){super(),this.options=e,this.#n6=e.sentinelRootNodes}async updateSentinelRootNodes(){for(let e of this.#n6){let t=s.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:e.host,port:e.port,reconnectStrategy:!1},modules:p.default}).on("error",e=>this.emit(`updateSentinelRootNodes: ${e}`));try{await t.connect()}catch{t.isOpen&&t.destroy();continue}try{let r=await t.sentinel.sentinelSentinels(this.options.name);this.#n6=[e].concat((0,u.createNodeList)(r));return}finally{t.destroy()}}throw Error("Couldn't connect to any sentinel node")}async getMasterNode(){let e=!1;for(let t of this.#n6){let r=s.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:t.host,port:t.port,reconnectStrategy:!1},modules:p.default}).on("error",e=>this.emit(`getMasterNode: ${e}`));try{await r.connect()}catch{r.isOpen&&r.destroy();continue}e=!0;try{let e=await r.sentinel.sentinelMaster(this.options.name),t=(0,u.parseNode)(e);if(void 0===t)continue;return t}finally{r.destroy()}}if(e)throw Error("Master Node Not Enumerated");throw Error("couldn't connect to any sentinels")}async getMasterClient(){let e=await this.getMasterNode();return s.default.create({...this.options.nodeClientOptions,socket:{...this.options.nodeClientOptions?.socket,host:e.host,port:e.port}})}async getReplicaNodes(){let e=!1;for(let t of this.#n6){let r=s.default.create({...this.options.sentinelClientOptions,socket:{...this.options.sentinelClientOptions?.socket,host:t.host,port:t.port,reconnectStrategy:!1},modules:p.default}).on("error",e=>this.emit(`getReplicaNodes: ${e}`));try{await r.connect()}catch{r.isOpen&&r.destroy();continue}e=!0;try{let e=await r.sentinel.sentinelReplicas(this.options.name),t=(0,u.createNodeList)(e);if(0==t.length)continue;return t}finally{r.destroy()}}if(e)throw Error("No Replicas Nodes Enumerated");throw Error("couldn't connect to any sentinels")}async getReplicaClient(){let e=await this.getReplicaNodes();if(0==e.length)throw Error("no available replicas");return this.#ip++,this.#ip>=e.length&&(this.#ip=0),s.default.create({...this.options.nodeClientOptions,socket:{...this.options.nodeClientOptions?.socket,host:e[this.#ip].host,port:e[this.#ip].port}})}}r.RedisSentinelFactory=_},2256,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.BasicPooledClientSideCache=r.BasicClientSideCache=r.REDIS_FLUSH_MODES=r.COMMAND_LIST_FILTER_BY=r.CLUSTER_SLOT_STATES=r.FAILOVER_MODES=r.CLIENT_KILL_FILTERS=r.GEO_REPLY_WITH=r.createSentinel=r.createCluster=r.createClientPool=r.createClient=r.defineScript=r.VerbatimString=r.RESP_TYPES=void 0;var a=e.r(85366);Object.defineProperty(r,"RESP_TYPES",{enumerable:!0,get:function(){return a.RESP_TYPES}});var o=e.r(3337);Object.defineProperty(r,"VerbatimString",{enumerable:!0,get:function(){return o.VerbatimString}});var u=e.r(19029);Object.defineProperty(r,"defineScript",{enumerable:!0,get:function(){return u.defineScript}}),i(e.r(77816),r),r.createClient=s(e.r(25888)).default.create,r.createClientPool=e.r(71672).RedisClientPool.create,r.createCluster=s(e.r(97166)).default.create,r.createSentinel=s(e.r(77459)).default.create;var l=e.r(38822);Object.defineProperty(r,"GEO_REPLY_WITH",{enumerable:!0,get:function(){return l.GEO_REPLY_WITH}});var c=e.r(8196);Object.defineProperty(r,"CLIENT_KILL_FILTERS",{enumerable:!0,get:function(){return c.CLIENT_KILL_FILTERS}}),Object.defineProperty(r,"FAILOVER_MODES",{enumerable:!0,get:function(){return c.FAILOVER_MODES}}),Object.defineProperty(r,"CLUSTER_SLOT_STATES",{enumerable:!0,get:function(){return c.CLUSTER_SLOT_STATES}}),Object.defineProperty(r,"COMMAND_LIST_FILTER_BY",{enumerable:!0,get:function(){return c.COMMAND_LIST_FILTER_BY}}),Object.defineProperty(r,"REDIS_FLUSH_MODES",{enumerable:!0,get:function(){return c.REDIS_FLUSH_MODES}});var d=e.r(20824);Object.defineProperty(r,"BasicClientSideCache",{enumerable:!0,get:function(){return d.BasicClientSideCache}}),Object.defineProperty(r,"BasicPooledClientSideCache",{enumerable:!0,get:function(){return d.BasicPooledClientSideCache}})},5174,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BF.ADD"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},71512,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("BF.CARD"),e.pushKey(t)},transformReply:void 0}},99656,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.EXISTS"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},18977,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformInfoV2Reply=void 0;let n=e.r(2256);r.transformInfoV2Reply=function(e,t){switch(t?t[n.RESP_TYPES.MAP]:void 0){case Array:return e;case Map:{let t=new Map;for(let r=0;r<e.length;r+=2)t.set(e[r].toString(),e[r+1]);return t}default:{let t=Object.create(null);for(let r=0;r<e.length;r+=2)t[e[r].toString()]=e[r+1];return t}}}},44471,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(18977);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("BF.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,n.transformInfoV2Reply)(e,r),3:void 0}}},74901,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("BF.INSERT"),e.pushKey(t),n?.CAPACITY!==void 0&&e.push("CAPACITY",n.CAPACITY.toString()),n?.ERROR!==void 0&&e.push("ERROR",n.ERROR.toString()),n?.EXPANSION!==void 0&&e.push("EXPANSION",n.EXPANSION.toString()),n?.NOCREATE&&e.push("NOCREATE"),n?.NONSCALING&&e.push("NONSCALING"),e.push("ITEMS"),e.pushVariadic(r)},transformReply:e.r(82274).transformBooleanArrayReply}},72045,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("BF.LOADCHUNK"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},48982,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("BF.MADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:e.r(82274).transformBooleanArrayReply}},81831,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.MEXISTS"),e.pushKey(t),e.pushVariadic(r)},transformReply:e.r(82274).transformBooleanArrayReply}},19535,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n,i){e.push("BF.RESERVE"),e.pushKey(t),e.push(r.toString(),n.toString()),i?.EXPANSION&&e.push("EXPANSION",i.EXPANSION.toString()),i?.NONSCALING&&e.push("NONSCALING")},transformReply:void 0}},56588,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("BF.SCANDUMP"),e.pushKey(t),e.push(r.toString())},transformReply:e=>({iterator:e[0],chunk:e[1]})}},74023,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(5174)),o=s(e.r(71512)),u=s(e.r(99656)),l=s(e.r(44471)),c=s(e.r(74901)),d=s(e.r(72045)),p=s(e.r(48982)),f=s(e.r(81831)),h=s(e.r(19535)),m=s(e.r(56588));i(e.r(18977),r),r.default={ADD:a.default,add:a.default,CARD:o.default,card:o.default,EXISTS:u.default,exists:u.default,INFO:l.default,info:l.default,INSERT:c.default,insert:c.default,LOADCHUNK:d.default,loadChunk:d.default,MADD:p.default,mAdd:p.default,MEXISTS:f.default,mExists:f.default,RESERVE:h.default,reserve:h.default,SCANDUMP:m.default,scanDump:m.default}},71437,(e,t,r)=>{"use strict";function n(e,{item:t,incrementBy:r}){e.push(t,r.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){if(e.push("CMS.INCRBY"),e.pushKey(t),Array.isArray(r))for(let t of r)n(e,t);else n(e,r)},transformReply:void 0}},31039,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(74023);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("CMS.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,n.transformInfoV2Reply)(e,r),3:void 0}}},57373,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("CMS.INITBYDIM"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},41186,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("CMS.INITBYPROB"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:void 0}},55063,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){var n;if(e.push("CMS.MERGE"),e.pushKey(t),e.push(r.length.toString()),"string"==typeof(n=r)[0]||n[0]instanceof Buffer)e.pushVariadic(r);else{for(let t=0;t<r.length;t++)e.push(r[t].name);e.push("WEIGHTS");for(let t=0;t<r.length;t++)e.push(r[t].weight.toString())}},transformReply:void 0}},24519,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CMS.QUERY"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},10501,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(71437)),s=n(e.r(31039)),a=n(e.r(57373)),o=n(e.r(41186)),u=n(e.r(55063)),l=n(e.r(24519));r.default={INCRBY:i.default,incrBy:i.default,INFO:s.default,info:s.default,INITBYDIM:a.default,initByDim:a.default,INITBYPROB:o.default,initByProb:o.default,MERGE:u.default,merge:u.default,QUERY:l.default,query:l.default}},58454,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.ADD"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},78090,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.ADDNX"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},40865,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CF.COUNT"),e.pushKey(t),e.push(r)},transformReply:void 0}},62413,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.DEL"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},39139,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("CF.EXISTS"),e.pushKey(t),e.push(r)},transformReply:e.r(82274).transformBooleanReply}},53632,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(74023);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("CF.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,n.transformInfoV2Reply)(e,r),3:void 0}}},96853,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseCfInsertArguments=void 0;let n=e.r(82274);function i(e,t,r,n){e.pushKey(t),n?.CAPACITY!==void 0&&e.push("CAPACITY",n.CAPACITY.toString()),n?.NOCREATE&&e.push("NOCREATE"),e.push("ITEMS"),e.pushVariadic(r)}r.parseCfInsertArguments=i,r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("CF.INSERT"),i(...e)},transformReply:n.transformBooleanArrayReply}},2792,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(96853));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(...e){e[0].push("CF.INSERTNX"),(0,a.parseCfInsertArguments)(...e)},transformReply:a.default.transformReply}},54400,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("CF.LOADCHUNK"),e.pushKey(t),e.push(r.toString(),n)},transformReply:void 0}},81451,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("CF.RESERVE"),e.pushKey(t),e.push(r.toString()),n?.BUCKETSIZE!==void 0&&e.push("BUCKETSIZE",n.BUCKETSIZE.toString()),n?.MAXITERATIONS!==void 0&&e.push("MAXITERATIONS",n.MAXITERATIONS.toString()),n?.EXPANSION!==void 0&&e.push("EXPANSION",n.EXPANSION.toString())},transformReply:void 0}},67854,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("CF.SCANDUMP"),e.pushKey(t),e.push(r.toString())},transformReply:e=>({iterator:e[0],chunk:e[1]})}},32877,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(58454)),s=n(e.r(78090)),a=n(e.r(40865)),o=n(e.r(62413)),u=n(e.r(39139)),l=n(e.r(53632)),c=n(e.r(96853)),d=n(e.r(2792)),p=n(e.r(54400)),f=n(e.r(81451)),h=n(e.r(67854));r.default={ADD:i.default,add:i.default,ADDNX:s.default,addNX:s.default,COUNT:a.default,count:a.default,DEL:o.default,del:o.default,EXISTS:u.default,exists:u.default,INFO:l.default,info:l.default,INSERT:c.default,insert:c.default,INSERTNX:d.default,insertNX:d.default,LOADCHUNK:p.default,loadChunk:p.default,RESERVE:f.default,reserve:f.default,SCANDUMP:h.default,scanDump:h.default}},18342,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){for(let n of(e.push("TDIGEST.ADD"),e.pushKey(t),r))e.push(n.toString())},transformReply:void 0}},81249,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformByRankArguments=void 0;let n=e.r(82274);function i(e,t,r){for(let n of(e.pushKey(t),r))e.push(n.toString())}r.transformByRankArguments=i,r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TDIGEST.BYRANK"),i(...e)},transformReply:n.transformDoubleArrayReply}},27048,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(81249));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TDIGEST.BYREVRANK"),(0,a.transformByRankArguments)(...e)},transformReply:a.default.transformReply}},89796,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){for(let n of(e.push("TDIGEST.CDF"),e.pushKey(t),r))e.push(n.toString())},transformReply:e.r(82274).transformDoubleArrayReply}},24737,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TDIGEST.CREATE"),e.pushKey(t),r?.COMPRESSION!==void 0&&e.push("COMPRESSION",r.COMPRESSION.toString())},transformReply:void 0}},31288,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(74023);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(0,n.transformInfoV2Reply)(e,r),3:void 0}}},68701,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.MAX"),e.pushKey(t)},transformReply:e.r(82274).transformDoubleReply}},49735,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("TDIGEST.MERGE"),e.pushKey(t),e.pushKeysLength(r),n?.COMPRESSION!==void 0&&e.push("COMPRESSION",n.COMPRESSION.toString()),n?.OVERRIDE&&e.push("OVERRIDE")},transformReply:void 0}},26593,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TDIGEST.MIN"),e.pushKey(t)},transformReply:e.r(82274).transformDoubleReply}},65155,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){for(let n of(e.push("TDIGEST.QUANTILE"),e.pushKey(t),r))e.push(n.toString())},transformReply:e.r(82274).transformDoubleArrayReply}},35460,(e,t,r)=>{"use strict";function n(e,t,r){for(let n of(e.pushKey(t),r))e.push(n.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.transformRankArguments=void 0,r.transformRankArguments=n,r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TDIGEST.RANK"),n(...e)},transformReply:void 0}},79994,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("TDIGEST.RESET"),e.pushKey(t)},transformReply:void 0}},65410,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(35460));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TDIGEST.REVRANK"),(0,a.transformRankArguments)(...e)},transformReply:a.default.transformReply}},87101,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("TDIGEST.TRIMMED_MEAN"),e.pushKey(t),e.push(r.toString(),n.toString())},transformReply:e.r(82274).transformDoubleReply}},55316,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(18342)),s=n(e.r(81249)),a=n(e.r(27048)),o=n(e.r(89796)),u=n(e.r(24737)),l=n(e.r(31288)),c=n(e.r(68701)),d=n(e.r(49735)),p=n(e.r(26593)),f=n(e.r(65155)),h=n(e.r(35460)),m=n(e.r(79994)),g=n(e.r(65410)),y=n(e.r(87101));r.default={ADD:i.default,add:i.default,BYRANK:s.default,byRank:s.default,BYREVRANK:a.default,byRevRank:a.default,CDF:o.default,cdf:o.default,CREATE:u.default,create:u.default,INFO:l.default,info:l.default,MAX:c.default,max:c.default,MERGE:d.default,merge:d.default,MIN:p.default,min:p.default,QUANTILE:f.default,quantile:f.default,RANK:h.default,rank:h.default,RESET:m.default,reset:m.default,REVRANK:g.default,revRank:g.default,TRIMMED_MEAN:y.default,trimmedMean:y.default}},20647,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TOPK.ADD"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},54281,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TOPK.COUNT"),e.pushKey(t),e.pushVariadic(r)},transformReply:void 0}},30878,(e,t,r)=>{"use strict";function n(e,{item:t,incrementBy:r}){e.push(t,r.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){if(e.push("TOPK.INCRBY"),e.pushKey(t),Array.isArray(r))for(let t of r)n(e,t);else n(e,r)},transformReply:void 0}},42989,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274),i=e.r(74023);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>(e[7]=n.transformDoubleReply[2](e[7],t,r),(0,i.transformInfoV2Reply)(e,r)),3:void 0}}},4999,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.LIST"),e.pushKey(t),e.push("WITHCOUNT")},transformReply(e){let t=[];for(let r=0;r<e.length;r++)t.push({item:e[r],count:e[++r]});return t}}},19210,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TOPK.LIST"),e.pushKey(t)},transformReply:void 0}},14976,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TOPK.QUERY"),e.pushKey(t),e.pushVariadic(r)},transformReply:e.r(82274).transformBooleanArrayReply}},94261,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("TOPK.RESERVE"),e.pushKey(t),e.push(r.toString()),n&&e.push(n.width.toString(),n.depth.toString(),n.decay.toString())},transformReply:void 0}},46472,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(20647)),s=n(e.r(54281)),a=n(e.r(30878)),o=n(e.r(42989)),u=n(e.r(4999)),l=n(e.r(19210)),c=n(e.r(14976)),d=n(e.r(94261));r.default={ADD:i.default,add:i.default,COUNT:s.default,count:s.default,INCRBY:a.default,incrBy:a.default,INFO:o.default,info:o.default,LIST_WITHCOUNT:u.default,listWithCount:u.default,LIST:l.default,list:l.default,QUERY:c.default,query:c.default,RESERVE:d.default,reserve:d.default}},47863,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(74023)),s=n(e.r(10501)),a=n(e.r(32877)),o=n(e.r(55316)),u=n(e.r(46472));r.default={bf:i.default,cms:s.default,cf:a.default,tDigest:o.default,topK:u.default}},51854,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e.r(47863);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})},89299,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,...s){e.push("JSON.ARRAPPEND"),e.pushKey(t),e.push(r,(0,n.transformRedisJsonArgument)(i));for(let t=0;t<s.length;t++)e.push((0,n.transformRedisJsonArgument)(s[t]))},transformReply:void 0}},31511,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,i,s){e.push("JSON.ARRINDEX"),e.pushKey(t),e.push(r,(0,n.transformRedisJsonArgument)(i)),s?.range&&(e.push(s.range.start.toString()),void 0!==s.range.stop&&e.push(s.range.stop.toString()))},transformReply:void 0}},51229,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,s,...a){e.push("JSON.ARRINSERT"),e.pushKey(t),e.push(r,i.toString(),(0,n.transformRedisJsonArgument)(s));for(let t=0;t<a.length;t++)e.push((0,n.transformRedisJsonArgument)(a[t]))},transformReply:void 0}},45610,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.ARRLEN"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},32049,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.ARRPOP"),e.pushKey(t),r&&(e.push(r.path),void 0!==r.index&&e.push(r.index.toString()))},transformReply:e=>(0,n.isArrayReply)(e)?e.map(e=>(0,n.transformRedisJsonNullReply)(e)):(0,n.transformRedisJsonNullReply)(e)}},93074,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i){e.push("JSON.ARRTRIM"),e.pushKey(t),e.push(r,n.toString(),i.toString())},transformReply:void 0}},98421,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.CLEAR"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},68191,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.DEBUG","MEMORY"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},75731,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.DEL"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},37182,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.FORGET"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},6053,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.GET"),e.pushKey(t),r?.path!==void 0&&e.pushVariadic(r.path)},transformReply:e.r(82274).transformRedisJsonNullReply}},28889,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("JSON.MERGE"),e.pushKey(t),e.push(r,(0,n.transformRedisJsonArgument)(i))},transformReply:void 0}},96781,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.MGET"),e.pushKeys(t),e.push(r)},transformReply:e=>e.map(e=>(0,n.transformRedisJsonNullReply)(e))}},61554,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t){e.push("JSON.MSET");for(let r=0;r<t.length;r++)e.pushKey(t[r].key),e.push(t[r].path,(0,n.transformRedisJsonArgument)(t[r].value))},transformReply:void 0}},34848,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("JSON.NUMINCRBY"),e.pushKey(t),e.push(r,n.toString())},transformReply:{2:e=>JSON.parse(e.toString()),3:void 0}}},20673,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n){e.push("JSON.NUMMULTBY"),e.pushKey(t),e.push(r,n.toString())},transformReply:n(e.r(34848)).default.transformReply}},59266,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.OBJKEYS"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},16657,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.OBJLEN"),e.pushKey(t),r?.path!==void 0&&e.push(r.path)},transformReply:void 0}},41490,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,s){e.push("JSON.SET"),e.pushKey(t),e.push(r,(0,n.transformRedisJsonArgument)(i)),s?.condition?e.push(s?.condition):s?.NX?e.push("NX"):s?.XX&&e.push("XX")},transformReply:void 0}},47061,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("JSON.STRAPPEND"),e.pushKey(t),i?.path!==void 0&&e.push(i.path),e.push((0,n.transformRedisJsonArgument)(r))},transformReply:void 0}},95761,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.STRLEN"),e.pushKey(t),r?.path&&e.push(r.path)},transformReply:void 0}},88415,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("JSON.TOGGLE"),e.pushKey(t),e.push(r)},transformReply:void 0}},48839,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("JSON.TYPE"),e.pushKey(t),r?.path&&e.push(r.path)},transformReply:{2:void 0,3:e=>e[0]}}},42866,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.transformRedisJsonNullReply=r.transformRedisJsonReply=r.transformRedisJsonArgument=void 0;let i=n(e.r(89299)),s=n(e.r(31511)),a=n(e.r(51229)),o=n(e.r(45610)),u=n(e.r(32049)),l=n(e.r(93074)),c=n(e.r(98421)),d=n(e.r(68191)),p=n(e.r(75731)),f=n(e.r(37182)),h=n(e.r(6053)),m=n(e.r(28889)),g=n(e.r(96781)),y=n(e.r(61554)),_=n(e.r(34848)),b=n(e.r(20673)),v=n(e.r(59266)),E=n(e.r(16657)),S=n(e.r(41490)),w=n(e.r(47061)),R=n(e.r(95761)),O=n(e.r(88415)),A=n(e.r(48839));var T=e.r(82274);Object.defineProperty(r,"transformRedisJsonArgument",{enumerable:!0,get:function(){return T.transformRedisJsonArgument}}),Object.defineProperty(r,"transformRedisJsonReply",{enumerable:!0,get:function(){return T.transformRedisJsonReply}}),Object.defineProperty(r,"transformRedisJsonNullReply",{enumerable:!0,get:function(){return T.transformRedisJsonNullReply}}),r.default={ARRAPPEND:i.default,arrAppend:i.default,ARRINDEX:s.default,arrIndex:s.default,ARRINSERT:a.default,arrInsert:a.default,ARRLEN:o.default,arrLen:o.default,ARRPOP:u.default,arrPop:u.default,ARRTRIM:l.default,arrTrim:l.default,CLEAR:c.default,clear:c.default,DEBUG_MEMORY:d.default,debugMemory:d.default,DEL:p.default,del:p.default,FORGET:f.default,forget:f.default,GET:h.default,get:h.default,MERGE:m.default,merge:m.default,MGET:g.default,mGet:g.default,MSET:y.default,mSet:y.default,NUMINCRBY:_.default,numIncrBy:_.default,NUMMULTBY:b.default,numMultBy:b.default,OBJKEYS:v.default,objKeys:v.default,OBJLEN:E.default,objLen:E.default,SET:S.default,set:S.default,STRAPPEND:w.default,strAppend:w.default,STRLEN:R.default,strLen:R.default,TOGGLE:O.default,toggle:O.default,TYPE:A.default,type:A.default}},14611,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e.r(42866);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}})},48106,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e){e.push("FT._LIST")},transformReply:{2:void 0,3:void 0}}},77247,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.REDISEARCH_LANGUAGE=r.parseSchema=r.SCHEMA_GEO_SHAPE_COORD_SYSTEM=r.VAMANA_COMPRESSION_ALGORITHM=r.SCHEMA_VECTOR_FIELD_ALGORITHM=r.SCHEMA_TEXT_FIELD_PHONETIC=r.SCHEMA_FIELD_TYPE=void 0;let n=e.r(82274);function i(e,t){t.SORTABLE&&(e.push("SORTABLE"),"UNF"===t.SORTABLE&&e.push("UNF")),t.NOINDEX&&e.push("NOINDEX")}function s(e,t){for(let[n,s]of Object.entries(t)){if(e.push(n),"string"==typeof s){e.push(s);continue}switch(s.AS&&e.push("AS",s.AS),e.push(s.type),s.INDEXMISSING&&e.push("INDEXMISSING"),s.type){case r.SCHEMA_FIELD_TYPE.TEXT:s.NOSTEM&&e.push("NOSTEM"),void 0!==s.WEIGHT&&e.push("WEIGHT",s.WEIGHT.toString()),s.PHONETIC&&e.push("PHONETIC",s.PHONETIC),s.WITHSUFFIXTRIE&&e.push("WITHSUFFIXTRIE"),s.INDEXEMPTY&&e.push("INDEXEMPTY"),i(e,s);break;case r.SCHEMA_FIELD_TYPE.NUMERIC:case r.SCHEMA_FIELD_TYPE.GEO:i(e,s);break;case r.SCHEMA_FIELD_TYPE.TAG:s.SEPARATOR&&e.push("SEPARATOR",s.SEPARATOR),s.CASESENSITIVE&&e.push("CASESENSITIVE"),s.WITHSUFFIXTRIE&&e.push("WITHSUFFIXTRIE"),s.INDEXEMPTY&&e.push("INDEXEMPTY"),i(e,s);break;case r.SCHEMA_FIELD_TYPE.VECTOR:e.push(s.ALGORITHM);let t=[];switch(t.push("TYPE",s.TYPE,"DIM",s.DIM.toString(),"DISTANCE_METRIC",s.DISTANCE_METRIC),void 0!==s.INITIAL_CAP&&t.push("INITIAL_CAP",s.INITIAL_CAP.toString()),s.ALGORITHM){case r.SCHEMA_VECTOR_FIELD_ALGORITHM.FLAT:void 0!==s.BLOCK_SIZE&&t.push("BLOCK_SIZE",s.BLOCK_SIZE.toString());break;case r.SCHEMA_VECTOR_FIELD_ALGORITHM.HNSW:void 0!==s.M&&t.push("M",s.M.toString()),void 0!==s.EF_CONSTRUCTION&&t.push("EF_CONSTRUCTION",s.EF_CONSTRUCTION.toString()),void 0!==s.EF_RUNTIME&&t.push("EF_RUNTIME",s.EF_RUNTIME.toString());break;case r.SCHEMA_VECTOR_FIELD_ALGORITHM.VAMANA:s.COMPRESSION&&t.push("COMPRESSION",s.COMPRESSION),void 0!==s.CONSTRUCTION_WINDOW_SIZE&&t.push("CONSTRUCTION_WINDOW_SIZE",s.CONSTRUCTION_WINDOW_SIZE.toString()),void 0!==s.GRAPH_MAX_DEGREE&&t.push("GRAPH_MAX_DEGREE",s.GRAPH_MAX_DEGREE.toString()),void 0!==s.SEARCH_WINDOW_SIZE&&t.push("SEARCH_WINDOW_SIZE",s.SEARCH_WINDOW_SIZE.toString()),void 0!==s.EPSILON&&t.push("EPSILON",s.EPSILON.toString()),void 0!==s.TRAINING_THRESHOLD&&t.push("TRAINING_THRESHOLD",s.TRAINING_THRESHOLD.toString()),void 0!==s.REDUCE&&t.push("REDUCE",s.REDUCE.toString())}e.pushVariadicWithLength(t);break;case r.SCHEMA_FIELD_TYPE.GEOSHAPE:void 0!==s.COORD_SYSTEM&&e.push("COORD_SYSTEM",s.COORD_SYSTEM)}}}r.SCHEMA_FIELD_TYPE={TEXT:"TEXT",NUMERIC:"NUMERIC",GEO:"GEO",TAG:"TAG",VECTOR:"VECTOR",GEOSHAPE:"GEOSHAPE"},r.SCHEMA_TEXT_FIELD_PHONETIC={DM_EN:"dm:en",DM_FR:"dm:fr",FM_PT:"dm:pt",DM_ES:"dm:es"},r.SCHEMA_VECTOR_FIELD_ALGORITHM={FLAT:"FLAT",HNSW:"HNSW",VAMANA:"SVS-VAMANA"},r.VAMANA_COMPRESSION_ALGORITHM={LVQ4:"LVQ4",LVQ8:"LVQ8",LVQ4x4:"LVQ4x4",LVQ4x8:"LVQ4x8",LeanVec4x8:"LeanVec4x8",LeanVec8x8:"LeanVec8x8"},r.SCHEMA_GEO_SHAPE_COORD_SYSTEM={SPHERICAL:"SPHERICAL",FLAT:"FLAT"},r.parseSchema=s,r.REDISEARCH_LANGUAGE={ARABIC:"Arabic",BASQUE:"Basque",CATALANA:"Catalan",DANISH:"Danish",DUTCH:"Dutch",ENGLISH:"English",FINNISH:"Finnish",FRENCH:"French",GERMAN:"German",GREEK:"Greek",HUNGARIAN:"Hungarian",INDONESAIN:"Indonesian",IRISH:"Irish",ITALIAN:"Italian",LITHUANIAN:"Lithuanian",NEPALI:"Nepali",NORWEIGAN:"Norwegian",PORTUGUESE:"Portuguese",ROMANIAN:"Romanian",RUSSIAN:"Russian",SPANISH:"Spanish",SWEDISH:"Swedish",TAMIL:"Tamil",TURKISH:"Turkish",CHINESE:"Chinese"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("FT.CREATE",t),i?.ON&&e.push("ON",i.ON),(0,n.parseOptionalVariadicArgument)(e,"PREFIX",i?.PREFIX),i?.FILTER&&e.push("FILTER",i.FILTER),i?.LANGUAGE&&e.push("LANGUAGE",i.LANGUAGE),i?.LANGUAGE_FIELD&&e.push("LANGUAGE_FIELD",i.LANGUAGE_FIELD),i?.SCORE&&e.push("SCORE",i.SCORE.toString()),i?.SCORE_FIELD&&e.push("SCORE_FIELD",i.SCORE_FIELD),i?.MAXTEXTFIELDS&&e.push("MAXTEXTFIELDS"),i?.TEMPORARY&&e.push("TEMPORARY",i.TEMPORARY.toString()),i?.NOOFFSETS&&e.push("NOOFFSETS"),i?.NOHL&&e.push("NOHL"),i?.NOFIELDS&&e.push("NOFIELDS"),i?.NOFREQS&&e.push("NOFREQS"),i?.SKIPINITIALSCAN&&e.push("SKIPINITIALSCAN"),(0,n.parseOptionalVariadicArgument)(e,"STOPWORDS",i?.STOPWORDS),e.push("SCHEMA"),s(e,r)},transformReply:void 0}},98946,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(77247);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALTER",t,"SCHEMA","ADD"),(0,n.parseSchema)(e,r)},transformReply:void 0}},51323,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_DIALECT=void 0,r.DEFAULT_DIALECT="2"},41224,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseSearchOptions=r.parseParamsArgument=void 0;let n=e.r(82274),i=e.r(51323);function s(e,t){if(t){e.push("PARAMS");let r=[];for(let e in t){if(!Object.hasOwn(t,e))continue;let n=t[e];r.push(e,"number"==typeof n?n.toString():n)}e.pushVariadicWithLength(r)}}function a(e,t){t?.VERBATIM&&e.push("VERBATIM"),t?.NOSTOPWORDS&&e.push("NOSTOPWORDS"),(0,n.parseOptionalVariadicArgument)(e,"INKEYS",t?.INKEYS),(0,n.parseOptionalVariadicArgument)(e,"INFIELDS",t?.INFIELDS),(0,n.parseOptionalVariadicArgument)(e,"RETURN",t?.RETURN),t?.SUMMARIZE&&(e.push("SUMMARIZE"),"object"==typeof t.SUMMARIZE&&((0,n.parseOptionalVariadicArgument)(e,"FIELDS",t.SUMMARIZE.FIELDS),void 0!==t.SUMMARIZE.FRAGS&&e.push("FRAGS",t.SUMMARIZE.FRAGS.toString()),void 0!==t.SUMMARIZE.LEN&&e.push("LEN",t.SUMMARIZE.LEN.toString()),void 0!==t.SUMMARIZE.SEPARATOR&&e.push("SEPARATOR",t.SUMMARIZE.SEPARATOR))),t?.HIGHLIGHT&&(e.push("HIGHLIGHT"),"object"==typeof t.HIGHLIGHT&&((0,n.parseOptionalVariadicArgument)(e,"FIELDS",t.HIGHLIGHT.FIELDS),t.HIGHLIGHT.TAGS&&e.push("TAGS",t.HIGHLIGHT.TAGS.open,t.HIGHLIGHT.TAGS.close))),t?.SLOP!==void 0&&e.push("SLOP",t.SLOP.toString()),t?.TIMEOUT!==void 0&&e.push("TIMEOUT",t.TIMEOUT.toString()),t?.INORDER&&e.push("INORDER"),t?.LANGUAGE&&e.push("LANGUAGE",t.LANGUAGE),t?.EXPANDER&&e.push("EXPANDER",t.EXPANDER),t?.SCORER&&e.push("SCORER",t.SCORER),t?.SORTBY&&(e.push("SORTBY"),"string"==typeof t.SORTBY||t.SORTBY instanceof Buffer?e.push(t.SORTBY):(e.push(t.SORTBY.BY),t.SORTBY.DIRECTION&&e.push(t.SORTBY.DIRECTION))),t?.LIMIT&&e.push("LIMIT",t.LIMIT.from.toString(),t.LIMIT.size.toString()),s(e,t?.PARAMS),t?.DIALECT?e.push("DIALECT",t.DIALECT.toString()):e.push("DIALECT",i.DEFAULT_DIALECT)}r.parseParamsArgument=s,r.parseSearchOptions=a,r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("FT.SEARCH",t,r),a(e,n)},transformReply:{2:e=>{let t=e.length>2&&!Array.isArray(e[2]),r=[],n=1;for(;n<e.length;)r.push({id:e[n++],value:t?Object.create(null):function(e){let t=Object.create(null);if(!e)return t;let r=0;for(;r<e.length;){let n=e[r++],i=e[r++];if("$"===n)try{Object.assign(t,JSON.parse(i));continue}catch{}t[n]=i}return t}(e[n++])});return{total:e[0],documents:r}},3:void 0},unstableResp3:!0}},6852,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseAggregateOptions=r.FT_AGGREGATE_GROUP_BY_REDUCERS=r.FT_AGGREGATE_STEPS=void 0;let n=e.r(41224),i=e.r(82274),s=e.r(51323);function a(e,t){if(t?.VERBATIM&&e.push("VERBATIM"),t?.ADDSCORES&&e.push("ADDSCORES"),t?.LOAD){let r=[];if(Array.isArray(t.LOAD))for(let e of t.LOAD)o(r,e);else o(r,t.LOAD);e.push("LOAD"),e.pushVariadicWithLength(r)}if(t?.TIMEOUT!==void 0&&e.push("TIMEOUT",t.TIMEOUT.toString()),t?.STEPS)for(let n of t.STEPS)switch(e.push(n.type),n.type){case r.FT_AGGREGATE_STEPS.GROUPBY:if(n.properties?e.pushVariadicWithLength(n.properties):e.push("0"),Array.isArray(n.REDUCE))for(let t of n.REDUCE)u(e,t);else u(e,n.REDUCE);break;case r.FT_AGGREGATE_STEPS.SORTBY:let t=[];if(Array.isArray(n.BY))for(let e of n.BY)l(t,e);else l(t,n.BY);n.MAX&&t.push("MAX",n.MAX.toString()),e.pushVariadicWithLength(t);break;case r.FT_AGGREGATE_STEPS.APPLY:e.push(n.expression,"AS",n.AS);break;case r.FT_AGGREGATE_STEPS.LIMIT:e.push(n.from.toString(),n.size.toString());break;case r.FT_AGGREGATE_STEPS.FILTER:e.push(n.expression)}(0,n.parseParamsArgument)(e,t?.PARAMS),t?.DIALECT?e.push("DIALECT",t.DIALECT.toString()):e.push("DIALECT",s.DEFAULT_DIALECT)}function o(e,t){"string"==typeof t||t instanceof Buffer?e.push(t):(e.push(t.identifier),t.AS&&e.push("AS",t.AS))}function u(e,t){switch(e.push("REDUCE",t.type),t.type){case r.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT:e.push("0");break;case r.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT_DISTINCT:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.COUNT_DISTINCTISH:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.SUM:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.MIN:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.MAX:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.AVG:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.STDDEV:case r.FT_AGGREGATE_GROUP_BY_REDUCERS.TOLIST:e.push("1",t.property);break;case r.FT_AGGREGATE_GROUP_BY_REDUCERS.QUANTILE:e.push("2",t.property,t.quantile.toString());break;case r.FT_AGGREGATE_GROUP_BY_REDUCERS.FIRST_VALUE:{let r=[t.property];t.BY&&(r.push("BY"),"string"==typeof t.BY||t.BY instanceof Buffer?r.push(t.BY):(r.push(t.BY.property),t.BY.direction&&r.push(t.BY.direction))),e.pushVariadicWithLength(r);break}case r.FT_AGGREGATE_GROUP_BY_REDUCERS.RANDOM_SAMPLE:e.push("2",t.property,t.sampleSize.toString())}t.AS&&e.push("AS",t.AS)}function l(e,t){"string"==typeof t||t instanceof Buffer?e.push(t):(e.push(t.BY),t.DIRECTION&&e.push(t.DIRECTION))}r.FT_AGGREGATE_STEPS={GROUPBY:"GROUPBY",SORTBY:"SORTBY",APPLY:"APPLY",LIMIT:"LIMIT",FILTER:"FILTER"},r.FT_AGGREGATE_GROUP_BY_REDUCERS={COUNT:"COUNT",COUNT_DISTINCT:"COUNT_DISTINCT",COUNT_DISTINCTISH:"COUNT_DISTINCTISH",SUM:"SUM",MIN:"MIN",MAX:"MAX",AVG:"AVG",STDDEV:"STDDEV",QUANTILE:"QUANTILE",TOLIST:"TOLIST",FIRST_VALUE:"FIRST_VALUE",RANDOM_SAMPLE:"RANDOM_SAMPLE"},r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!1,parseCommand:(e,t,r,n)=>(e.push("FT.AGGREGATE",t,r),a(e,n)),transformReply:{2:(e,t,r)=>{let n=[];for(let s=1;s<e.length;s++)n.push((0,i.transformTuplesReply)(e[s],t,r));return{total:Number(e[0]),results:n}},3:void 0},unstableResp3:!0},r.parseAggregateOptions=a},48371,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(6852));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t,r,n){i.default.parseCommand(e,t,r,n),e.push("WITHCURSOR"),n?.COUNT!==void 0&&e.push("COUNT",n.COUNT.toString()),n?.MAXIDLE!==void 0&&e.push("MAXIDLE",n.MAXIDLE.toString())},transformReply:{2:e=>({...i.default.transformReply[2](e[0]),cursor:e[1]}),3:void 0},unstableResp3:!0}},38007,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALIASADD",t,r)},transformReply:void 0}},11316,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.ALIASDEL",t)},transformReply:void 0}},79126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.ALIASUPDATE",t,r)},transformReply:void 0}},37278,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.CONFIG","GET",t)},transformReply(e){let t=Object.create(null);for(let r of e){let[e,n]=r;t[e.toString()]=n}return t}}},86518,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.CONFIG","SET",t,r)},transformReply:void 0}},51233,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.CURSOR","DEL",t,r.toString())},transformReply:void 0}},7463,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("FT.CURSOR","READ",t,r.toString()),n?.COUNT!==void 0&&e.push("COUNT",n.COUNT.toString())},transformReply:n(e.r(48371)).default.transformReply,unstableResp3:!0}},25551,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DICTADD",t),e.pushVariadic(r)},transformReply:void 0}},57795,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DICTDEL",t),e.pushVariadic(r)},transformReply:void 0}},30615,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.DICTDUMP",t)},transformReply:{2:void 0,3:void 0}}},26259,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.DROPINDEX",t),r?.DD&&e.push("DD")},transformReply:{2:void 0,3:void 0}}},53524,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(41224),i=e.r(51323);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("FT.EXPLAIN",t,r),(0,n.parseParamsArgument)(e,s?.PARAMS),s?.DIALECT?e.push("DIALECT",s.DIALECT.toString()):e.push("DIALECT",i.DEFAULT_DIALECT)},transformReply:void 0}},19796,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(51323);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,i){e.push("FT.EXPLAINCLI",t,r),i?.DIALECT?e.push("DIALECT",i.DIALECT.toString()):e.push("DIALECT",n.DEFAULT_DIALECT)},transformReply:void 0}},9860,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.INFO",t)},transformReply:{2:function(e,t,r){let i=(0,n.createTransformTuplesReplyFunc)(t,r),s={};for(let t=0;t<e.length;t+=2){let a=e[t].toString();switch(a){case"index_name":case"index_options":case"num_docs":case"max_doc_id":case"num_terms":case"num_records":case"total_inverted_index_blocks":case"hash_indexing_failures":case"indexing":case"number_of_uses":case"cleaning":case"stopwords_list":s[a]=e[t+1];break;case"inverted_sz_mb":case"vector_index_sz_mb":case"offset_vectors_sz_mb":case"doc_table_size_mb":case"sortable_values_size_mb":case"key_table_size_mb":case"text_overhead_sz_mb":case"tag_overhead_sz_mb":case"total_index_memory_sz_mb":case"geoshapes_sz_mb":case"records_per_doc_avg":case"bytes_per_record_avg":case"offsets_per_term_avg":case"offset_bits_per_record_avg":case"total_indexing_time":case"percent_indexed":s[a]=n.transformDoubleReply[2](e[t+1],void 0,r);break;case"index_definition":s[a]=i(e[t+1]);break;case"attributes":s[a]=e[t+1].map(e=>i(e));break;case"gc_stats":{let i={},o=e[t+1];for(let e=0;e<o.length;e+=2){let t=o[e].toString();switch(t){case"bytes_collected":case"total_ms_run":case"total_cycles":case"average_cycle_time_ms":case"last_run_time_ms":case"gc_numeric_trees_missed":case"gc_blocks_denied":i[t]=n.transformDoubleReply[2](o[e+1],void 0,r)}}s[a]=i;break}case"cursor_stats":{let r={},n=e[t+1];for(let e=0;e<n.length;e+=2){let t=n[e].toString();switch(t){case"global_idle":case"global_total":case"index_capacity":case"index_total":r[t]=n[e+1]}}s[a]=r}}}return s},3:void 0},unstableResp3:!0}},67462,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(41224));r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("FT.PROFILE",t,"SEARCH"),n?.LIMITED&&e.push("LIMITED"),e.push("QUERY",r),(0,a.parseSearchOptions)(e,n)},transformReply:{2:e=>({results:a.default.transformReply[2](e[0]),profile:e[1]}),3:e=>e},unstableResp3:!0}},25955,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(6852));r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("FT.PROFILE",t,"AGGREGATE"),n?.LIMITED&&e.push("LIMITED"),e.push("QUERY",r),(0,a.parseAggregateOptions)(e,n)},transformReply:{2:e=>({results:a.default.transformReply[2](e[0]),profile:e[1]}),3:e=>e},unstableResp3:!0}},32766,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(41224));r.default={NOT_KEYED_COMMAND:i.default.NOT_KEYED_COMMAND,IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(...e){i.default.parseCommand(...e),e[0].push("NOCONTENT")},transformReply:{2:e=>({total:e[0],documents:e.slice(1)}),3:void 0},unstableResp3:!0}},60839,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(51323);function i(e,{mode:t,dictionary:r}){e.push("TERMS",t,r)}r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,s){if(e.push("FT.SPELLCHECK",t,r),s?.DISTANCE&&e.push("DISTANCE",s.DISTANCE.toString()),s?.TERMS)if(Array.isArray(s.TERMS))for(let t of s.TERMS)i(e,t);else i(e,s.TERMS);s?.DIALECT?e.push("DIALECT",s.DIALECT.toString()):e.push("DIALECT",n.DEFAULT_DIALECT)},transformReply:{2:e=>e.map(([,e,t])=>({term:e,suggestions:t.map(([e,t])=>({score:Number(e),suggestion:t}))})),3:void 0},unstableResp3:!0}},25977,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n,i){e.push("FT.SUGADD"),e.pushKey(t),e.push(r,n.toString()),i?.INCR&&e.push("INCR"),i?.PAYLOAD&&e.push("PAYLOAD",i.PAYLOAD)},transformReply:void 0}},58396,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.SUGDEL"),e.pushKey(t),e.push(r)},transformReply:void 0}},51417,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,n){e.push("FT.SUGGET"),e.pushKey(t),e.push(r),n?.FUZZY&&e.push("FUZZY"),n?.MAX!==void 0&&e.push("MAX",n.MAX.toString())},transformReply:void 0}},77241,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(51417));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){s.default.parseCommand(...e),e[0].push("WITHPAYLOADS")},transformReply(e){if((0,i.isNullReply)(e))return null;let t=Array(e.length/2),r=0,n=0;for(;r<e.length;)t[n++]={suggestion:e[r++],payload:e[r++]};return t}}},71868,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(51417));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){s.default.parseCommand(...e),e[0].push("WITHSCORES","WITHPAYLOADS")},transformReply:{2:(e,t,r)=>{if((0,i.isNullReply)(e))return null;let n=Array(e.length/3),s=0,a=0;for(;s<e.length;)n[a++]={suggestion:e[s++],score:i.transformDoubleReply[2](e[s++],t,r),payload:e[s++]};return n},3:e=>{if((0,i.isNullReply)(e))return null;let t=Array(e.length/3),r=0,n=0;for(;r<e.length;)t[n++]={suggestion:e[r++],score:e[r++],payload:e[r++]};return t}}}},23096,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=e.r(82274),s=n(e.r(51417));r.default={IS_READ_ONLY:s.default.IS_READ_ONLY,parseCommand(...e){s.default.parseCommand(...e),e[0].push("WITHSCORES")},transformReply:{2:(e,t,r)=>{if((0,i.isNullReply)(e))return null;let n=Array(e.length/2),s=0,a=0;for(;s<e.length;)n[a++]={suggestion:e[s++],score:i.transformDoubleReply[2](e[s++],t,r)};return n},3:e=>{if((0,i.isNullReply)(e))return null;let t=Array(e.length/2),r=0,n=0;for(;r<e.length;)t[n++]={suggestion:e[r++],score:e[r++]};return t}}}},17823,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.SUGLEN",t)},transformReply:void 0}},57812,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("FT.SYNDUMP",t)},transformReply:{2:e=>{let t={},r=0;for(;r<e.length;){let n=e[r++].toString(),i=e[r++];t[n]=i}return t},3:void 0}}},29040,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r,n,i){e.push("FT.SYNUPDATE",t,r),i?.SKIPINITIALSCAN&&e.push("SKIPINITIALSCAN"),e.pushVariadic(n)},transformReply:void 0}},67447,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("FT.TAGVALS",t,r)},transformReply:{2:void 0,3:void 0}}},82156,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(48106)),s=n(e.r(98946)),a=n(e.r(48371)),o=n(e.r(6852)),u=n(e.r(38007)),l=n(e.r(11316)),c=n(e.r(79126)),d=n(e.r(37278)),p=n(e.r(86518)),f=n(e.r(77247)),h=n(e.r(51233)),m=n(e.r(7463)),g=n(e.r(25551)),y=n(e.r(57795)),_=n(e.r(30615)),b=n(e.r(26259)),v=n(e.r(53524)),E=n(e.r(19796)),S=n(e.r(9860)),w=n(e.r(67462)),R=n(e.r(25955)),O=n(e.r(32766)),A=n(e.r(41224)),T=n(e.r(60839)),I=n(e.r(25977)),C=n(e.r(58396)),N=n(e.r(77241)),P=n(e.r(71868)),x=n(e.r(23096)),D=n(e.r(51417)),k=n(e.r(17823)),L=n(e.r(57812)),M=n(e.r(29040)),$=n(e.r(67447));r.default={_LIST:i.default,_list:i.default,ALTER:s.default,alter:s.default,AGGREGATE_WITHCURSOR:a.default,aggregateWithCursor:a.default,AGGREGATE:o.default,aggregate:o.default,ALIASADD:u.default,aliasAdd:u.default,ALIASDEL:l.default,aliasDel:l.default,ALIASUPDATE:c.default,aliasUpdate:c.default,CONFIG_GET:d.default,configGet:d.default,CONFIG_SET:p.default,configSet:p.default,CREATE:f.default,create:f.default,CURSOR_DEL:h.default,cursorDel:h.default,CURSOR_READ:m.default,cursorRead:m.default,DICTADD:g.default,dictAdd:g.default,DICTDEL:y.default,dictDel:y.default,DICTDUMP:_.default,dictDump:_.default,DROPINDEX:b.default,dropIndex:b.default,EXPLAIN:v.default,explain:v.default,EXPLAINCLI:E.default,explainCli:E.default,INFO:S.default,info:S.default,PROFILESEARCH:w.default,profileSearch:w.default,PROFILEAGGREGATE:R.default,profileAggregate:R.default,SEARCH_NOCONTENT:O.default,searchNoContent:O.default,SEARCH:A.default,search:A.default,SPELLCHECK:T.default,spellCheck:T.default,SUGADD:I.default,sugAdd:I.default,SUGDEL:C.default,sugDel:C.default,SUGGET_WITHPAYLOADS:N.default,sugGetWithPayloads:N.default,SUGGET_WITHSCORES_WITHPAYLOADS:P.default,sugGetWithScoresWithPayloads:P.default,SUGGET_WITHSCORES:x.default,sugGetWithScores:x.default,SUGGET:D.default,sugGet:D.default,SUGLEN:k.default,sugLen:k.default,SYNDUMP:L.default,synDump:L.default,SYNUPDATE:M.default,synUpdate:M.default,TAGVALS:$.default,tagVals:$.default}},22385,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.FT_AGGREGATE_STEPS=r.FT_AGGREGATE_GROUP_BY_REDUCERS=r.SCHEMA_VECTOR_FIELD_ALGORITHM=r.SCHEMA_TEXT_FIELD_PHONETIC=r.SCHEMA_FIELD_TYPE=r.REDISEARCH_LANGUAGE=r.default=void 0;var i=e.r(82156);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}});var s=e.r(77247);Object.defineProperty(r,"REDISEARCH_LANGUAGE",{enumerable:!0,get:function(){return s.REDISEARCH_LANGUAGE}}),Object.defineProperty(r,"SCHEMA_FIELD_TYPE",{enumerable:!0,get:function(){return s.SCHEMA_FIELD_TYPE}}),Object.defineProperty(r,"SCHEMA_TEXT_FIELD_PHONETIC",{enumerable:!0,get:function(){return s.SCHEMA_TEXT_FIELD_PHONETIC}}),Object.defineProperty(r,"SCHEMA_VECTOR_FIELD_ALGORITHM",{enumerable:!0,get:function(){return s.SCHEMA_VECTOR_FIELD_ALGORITHM}});var a=e.r(6852);Object.defineProperty(r,"FT_AGGREGATE_GROUP_BY_REDUCERS",{enumerable:!0,get:function(){return a.FT_AGGREGATE_GROUP_BY_REDUCERS}}),Object.defineProperty(r,"FT_AGGREGATE_STEPS",{enumerable:!0,get:function(){return a.FT_AGGREGATE_STEPS}})},17367,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformRESP2LabelsWithSources=r.transformRESP2Labels=r.parseSelectedLabelsArguments=r.resp3MapToValue=r.resp2MapToValue=r.transformSamplesReply=r.transformSampleReply=r.parseLabelsArgument=r.transformTimestampArgument=r.parseDuplicatePolicy=r.TIME_SERIES_DUPLICATE_POLICIES=r.parseChunkSizeArgument=r.parseEncodingArgument=r.TIME_SERIES_ENCODING=r.parseRetentionArgument=r.parseIgnoreArgument=void 0;let n=e.r(2256);r.parseIgnoreArgument=function(e,t){void 0!==t&&e.push("IGNORE",t.maxTimeDiff.toString(),t.maxValDiff.toString())},r.parseRetentionArgument=function(e,t){void 0!==t&&e.push("RETENTION",t.toString())},r.TIME_SERIES_ENCODING={COMPRESSED:"COMPRESSED",UNCOMPRESSED:"UNCOMPRESSED"},r.parseEncodingArgument=function(e,t){void 0!==t&&e.push("ENCODING",t)},r.parseChunkSizeArgument=function(e,t){void 0!==t&&e.push("CHUNK_SIZE",t.toString())},r.TIME_SERIES_DUPLICATE_POLICIES={BLOCK:"BLOCK",FIRST:"FIRST",LAST:"LAST",MIN:"MIN",MAX:"MAX",SUM:"SUM"},r.parseDuplicatePolicy=function(e,t){void 0!==t&&e.push("DUPLICATE_POLICY",t)},r.transformTimestampArgument=function(e){return"string"==typeof e?e:("number"==typeof e?e:e.getTime()).toString()},r.parseLabelsArgument=function(e,t){if(t)for(let[r,n]of(e.push("LABELS"),Object.entries(t)))e.push(r,n)},r.transformSampleReply={2(e){let[t,r]=e;return{timestamp:t,value:Number(r)}},3(e){let[t,r]=e;return{timestamp:t,value:r}}},r.transformSamplesReply={2:e=>e.map(e=>r.transformSampleReply[2](e)),3:e=>e.map(e=>r.transformSampleReply[3](e))},r.resp2MapToValue=function(e,t,r){switch(r?.[n.RESP_TYPES.MAP]){case Map:{let r=new Map;for(let n of e){let e=n[0];r.set(e.toString(),t(n))}return r}case Array:for(let r of e)r[1]=t(r);return e;default:{let r=Object.create(null);for(let n of e)r[n[0].toString()]=t(n);return r}}},r.resp3MapToValue=function(e,t){if(e instanceof Array)for(let r=1;r<e.length;r+=2)e[r]=t(e[r]);else if(e instanceof Map)for(let[r,n]of e.entries())e.set(r,t(n));else for(let[r,n]of Object.entries(e))e[r]=t(n);return e},r.parseSelectedLabelsArguments=function(e,t){e.push("SELECTED_LABELS"),e.pushVariadic(t)},r.transformRESP2Labels=function(e,t){switch(t?.[n.RESP_TYPES.MAP]){case Map:let r=new Map;for(let t of e){let[e,n]=t;r.set(e.toString(),n)}return r;case Array:return e.flat();default:let i=Object.create(null);for(let t of e){let[e,r]=t;i[e.toString()]=r}return i}},r.transformRESP2LabelsWithSources=function(e,t){let r,i=e.length-2;switch(t?.[n.RESP_TYPES.MAP]){case Map:let s=new Map;for(let t=0;t<i;t++){let[r,n]=e[t];s.set(r.toString(),n)}r=s;break;case Array:r=e.slice(0,i).flat();break;default:let a=Object.create(null);for(let t=0;t<i;t++){let[r,n]=e[t];a[r.toString()]=n}r=a}return{labels:r,sources:function(e){if("string"==typeof e)return e.split(",");let t=e.indexOf(",");if(-1===t)return[e];let r=[e.subarray(0,t)],n=t+1;for(;;){let t=e.indexOf(",",n);if(-1===t){r.push(e.subarray(n));break}let i=e.subarray(n,t);r.push(i),n=t+1}return r}(e[e.length-1][1])}}},7083,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17367);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i,s){e.push("TS.ADD"),e.pushKey(t),e.push((0,n.transformTimestampArgument)(r),i.toString()),(0,n.parseRetentionArgument)(e,s?.RETENTION),(0,n.parseEncodingArgument)(e,s?.ENCODING),(0,n.parseChunkSizeArgument)(e,s?.CHUNK_SIZE),s?.ON_DUPLICATE&&e.push("ON_DUPLICATE",s.ON_DUPLICATE),(0,n.parseLabelsArgument)(e,s?.LABELS),(0,n.parseIgnoreArgument)(e,s?.IGNORE)},transformReply:void 0}},76847,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17367);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.ALTER"),e.pushKey(t),(0,n.parseRetentionArgument)(e,r?.RETENTION),(0,n.parseChunkSizeArgument)(e,r?.CHUNK_SIZE),(0,n.parseDuplicatePolicy)(e,r?.DUPLICATE_POLICY),(0,n.parseLabelsArgument)(e,r?.LABELS),(0,n.parseIgnoreArgument)(e,r?.IGNORE)},transformReply:void 0}},82442,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17367);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.CREATE"),e.pushKey(t),(0,n.parseRetentionArgument)(e,r?.RETENTION),(0,n.parseEncodingArgument)(e,r?.ENCODING),(0,n.parseChunkSizeArgument)(e,r?.CHUNK_SIZE),(0,n.parseDuplicatePolicy)(e,r?.DUPLICATE_POLICY),(0,n.parseLabelsArgument)(e,r?.LABELS),(0,n.parseIgnoreArgument)(e,r?.IGNORE)},transformReply:void 0}},37110,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TIME_SERIES_AGGREGATION_TYPE=void 0,r.TIME_SERIES_AGGREGATION_TYPE={AVG:"AVG",FIRST:"FIRST",LAST:"LAST",MIN:"MIN",MAX:"MAX",SUM:"SUM",RANGE:"RANGE",COUNT:"COUNT",STD_P:"STD.P",STD_S:"STD.S",VAR_P:"VAR.P",VAR_S:"VAR.S",TWA:"TWA"},r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,n,i,s){e.push("TS.CREATERULE"),e.pushKeys([t,r]),e.push("AGGREGATION",n,i.toString()),void 0!==s&&e.push(s.toString())},transformReply:void 0}},88858,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseIncrByArguments=void 0;let n=e.r(17367);function i(e,t,r,i){e.pushKey(t),e.push(r.toString()),i?.TIMESTAMP!==void 0&&i?.TIMESTAMP!==null&&e.push("TIMESTAMP",(0,n.transformTimestampArgument)(i.TIMESTAMP)),(0,n.parseRetentionArgument)(e,i?.RETENTION),i?.UNCOMPRESSED&&e.push("UNCOMPRESSED"),(0,n.parseChunkSizeArgument)(e,i?.CHUNK_SIZE),(0,n.parseLabelsArgument)(e,i?.LABELS),(0,n.parseIgnoreArgument)(e,i?.IGNORE)}r.parseIncrByArguments=i,r.default={IS_READ_ONLY:!1,parseCommand(...e){e[0].push("TS.INCRBY"),i(...e)},transformReply:void 0}},68716,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(88858));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TS.DECRBY"),(0,a.parseIncrByArguments)(...e)},transformReply:a.default.transformReply}},375,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17367);r.default={IS_READ_ONLY:!1,parseCommand(e,t,r,i){e.push("TS.DEL"),e.pushKey(t),e.push((0,n.transformTimestampArgument)(r),(0,n.transformTimestampArgument)(i))},transformReply:void 0}},51763,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!1,parseCommand(e,t,r){e.push("TS.DELETERULE"),e.pushKeys([t,r])},transformReply:void 0}},18356,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.GET"),e.pushKey(t),r?.LATEST&&e.push("LATEST")},transformReply:{2:e=>0===e.length?null:{timestamp:e[0],value:Number(e[1])},3:e=>0===e.length?null:{timestamp:e[0],value:e[1]}}}},66799,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(82274);r.default={IS_READ_ONLY:!0,parseCommand(e,t){e.push("TS.INFO"),e.pushKey(t)},transformReply:{2:(e,t,r)=>{let i={};for(let t=0;t<e.length;t+=2){let s=e[t].toString();switch(s){case"totalSamples":case"memoryUsage":case"firstTimestamp":case"lastTimestamp":case"retentionTime":case"chunkCount":case"chunkSize":case"chunkType":case"duplicatePolicy":case"sourceKey":case"ignoreMaxTimeDiff":i[s]=e[t+1];break;case"labels":i[s]=e[t+1].map(([e,t])=>({name:e,value:t}));break;case"rules":i[s]=e[t+1].map(([e,t,r])=>({key:e,timeBucket:t,aggregationType:r}));break;case"ignoreMaxValDiff":i[s]=n.transformDoubleReply[2](e[27],void 0,r)}}return i},3:void 0},unstableResp3:!0}},51971,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let i=n(e.r(66799));r.default={IS_READ_ONLY:i.default.IS_READ_ONLY,parseCommand(e,t){i.default.parseCommand(e,t),e.push("DEBUG")},transformReply:{2:(e,t,r)=>{let n=i.default.transformReply[2](e,t,r);for(let t=0;t<e.length;t+=2){let r=e[t].toString();switch(r){case"keySelfName":n[r]=e[t+1];break;case"Chunks":n.chunks=e[t+1].map(e=>({startTimestamp:e[1],endTimestamp:e[3],samples:e[5],size:e[7],bytesPerSample:e[9]}))}}return n},3:void 0},unstableResp3:!0}},61126,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(17367);r.default={IS_READ_ONLY:!1,parseCommand(e,t){for(let{key:r,timestamp:i,value:s}of(e.push("TS.MADD"),t))e.pushKey(r),e.push((0,n.transformTimestampArgument)(i),s.toString())},transformReply:void 0}},4721,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.parseFilterArgument=r.parseLatestArgument=void 0;let n=e.r(17367);function i(e,t){t&&e.push("LATEST")}function s(e,t){e.push("FILTER"),e.pushVariadic(t)}r.parseLatestArgument=i,r.parseFilterArgument=s,r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.MGET"),i(e,r?.LATEST),s(e,t)},transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([,,e])=>({sample:n.transformSampleReply[2](e)}),r),3:e=>(0,n.resp3MapToValue)(e,([,e])=>({sample:n.transformSampleReply[3](e)}))}}},66523,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createTransformMGetLabelsReply=void 0;let n=e.r(4721),i=e.r(17367);function s(){return{2:(e,t,r)=>(0,i.resp2MapToValue)(e,([,e,t])=>({labels:(0,i.transformRESP2Labels)(e),sample:i.transformSampleReply[2](t)}),r),3:e=>(0,i.resp3MapToValue)(e,([e,t])=>({labels:e,sample:i.transformSampleReply[3](t)}))}}r.createTransformMGetLabelsReply=s,r.default={IS_READ_ONLY:!0,parseCommand(e,t,r){e.push("TS.MGET"),(0,n.parseLatestArgument)(e,r?.LATEST),e.push("WITHLABELS"),(0,n.parseFilterArgument)(e,t)},transformReply:s()}},86239,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=e.r(4721),i=e.r(17367);r.default={IS_READ_ONLY:!0,parseCommand(e,t,r,s){e.push("TS.MGET"),(0,n.parseLatestArgument)(e,s?.LATEST),(0,i.parseSelectedLabelsArguments)(e,r),(0,n.parseFilterArgument)(e,t)},transformReply:(0,e.r(66523).createTransformMGetLabelsReply)()}},32643,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.transformRangeArguments=r.parseRangeArguments=r.TIME_SERIES_BUCKET_TIMESTAMP=void 0;let n=e.r(17367);function i(e,t,r,i){if(e.push((0,n.transformTimestampArgument)(t),(0,n.transformTimestampArgument)(r)),i?.LATEST&&e.push("LATEST"),i?.FILTER_BY_TS)for(let t of(e.push("FILTER_BY_TS"),i.FILTER_BY_TS))e.push((0,n.transformTimestampArgument)(t));i?.FILTER_BY_VALUE&&e.push("FILTER_BY_VALUE",i.FILTER_BY_VALUE.min.toString(),i.FILTER_BY_VALUE.max.toString()),i?.COUNT!==void 0&&e.push("COUNT",i.COUNT.toString()),i?.AGGREGATION&&(i?.ALIGN!==void 0&&e.push("ALIGN",(0,n.transformTimestampArgument)(i.ALIGN)),e.push("AGGREGATION",i.AGGREGATION.type,(0,n.transformTimestampArgument)(i.AGGREGATION.timeBucket)),i.AGGREGATION.BUCKETTIMESTAMP&&e.push("BUCKETTIMESTAMP",i.AGGREGATION.BUCKETTIMESTAMP),i.AGGREGATION.EMPTY&&e.push("EMPTY"))}function s(e,t,r,n,s){e.pushKey(t),i(e,r,n,s)}r.TIME_SERIES_BUCKET_TIMESTAMP={LOW:"-",MIDDLE:"~",END:"+"},r.parseRangeArguments=i,r.transformRangeArguments=s,r.default={IS_READ_ONLY:!0,parseCommand(...e){e[0].push("TS.RANGE"),s(...e)},transformReply:{2:e=>n.transformSamplesReply[2](e),3:e=>n.transformSamplesReply[3](e)}}},89385,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractResp3MRangeSources=r.createTransformMRangeGroupByArguments=r.parseGroupByArguments=r.TIME_SERIES_REDUCERS=void 0;let n=e.r(17367),i=e.r(32643),s=e.r(4721);function a(e,t){e.push("GROUPBY",t.label,"REDUCE",t.REDUCE)}function o(e){return(t,r,n,o,u,l)=>{t.push(e),(0,i.parseRangeArguments)(t,r,n,l),(0,s.parseFilterArgument)(t,o),a(t,u)}}function u(e){return e instanceof Map?e.get("sources"):e instanceof Array?e[1]:e.sources}r.TIME_SERIES_REDUCERS={AVG:"AVG",SUM:"SUM",MIN:"MIN",MAX:"MAX",RANGE:"RANGE",COUNT:"COUNT",STD_P:"STD.P",STD_S:"STD.S",VAR_P:"VAR.P",VAR_S:"VAR.S"},r.parseGroupByArguments=a,r.createTransformMRangeGroupByArguments=o,r.extractResp3MRangeSources=u,r.default={IS_READ_ONLY:!0,parseCommand:o("TS.MRANGE"),transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([e,t,r])=>({samples:n.transformSamplesReply[2](r)}),r),3:e=>(0,n.resp3MapToValue)(e,([e,t,r,i])=>({sources:u(r),samples:n.transformSamplesReply[3](i)}))}}},31486,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createTransformMRangeSelectedLabelsArguments=void 0;let n=e.r(17367),i=e.r(32643),s=e.r(4721);function a(e){return(t,r,a,o,u,l)=>{t.push(e),(0,i.parseRangeArguments)(t,r,a,l),(0,n.parseSelectedLabelsArguments)(t,o),(0,s.parseFilterArgument)(t,u)}}r.createTransformMRangeSelectedLabelsArguments=a,r.default={IS_READ_ONLY:!0,parseCommand:a("TS.MRANGE"),transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([e,t,i])=>({labels:(0,n.transformRESP2Labels)(t,r),samples:n.transformSamplesReply[2](i)}),r),3:e=>(0,n.resp3MapToValue)(e,([e,t,r])=>({labels:t,samples:n.transformSamplesReply[3](r)}))}}},57333,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createMRangeSelectedLabelsGroupByTransformArguments=void 0;let i=e.r(17367),s=e.r(32643),a=e.r(89385),o=e.r(4721),u=n(e.r(31486));function l(e){return(t,r,n,u,l,c,d)=>{t.push(e),(0,s.parseRangeArguments)(t,r,n,d),(0,i.parseSelectedLabelsArguments)(t,u),(0,o.parseFilterArgument)(t,l),(0,a.parseGroupByArguments)(t,c)}}r.createMRangeSelectedLabelsGroupByTransformArguments=l,r.default={IS_READ_ONLY:!0,parseCommand:l("TS.MRANGE"),transformReply:{2:u.default.transformReply[2],3:e=>(0,i.resp3MapToValue)(e,([e,t,r,n])=>({labels:e,sources:(0,a.extractResp3MRangeSources)(r),samples:i.transformSamplesReply[3](n)}))}}},92001,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createMRangeWithLabelsGroupByTransformArguments=void 0;let n=e.r(17367),i=e.r(32643),s=e.r(89385),a=e.r(4721);function o(e){return(t,r,n,o,u,l)=>{t.push(e),(0,i.parseRangeArguments)(t,r,n,l),t.push("WITHLABELS"),(0,a.parseFilterArgument)(t,o),(0,s.parseGroupByArguments)(t,u)}}r.createMRangeWithLabelsGroupByTransformArguments=o,r.default={IS_READ_ONLY:!0,parseCommand:o("TS.MRANGE"),transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([e,t,r])=>{let i=(0,n.transformRESP2LabelsWithSources)(t);return{labels:i.labels,sources:i.sources,samples:n.transformSamplesReply[2](r)}},r),3:e=>(0,n.resp3MapToValue)(e,([e,t,r,i])=>({labels:e,sources:(0,s.extractResp3MRangeSources)(r),samples:n.transformSamplesReply[3](i)}))}}},78867,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createTransformMRangeWithLabelsArguments=void 0;let n=e.r(17367),i=e.r(32643),s=e.r(4721);function a(e){return(t,r,n,a,o)=>{t.push(e),(0,i.parseRangeArguments)(t,r,n,o),t.push("WITHLABELS"),(0,s.parseFilterArgument)(t,a)}}r.createTransformMRangeWithLabelsArguments=a,r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand:a("TS.MRANGE"),transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([e,t,r])=>{let i=Object.create(null);for(let e of t){let[t,r]=e;i[t.toString()]=r}return{labels:i,samples:n.transformSamplesReply[2](r)}},r),3:e=>(0,n.resp3MapToValue)(e,([e,t,r])=>({labels:e,samples:n.transformSamplesReply[3](r)}))}}},47287,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createTransformMRangeArguments=void 0;let n=e.r(17367),i=e.r(32643),s=e.r(4721);function a(e){return(t,r,n,a,o)=>{t.push(e),(0,i.parseRangeArguments)(t,r,n,o),(0,s.parseFilterArgument)(t,a)}}r.createTransformMRangeArguments=a,r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand:a("TS.MRANGE"),transformReply:{2:(e,t,r)=>(0,n.resp2MapToValue)(e,([e,t,r])=>n.transformSamplesReply[2](r),r),3:e=>(0,n.resp3MapToValue)(e,([e,t,r])=>n.transformSamplesReply[3](r))}}},83914,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(89385));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createTransformMRangeGroupByArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},18523,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(57333));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createMRangeSelectedLabelsGroupByTransformArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},9410,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(31486));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createTransformMRangeSelectedLabelsArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},28446,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(92001));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createMRangeWithLabelsGroupByTransformArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},1994,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(78867));r.default={NOT_KEYED_COMMAND:a.default.NOT_KEYED_COMMAND,IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createTransformMRangeWithLabelsArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},63312,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(47287));r.default={NOT_KEYED_COMMAND:a.default.NOT_KEYED_COMMAND,IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand:(0,a.createTransformMRangeArguments)("TS.MREVRANGE"),transformReply:a.default.transformReply}},59183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default={NOT_KEYED_COMMAND:!0,IS_READ_ONLY:!0,parseCommand(e,t){e.push("TS.QUERYINDEX"),e.pushVariadic(t)},transformReply:{2:void 0,3:void 0}}},21306,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=e.e&&e.e.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(32643));r.default={IS_READ_ONLY:a.default.IS_READ_ONLY,parseCommand(...e){e[0].push("TS.REVRANGE"),(0,a.transformRangeArguments)(...e)},transformReply:a.default.transformReply}},53304,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});let a=s(e.r(7083)),o=s(e.r(76847)),u=s(e.r(82442)),l=s(e.r(37110)),c=s(e.r(68716)),d=s(e.r(375)),p=s(e.r(51763)),f=s(e.r(18356)),h=s(e.r(88858)),m=s(e.r(51971)),g=s(e.r(66799)),y=s(e.r(61126)),_=s(e.r(86239)),b=s(e.r(66523)),v=s(e.r(4721)),E=s(e.r(89385)),S=s(e.r(57333)),w=s(e.r(31486)),R=s(e.r(92001)),O=s(e.r(78867)),A=s(e.r(47287)),T=s(e.r(83914)),I=s(e.r(18523)),C=s(e.r(9410)),N=s(e.r(28446)),P=s(e.r(1994)),x=s(e.r(63312)),D=s(e.r(59183)),k=s(e.r(32643)),L=s(e.r(21306));i(e.r(17367),r),r.default={ADD:a.default,add:a.default,ALTER:o.default,alter:o.default,CREATE:u.default,create:u.default,CREATERULE:l.default,createRule:l.default,DECRBY:c.default,decrBy:c.default,DEL:d.default,del:d.default,DELETERULE:p.default,deleteRule:p.default,GET:f.default,get:f.default,INCRBY:h.default,incrBy:h.default,INFO_DEBUG:m.default,infoDebug:m.default,INFO:g.default,info:g.default,MADD:y.default,mAdd:y.default,MGET_SELECTED_LABELS:_.default,mGetSelectedLabels:_.default,MGET_WITHLABELS:b.default,mGetWithLabels:b.default,MGET:v.default,mGet:v.default,MRANGE_GROUPBY:E.default,mRangeGroupBy:E.default,MRANGE_SELECTED_LABELS_GROUPBY:S.default,mRangeSelectedLabelsGroupBy:S.default,MRANGE_SELECTED_LABELS:w.default,mRangeSelectedLabels:w.default,MRANGE_WITHLABELS_GROUPBY:R.default,mRangeWithLabelsGroupBy:R.default,MRANGE_WITHLABELS:O.default,mRangeWithLabels:O.default,MRANGE:A.default,mRange:A.default,MREVRANGE_GROUPBY:T.default,mRevRangeGroupBy:T.default,MREVRANGE_SELECTED_LABELS_GROUPBY:I.default,mRevRangeSelectedLabelsGroupBy:I.default,MREVRANGE_SELECTED_LABELS:C.default,mRevRangeSelectedLabels:C.default,MREVRANGE_WITHLABELS_GROUPBY:N.default,mRevRangeWithLabelsGroupBy:N.default,MREVRANGE_WITHLABELS:P.default,mRevRangeWithLabels:P.default,MREVRANGE:x.default,mRevRange:x.default,QUERYINDEX:D.default,queryIndex:D.default,RANGE:k.default,range:k.default,REVRANGE:L.default,revRange:L.default}},54896,(e,t,r)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TIME_SERIES_REDUCERS=r.TIME_SERIES_BUCKET_TIMESTAMP=r.TIME_SERIES_AGGREGATION_TYPE=r.TIME_SERIES_DUPLICATE_POLICIES=r.TIME_SERIES_ENCODING=r.default=void 0;var i=e.r(53304);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}}),Object.defineProperty(r,"TIME_SERIES_ENCODING",{enumerable:!0,get:function(){return i.TIME_SERIES_ENCODING}}),Object.defineProperty(r,"TIME_SERIES_DUPLICATE_POLICIES",{enumerable:!0,get:function(){return i.TIME_SERIES_DUPLICATE_POLICIES}});var s=e.r(37110);Object.defineProperty(r,"TIME_SERIES_AGGREGATION_TYPE",{enumerable:!0,get:function(){return s.TIME_SERIES_AGGREGATION_TYPE}});var a=e.r(32643);Object.defineProperty(r,"TIME_SERIES_BUCKET_TIMESTAMP",{enumerable:!0,get:function(){return a.TIME_SERIES_BUCKET_TIMESTAMP}});var o=e.r(89385);Object.defineProperty(r,"TIME_SERIES_REDUCERS",{enumerable:!0,get:function(){return o.TIME_SERIES_REDUCERS}})},31347,(e,t,r)=>{"use strict";var n=e.e&&e.e.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=e.e&&e.e.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.createSentinel=r.createCluster=r.createClientPool=r.createClient=void 0;let a=e.r(2256),o=s(e.r(51854)),u=s(e.r(14611)),l=s(e.r(22385)),c=s(e.r(54896));i(e.r(2256),r),i(e.r(51854),r),i(e.r(14611),r),i(e.r(22385),r),i(e.r(54896),r);let d={...o.default,json:u.default,ft:l.default,ts:c.default};r.createClient=function(e){return(0,a.createClient)({...e,modules:{...d,...e?.modules}})},r.createClientPool=function(e,t){return(0,a.createClientPool)({...e,modules:{...d,...e?.modules}},t)},r.createCluster=function(e){return(0,a.createCluster)({...e,modules:{...d,...e?.modules}})},r.createSentinel=function(e){return(0,a.createSentinel)({...e,modules:{...d,...e?.modules}})}},79917,e=>e.a(async(t,r)=>{try{e.s(["cache",()=>t]);var n=e.i(31347);let t=(0,n.createClient)({socket:{host:process.env.CACHE_HOST,port:Number(process.env.CACHE_PORT)}});await t.connect(),r()}catch(e){r(e)}},!0),21973,e=>e.a(async(t,r)=>{try{e.s(["auth",()=>l]);var n=e.i(4651),i=e.i(77965);e.i(3056);var s=e.i(18918),a=e.i(94752),o=e.i(79917),u=t([n,o]);[n,o]=u.then?(await u)():u;let l=(0,s.betterAuth)({database:(0,a.drizzleAdapter)(n.db,{provider:"pg",schema:i}),advanced:{database:{generateId:!1,useNumberId:!1}},schema:{user:i.user,session:i.session,account:i.account,verification:i.verification},secondaryStorage:{get:async e=>await o.cache.get(e),set:async(e,t)=>{await o.cache.set(e,t)},delete:async e=>{await o.cache.del(e)}},secret:process.env.BETTER_AUTH_SECRET,baseURL:process.env.BETTER_AUTH_URL,emailAndPassword:{enabled:!1},session:{expiresIn:604800,updateAge:86400,cookieCache:{enabled:!0,maxAge:300}},socialProviders:{github:{clientId:process.env.GITHUB_CLIENT_ID,clientSecret:process.env.GITHUB_CLIENT_SECRET},google:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}}});r()}catch(e){r(e)}},!1),85777,e=>e.a(async(t,r)=>{try{e.s(["config",()=>u,"middleware",()=>o]);var n=e.i(27180),i=e.i(55207),s=e.i(21973),a=t([s]);[s]=a.then?(await a)():a;let o=async e=>{if(e.nextUrl.pathname.startsWith("/api/auth"))return i.NextResponse.next();let t=await s.auth.api.getSession({headers:await (0,n.headers)()});return e.nextUrl.pathname.startsWith("/auth")?t?i.NextResponse.redirect(new URL("/dashboard",e.url)):i.NextResponse.next():t?i.NextResponse.next():i.NextResponse.redirect(new URL("/auth",e.url))},u={runtime:"nodejs",matcher:["/dashboard","/auth"]};r()}catch(e){r(e)}},!1),63234,e=>{"use strict";e.s([],63234),Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})},28775,e=>e.a(async(t,r)=>{try{e.s(["default",()=>o]);var n=e.i(75685),i=e.i(23379),s=e.i(85777);e.i(63234);var a=t([s]);[s]=a.then?(await a)():a;let u={...s},l=u.middleware||u.default,c="/middleware";if("function"!=typeof l)throw Object.defineProperty(Error(`The Middleware "${c}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function o(e){return(0,i.adapter)({...e,page:c,handler:async(...e)=>{try{return await l(...e)}catch(s){let t=e[0],r=new URL(t.url),i=r.pathname+r.search;throw await (0,n.edgeInstrumentationOnRequestError)(s,{path:i,method:t.method,headers:Object.fromEntries(t.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),s}}})}r()}catch(e){r(e)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__8b5c508b._.js.map